app||(app={}),function(e,t,i){app.AcabadopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("acabadosp.index"))},idAttribute:"id",defaults:{acabadop_nombre:"",acabadop_descripcion:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ActividadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("actividades.index"))},idAttribute:"id",defaults:{actividad_codigo:"",actividad_nombre:"",actividad_tarifa:"0",actividad_categoria:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ActividadpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("actividadesp.index"))},idAttribute:"id",defaults:{actividadp_nombre:"",actividadp_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.AreapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("areasp.index"))},idAttribute:"id",defaults:{areap_nombre:"",areap_valor:0}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.index"))},idAttribute:"id",defaults:{asiento1_ano:moment().format("YYYY"),asiento1_mes:moment().format("M"),asiento1_dia:moment().format("D"),asiento1_folder:"",asiento1_documento:"",documento_tipo_consecutivo:"",asiento1_numero:"",asiento1_beneficiario:"",tercero_nit:"",tercero_nombre:"",asiento1_sucursal:"",asiento1_preguardado:"",asiento1_detalle:"",asiento1_fecha_elaboro:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Asiento2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},idAttribute:"id",defaults:{asiento2_asiento:"",asiento2_cuenta:"",asiento2_beneficiario:"",asiento2_debito:0,asiento2_credito:0,asiento2_centro:"",asiento2_base:0,asiento2_detalle:"",asiento2_orden:"",plancuentas_cuenta:"",plancuentas_nombre:"",tercero_nit:"",tercero_nombre:"",centrocosto_nombre:"",ordenp_codigo:"",ordenp_beneficiario:"",asientoNif2_id:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoMovModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.detalle.movimientos"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoNifModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientosnif.index"))},idAttribute:"id",defaults:{asienton1_ano:moment().format("YYYY"),asienton1_mes:moment().format("M"),asienton1_dia:moment().format("D"),asienton1_folder:"",asienton1_documento:"",documento_tipo_consecutivo:"",asienton1_numero:"",asienton1_beneficiario:"",tercero_nit:"",tercero_nombre:"",asienton1_sucursal:"",asienton1_preguardado:"",asienton1_detalle:"",asienton1_fecha_elaboro:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoNif2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientosnif.detalle.index"))},idAttribute:"id",defaults:{asienton2_asiento:"",asienton2_cuenta:"",asienton2_beneficiario:"",asienton2_debito:0,asienton2_credito:0,asienton2_centro:"",asienton2_base:0,asienton2_detalle:"",asienton2_orden:"",plancuentasn_cuenta:"",plancuentasn_nombre:"",tercero_nit:"",tercero_nombre:"",centrocosto_nombre:"",ordenp_codigo:"",ordenp_beneficiario:""}})}(this,this.document),app||(app={}),function(e,t,i){app.CentroCostoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("centroscosto.index"))},idAttribute:"id",defaults:{centrocosto_codigo:"",centrocosto_centro:"",centrocosto_nombre:"",centrocosto_descripcion1:"",centrocosto_descripcion2:"",centrocosto_estructura:"N",centrocosto_tipo:"N",centrocosto_activo:!0}})}(this,this.document),app||(app={}),function(e,t,i){app.ContactoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},idAttribute:"id",defaults:{tcontacto_nombres:"",tcontacto_apellidos:"",tcontacto_telefono:"",tcontacto_celular:"",tcontacto_municipio:"",tcontacto_direccion:"",tcontacto_direccion_nomenclatura:"",tcontacto_email:"",tcontacto_cargo:""}})}(this,this.document),app||(app={}),function(e,t,i){app.CotizacionModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.index"))},idAttribute:"id",defaults:{cotizacion1_codigo:"",cotizacion1_referencia:"",cotizacion1_cliente:"",tercero_nit:"",tercero_nombre:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",cotizacion1_fecha_inicio:moment().format("YYYY-MM-DD"),cotizacion1_iva:"",cotizacion1_contacto:"",tcontacto_nombre:"",tcontacto_telefono:"",cotizacion1_suministran:"",cotizacion1_formapago:"",cotizacion1_observaciones:"",cotizacion1_terminado:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Cotizacion2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.index"))},idAttribute:"id",defaults:{cotizacion2_referencia:"",cotizacion2_cantidad:1,cotizacion2_precio_formula:"",cotizacion2_transporte_formula:"",cotizacion2_viaticos_formula:"",cotizacion2_precio_round:"",cotizacion2_transporte_round:"",cotizacion2_viaticos_round:"",cotizacion2_precio_venta:0,cotizacion2_transporte:0,cotizacion2_viaticos:0,cotizacion2_redondear:!1,cotizacion2_volumen:0,cotizacion2_vtotal:0,cotizacion2_observaciones:"",cotizacion2_ancho:0,cotizacion2_alto:0,cotizacion2_c_ancho:0,cotizacion2_c_alto:0,cotizacion2_3d_ancho:0,cotizacion2_3d_alto:0,cotizacion2_3d_profundidad:0,cotizacion2_tiro:!1,cotizacion2_yellow:!1,cotizacion2_magenta:!1,cotizacion2_cyan:!1,cotizacion2_key:!1,cotizacion2_color1:!1,cotizacion2_color2:!1,cotizacion2_nota_tiro:"",cotizacion2_retiro:!1,cotizacion2_yellow2:!1,cotizacion2_magenta2:!1,cotizacion2_cyan2:!1,cotizacion2_key2:!1,cotizacion2_color12:!1,cotizacion2_color22:!1,cotizacion2_nota_retiro:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Cotizacion3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.maquinas.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Cotizacion4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.materiales.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Cotizacion5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.acabados.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Cotizacion6Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.areas.index"))},idAttribute:"id",defaults:{cotizacion6_areap:"",cotizacion6_nombre:"",cotizacion6_tiempo:"",cotizacion6_valor:0,areap_nombre:"",total:0}})}(this,this.document),app||(app={}),function(e,t,i){app.DespachopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.DocumentoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("documentos.index"))},idAttribute:"id",defaults:{documento_codigo:"",documento_nombre:"",documento_folder:"",documento_tipo_consecutivo:"A",documento_nif:"",documento_actual:1}})}(this,this.document),app||(app={}),function(e,t,i){app.EmpresaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("empresa.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,actividad_tarifa:"",empresa_niif:"",empresa_iva:""}})}(this,this.document),app||(app={}),function(e,t,i){app.FacturaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.index"))},idAttribute:"id",defaults:{factura1_fecha:moment().format("YYYY-MM-DD"),factura1_fecha_vencimiento:moment().format("YYYY-MM-DD"),tercero_nit:"",tercero_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Factura2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.facturado.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Factura3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.comentario.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Factura4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.detalle.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.FacturapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturap.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Facturap2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturap.cuotas.index"))},idAttribute:"id",defaults:{facturap2_factura:"",facturap2_cuota:"",facturap2_vencimiento:"",facturap2_valor:0,facturap2_saldo:0}})}(this,this.document),app||(app={}),function(e,t,i){app.FolderModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("folders.index"))},idAttribute:"id",defaults:{folder_codigo:"",folder_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.GrupoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("grupos.index"))},idAttribute:"id",defaults:{grupo_codigo:"",grupo_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ItemRolloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},idAttribute:"id",defaults:{prodboderollo_item:0,prodboderollo_centimetro:0,prodboderollo_saldo:0}})}(this,this.document),app||(app={}),function(e,t,i){app.MaquinapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("maquinasp.index"))},idAttribute:"id",defaults:{maquinap_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.MaterialpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("materialesp.index"))},idAttribute:"id",defaults:{materialp_nombre:"",materialp_descripcion:"",materialp_tipomaterial:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ModuloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},idAttribute:"id",defaults:{name:"",display_name:"",nivel1:"",nivel2:"",nivel3:"",nivel4:""}})}(this,this.document),app||(app={}),function(e,t,i){app.OrdenpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.index"))},idAttribute:"id",defaults:{orden_codigo:"",orden_referencia:"",orden_cliente:"",tercero_nit:"",tercero_nombre:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",orden_fecha_inicio:moment().format("YYYY-MM-DD"),orden_fecha_entrega:moment().format("YYYY-MM-DD"),orden_hora_entrega:"",orden_formapago:"",orden_iva:"",orden_contacto:"",tcontacto_nombre:"",tcontacto_telefono:"",orden_suministran:"",orden_observaciones:"",orden_terminado:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Ordenp2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.index"))},idAttribute:"id",defaults:{orden2_referencia:"",orden2_cantidad:0,orden2_precio_formula:"",orden2_transporte_formula:"",orden2_viaticos_formula:"",orden2_precio_round:"",orden2_transporte_round:"",orden2_viaticos_round:"",orden2_transporte:0,orden2_viaticos:0,orden2_precio_venta:0,orden2_observaciones:"",orden2_ancho:0,orden2_alto:0,orden2_c_ancho:0,orden2_c_alto:0,orden2_3d_ancho:0,orden2_3d_alto:0,orden2_3d_profundidad:0,orden2_tiro:!1,orden2_yellow:!1,orden2_magenta:!1,orden2_cyan:!1,orden2_key:!1,orden2_color1:!1,orden2_color2:!1,orden2_nota_tiro:"",orden2_retiro:!1,orden2_yellow2:!1,orden2_magenta2:!1,orden2_cyan2:!1,orden2_key2:!1,orden2_color12:!1,orden2_color22:!1,orden2_nota_retiro:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Ordenp3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.maquinas.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Ordenp4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.materiales.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Ordenp5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.acabados.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.Ordenp6Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.areas.index"))},idAttribute:"id",defaults:{orden6_areap:"",orden6_nombre:"",orden6_tiempo:"",orden6_valor:0,areap_nombre:"",total:0}})}(this,this.document),app||(app={}),function(e,t,i){app.PlanCuentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("plancuentas.index"))},idAttribute:"id",defaults:{plancuentas_cuenta:"",plancuentas_nivel:"",plancuentas_nombre:"",plancuentas_naturaleza:"D",plancuentas_centro:"",plancuentas_tercero:!1,plancuentas_tipo:"N",plancuentas_tasa:0,plancuentas_equivalente:""}})}(this,this.document),app||(app={}),function(e,t,i){app.PlanCuentaNifModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("plancuentasnif.index"))},idAttribute:"id",defaults:{plancuentasn_cuenta:"",plancuentasn_nivel:"",plancuentasn_nombre:"",plancuentasn_naturaleza:"D",plancuentasn_centro:"",plancuentasn_tercero:0,plancuentasn_tipo:"N",plancuentasn_tasa:0}})}(this,this.document),app||(app={}),function(e,t,i){app.ProdBodeModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.prodbode.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.index"))},idAttribute:"id",defaults:{producto_nombre:"",producto_codigo:"",producto_codigoori:"",producto_referencia:"",producto_grupo:"",producto_subgrupo:"",producto_unidadmedida:"",producto_precio:0,producto_costo:0,producto_vidautil:0,producto_unidades:!0,producto_serie:!1,producto_metrado:!1}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.index"))},idAttribute:"id",defaults:{productop_nombre:"",productop_observaciones:"",productop_tiro:!1,productop_retiro:!1,productop_abierto:!1,productop_cerrado:!1,productop_3d:!1,productop_ancho_med:"",productop_alto_med:"",productop_c_med_ancho:"",productop_c_med_alto:"",productop_tipoproductop:"",productop_subtipoproductop:"",subtipoproductop_nombre:"",productop_3d_profundidad_med:"",productop_3d_ancho_med:"",productop_3d_alto_med:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Productop2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.tips.index"))},idAttribute:"id",defaults:{productop2_productop:"",productop2_tip:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Productop3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.areas.index"))},idAttribute:"id",defaults:{productop3_productop:"",productop3_areap:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Productop4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.maquinas.index"))},idAttribute:"id",defaults:{productop4_productop:"",productop4_maquinap:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Productop5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.materiales.index"))},idAttribute:"id",defaults:{productop5_productop:"",productop5_materialp:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Productop6Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.acabados.index"))},idAttribute:"id",defaults:{productop6_productop:"",productop6_acabadop:""}})}(this,this.document),app||(app={}),function(e,t,i){app.PuntoVentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("puntosventa.index"))},idAttribute:"id",defaults:{puntoventa_nombre:"",puntoventa_numero:"",puntoventa_prefijo:"",puntoventa_resolucion_dian:""}})}(this,this.document),app||(app={}),function(e,t,i){app.RolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.index"))},idAttribute:"id",defaults:{name:"",display_name:"",description:"",permissions:[]}})}(this,this.document),app||(app={}),function(e,t,i){app.SubActividadpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subactividadesp.index"))},idAttribute:"id",defaults:{subactividadp_actividadp:"",subactividadp_nombre:"",subactividadp_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.SubGrupoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subgrupos.index"))},idAttribute:"id",defaults:{subgrupo_codigo:"",subgrupo_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.SubtipoProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subtipoproductosp.index"))},idAttribute:"id",defaults:{subtipoproductop_nombre:"",subtipoproductop_tipoproductop:"",subtipoproductop_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.SucursalModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("sucursales.index"))},idAttribute:"id",defaults:{sucursal_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.TerceroModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_formapago:"",tercero_activo:!1,tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,tercero_socio:!1,tercero_cliente:!1,tercero_acreedor:!1,tercero_interno:!1,tercero_mandatario:!1,tercero_empleado:!1,tercero_proveedor:!1,tercero_extranjero:!1,tercero_afiliado:!1,tercero_otro:!1,tercero_tecnico:!1,tercero_coordinador:!1,tercero_coordinador_por:"",tercero_cual:"",username:"",actividad_tarifa:""}})}(this,this.document),app||(app={}),function(e,t,i){app.TiempopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tiemposp.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.TipoMaterialpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tipomaterialesp.index"))},idAttribute:"id",defaults:{tipomaterial_nombre:"",tipomaterial_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.TipoProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tipoproductosp.index"))},idAttribute:"id",defaults:{tipoproductop_nombre:"",tipoproductop_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.TrasladoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("traslados.index"))},idAttribute:"id",defaults:{traslado1_sucursal:"",traslado1_numero:"",traslado1_destino:"",traslado1_fecha:moment().format("YYYY-MM-DD"),traslado1_observaciones:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Traslado2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("traslados.detalle.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.UnidadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("unidades.index"))},idAttribute:"id",defaults:{unidadmedida_sigla:"",unidadmedida_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.UsuarioRolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},idAttribute:"id",defaults:{user_id:"",role_id:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoCuentasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},model:app.Asiento2Model,initialize:function(){},debitos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_debito"))},0)},creditos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_credito"))},0)},totalize:function(){var e=this.debitos(),t=this.creditos();return{debitos:e,creditos:t,diferencia:Math.abs(t-e)}}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoMovimientosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.movimientos"))},model:app.AsientoMovModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoNifCuentasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientosnif.detalle.index"))},model:app.AsientoNif2Model,initialize:function(){},debitos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asienton2_debito"))},0)},creditos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asienton2_credito"))},0)},totalize:function(){var e=this.debitos(),t=this.creditos();return{debitos:e,creditos:t,diferencia:Math.abs(t-e)}}})}(this,this.document),app||(app={}),function(e,t,i){app.AcabadosProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.acabados.index"))},model:app.Cotizacion5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AreasProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.areas.index"))},model:app.Cotizacion6Model,initialize:function(){},validar:function(e){var t={success:!1,message:""};if(_.isNull(e.cotizacion6_areap)||_.isUndefined(e.cotizacion6_areap)||""==e.cotizacion6_areap)var i=_.find(this.models,function(t){return t.get("cotizacion6_nombre")==e.cotizacion6_nombre});else var i=_.find(this.models,function(t){return t.get("cotizacion6_areap")==e.cotizacion6_areap});return i instanceof Backbone.Model?(t.message="El area que intenta ingresar ya existe.",t):(t.success=!0,t)},total:function(){var e=this;return this.reduce(function(t,i){var o=e.convertirMinutos(i);return t+o*parseFloat(i.get("cotizacion6_valor"))},0)},totalRow:function(){var e=this;_.each(this.models,function(t){var i=e.convertirMinutos(t),o=i*parseFloat(t.get("cotizacion6_valor"));t.set("total",Math.round(o))})},convertirMinutos:function(e){var t=e.get("cotizacion6_tiempo").split(":"),i=parseInt(t[0]),o=parseInt(t[1]),n=i+o/60;return parseFloat(n)},totalize:function(){var e=this.total();return this.totalRow(),{total:Math.round(e)}}})}(this,this.document),app||(app={}),function(e,t,i){app.MaquinasProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.maquinas.index"))},model:app.Cotizacion3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.MaterialesProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.materiales.index"))},model:app.Cotizacion4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.index"))},model:app.Cotizacion2Model,initialize:function(){},unidades:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_cantidad"))},0)},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_facturado"))},0)},subtotal:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("cotizacion2_precio_total"))},0)},totalize:function(){var e=this.unidades(),t=this.facturado(),i=this.subtotal();return{unidades:e,facturado:t,subtotal:i}}})}(this,this.document),app||(app={}),function(e,t,i){app.DetalleFactura2List=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturas.facturado.index"))},model:app.Factura2Model,initialize:function(){},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("factura2_cantidad"))},0)},validar:function(e){var t={success:!1,error:""},i=_.find(this.models,function(t){return t.get("id")==e.factura1_orden});return i instanceof Backbone.Model?(t.error="La orden No. "+e.factura1_orden+" ya se encuentra registrada.",t):(t.success=!0,t)},renderSubtotal:function(){_.each(this.models,function(t){var i=parseInt(t.get("factura2_cantidad"))*parseFloat(t.get("orden2_total_valor_unitario"));$("#subtotal_"+t.get("id")).html(e.Misc.currency(i))})},totalize:function(){var e=this.facturado();return this.renderSubtotal(),{facturado:e}}})}(this,this.document),app||(app={}),function(e,t,i){app.DetalleFactura4List=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturas.detalle.index"))},model:app.Factura4Model,initialize:function(){},valor:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("factura4_saldo"))},0)},calculate:function(e){var t=_.reduce(e,function(e,t){return e+parseFloat(t.get("factura4_saldo"))},0),i=e.length;return{saldo:t,count:i}},matchPorvencer:function(){var e=_.filter(this.models,function(e){return e.get("days")>0});return this.calculate(e)},matchMayor360:function(){var e=_.filter(this.models,function(e){return e.get("days")<-360});return this.calculate(e)},matchMenor360:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-181&&e.get("days")>=-360});return this.calculate(e)},matchMenor180:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-91&&e.get("days")>=-180});return this.calculate(e)},matchMenor90:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-61&&e.get("days")>=-90});return this.calculate(e)},matchMenor60:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-31&&e.get("days")>=-60});return this.calculate(e)},matchMenor30:function(){var e=_.filter(this.models,function(e){return e.get("days")<=0&&e.get("days")>=-30});return this.calculate(e)},totalize:function(){var e=this.valor(),t=this.matchPorvencer(),i=this.matchMayor360(),o=this.matchMenor360(),n=this.matchMenor180(),r=this.matchMenor90(),a=this.matchMenor60(),s=this.matchMenor30(),c=t.count+s.count+a.count+r.count+n.count+o.count+i.count;return{valor:e,porvencer:t,mayor360:i,menor360:o,menor180:n,menor90:r,menor60:a,menor30:s,tcount:c}}})}(this,this.document),app||(app={}),function(e,t,i){app.CuotasFPList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturap.cuotas.index"))},model:app.Facturap2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AcabadosProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.acabados.index"))},model:app.Ordenp5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AreasProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.areas.index"))},model:app.Ordenp6Model,initialize:function(){},validar:function(e){var t={success:!1,message:""};if(_.isNull(e.orden6_areap)||_.isUndefined(e.orden6_areap)||""==e.orden6_areap)var i=_.find(this.models,function(t){return t.get("orden6_nombre")==e.orden6_nombre});else var i=_.find(this.models,function(t){return t.get("orden6_areap")==e.orden6_areap});return i instanceof Backbone.Model?(t.message="El area que intenta ingresar ya existe.",t):(t.success=!0,t)},total:function(){var e=this;return this.reduce(function(t,i){var o=e.convertirMinutos(i);return t+o*parseFloat(i.get("orden6_valor"))},0)},totalRow:function(){var e=this;_.each(this.models,function(t){var i=e.convertirMinutos(t),o=i*parseFloat(t.get("orden6_valor"));t.set("total",Math.round(o))})},convertirMinutos:function(e){var t=e.get("orden6_tiempo").split(":"),i=parseInt(t[0]),o=parseInt(t[1]),n=i+o/60;return parseFloat(n)},totalize:function(){var e=this.total();return this.totalRow(),{total:Math.round(e)}}})}(this,this.document),app||(app={}),function(e,t,i){app.ContabilidadOrdenpList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.contabilidad.index"))},model:app.TiempopModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.DespachospPendientesOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.pendientes"))},model:app.Ordenp2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.DespachopOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.index"))},model:app.DespachopModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.MaquinasProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.maquinas.index"))},model:app.Ordenp3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.MaterialesProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.materiales.index"))},model:app.Ordenp4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductopOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.index"))},model:app.Ordenp2Model,initialize:function(){},unidades:function(){return this.reduce(function(e,t){return e+parseInt(t.get("orden2_cantidad"))},0)},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("orden2_facturado"))},0)},subtotal:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("orden2_precio_total"))},0)},totalize:function(){var e=this.unidades(),t=this.facturado(),i=this.subtotal();return{unidades:e,facturado:t,subtotal:i}}})}(this,this.document),app||(app={}),function(e,t,i){app.TiempopOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.tiemposp.index"))},model:app.TiempopModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ItemRolloINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},model:app.ItemRolloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProdBodeList=Backbone.Collection.extend({
url:function(){return e.Misc.urlFull(Route.route("productos.prodbode.index"))},model:app.ProdBodeModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductoSeriesINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.index"))},model:app.ProductoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AcabadosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.acabados.index"))},model:app.Productop6Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AreasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.areas.index"))},model:app.Productop3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.MaquinasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.maquinas.index"))},model:app.Productop4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.MaterialesList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.materiales.index"))},model:app.Productop5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.TipsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.tips.index"))},model:app.Productop2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.PermisosRolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},model:app.ModuloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ContactsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},model:app.ContactoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.FacturaptList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.facturap"))},model:app.Facturap2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.RolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},model:app.UsuarioRolModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.TiempopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("tiemposp.index"))},model:app.TiempopModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.TrasladoProductosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("traslados.detalle.index"))},model:app.Traslado2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i,o){app.CreateAcabadospView=Backbone.View.extend({el:"#acabadosp-create",template:_.template(e("#add-acabadop-tpl").html()||""),events:{"submit #form-acabadosp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-acabadop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("acabadosp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAcabadospView=Backbone.View.extend({el:"#acabadosp-main",initialize:function(){this.$acabadospSearchTable=this.$("#acabadosp-search-table"),this.$acabadospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("acabadosp.index")),columns:[{data:"id",name:"id"},{data:"acabadop_nombre",name:"acabadop_nombre"},{data:"acabadop_descripcion",name:"acabadop_descripcion"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo acabado',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("acabadosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("acabadosp.show",{acabadosp:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateActividadView=Backbone.View.extend({el:"#actividad-create",template:_.template(e("#add-actividad-tpl").html()||""),events:{"submit #form-actividad":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-actividad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainActividadView=Backbone.View.extend({el:"#actividades-main",initialize:function(){this.$actividadesSearchTable=this.$("#actividades-search-table"),this.$actividadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("actividades.index")),data:function(e){e.datatables=!0}},columns:[{data:"actividad_codigo",name:"actividad_codigo"},{data:"actividad_nombre",name:"actividad_nombre"},{data:"actividad_categoria",name:"actividad_categoria"},{data:"actividad_tarifa",name:"actividad_tarifa"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva actividad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("actividades.show",{actividades:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateActividadpView=Backbone.View.extend({el:"#actividadp-create",template:_.template(e("#add-actividadp-tpl").html()||""),events:{"submit #form-actividadp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-actividadp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("actividadesp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainActividadespView=Backbone.View.extend({el:"#actividadesp-main",initialize:function(){this.$actividadespSearchTable=this.$("#actividadesp-search-table"),this.$actividadespSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("actividadesp.index")),data:function(e){e.datatables=!0}},columns:[{data:"id",name:"id"},{data:"actividadp_nombre",name:"actividadp_nombre"},{data:"actividadp_activo",name:"actividadp_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva actividad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("actividadesp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("actividadesp.show",{actividadesp:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateAreapView=Backbone.View.extend({el:"#areasp-create",template:_.template(e("#add-areap-tpl").html()||""),events:{"submit #form-areasp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-areap"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("areasp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAreaspView=Backbone.View.extend({el:"#areasp-main",initialize:function(){this.$areaspSearchTable=this.$("#areasp-search-table"),this.$areaspSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("areasp.index")),columns:[{data:"id",name:"id"},{data:"areap_nombre",name:"areap_nombre"},{data:"areap_valor",name:"areap_valor"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva area',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("areasp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("areasp.show",{areasp:o.id}))+'">'+e+"</a>"}},{targets:2,render:function(e){return t.Misc.currency(e)}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoActionView=Backbone.View.extend({el:"#asiento-content",templateOrdenp:_.template(e("#searchordenp-asiento-tpl").html()||""),templateFacturap:_.template(e("#rfacturap-asiento-tpl").html()||""),templateAddFacturap:_.template(e("#add-rfacturap-asiento-tpl").html()||""),templateCuotasFacturap:_.template(e("#add-rfacturap2-asiento-tpl").html()||""),templateCartera:_.template(e("#rcartera-asiento-tpl").html()||""),templateCommentsFactura:_.template(e("#add-comments-tpl").html()||""),templateInventario:_.template(e("#add-inventario-asiento-tpl").html()||""),templateAddItemRollo:_.template(e("#add-itemrollo-asiento-tpl").html()||""),templateChooseItemsRollo:_.template(e("#choose-itemrollo-asiento-tpl").html()||""),templateAddSeries:_.template(e("#add-series-asiento-tpl").html()||""),events:{"submit #form-create-ordenp-asiento-component-source":"onStoreItemOrdenp","submit #form-create-asiento-component-source":"onStoreItemFacturap","change input#facturap1_factura":"facturapChanged","submit #form-create-cartera-component-source":"onStoreItemFactura","change .factura-koi-component":"facturaChange","submit #form-create-inventario-asiento-component-source":"onStoreItemInventario","change .evaluate-producto-movimiento-asiento":"evaluateProductoInventario"},parameters:{data:{},actions:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalOp=this.$("#modal-asiento-ordenp-component"),this.$modalFp=this.$("#modal-asiento-facturap-component"),this.$modalIn=this.$("#modal-asiento-inventario-component"),this.$modalCt=this.$("#modal-asiento-cartera-component"),this.cuotasFPList=new app.CuotasFPList,this.itemRolloINList=new app.ItemRolloINList,this.productoSeriesINList=new app.ProductoSeriesINList,this.detalleFactura4List=new app.DetalleFactura4List,this.listenTo(this.cuotasFPList,"reset",this.addAllCuotasFacturap),this.listenTo(this.itemRolloINList,"reset",this.addAllItemRolloInventario),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){this.runAction()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},runAction:function(){var e=this.evaluateNextAction(),t=this,i={facturap:function(){t.$modalFp.find(".content-modal").empty().html(t.templateFacturap(t.parameters.data)),t.referenceFacturap()},cartera:function(){t.$modalCt.find(".content-modal").empty().html(t.templateCartera(t.parameters.data)),t.referenceCartera()},ordenp:function(){t.$modalOp.find(".content-modal").empty().html(t.templateOrdenp(t.parameters.data)),t.referenceOrdenp()},inventario:function(){t.$modalIn.find(".content-modal").empty().html(t.templateInventario(t.parameters.data)),t.referenceInventario()},store:function(){t.onStoreItem()}};i[e.action]&&i[e.action]()},evaluateNextAction:function(){var e;for(e=this.parameters.actions.length-1;e>=0;--e)if(action=this.parameters.actions[e],0==action.success)return action;return{action:"store"}},setSuccessAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)item=this.parameters.actions[t],item.action==e&&(item.success=!0)},isLastAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)if(item=this.parameters.actions[t],0==item.success&&item.action!=e)return!1;return!0},validateAction:function(i){i||(i={});var o={callback:null,action:null},n={},r={};_this=this,r=e.extend({},o,i),n.action=r.action,n=e.extend({},this.parameters.data,n),_this.url=t.Misc.urlFull(Route.route("asientos.detalle.validate")),_.has(n,"plancuentasn_cuenta")&&(_this.url=t.Misc.urlFull(Route.route("asientosnif.detalle.validate"))),e.ajax({url:_this.url,type:"POST",data:n,beforeSend:function(){t.Misc.setSpinner(_this.$wraper)}}).done(function(e){if(t.Misc.removeSpinner(_this.$wraper),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);"Function"==={}.toString.call(r.callback).slice(8,-1)&&r.callback(e)}}).fail(function(e,i,o){t.Misc.removeSpinner(r.wrap),alertify.error(o)})},referenceFacturap:function(){this.$wraper=this.$("#modal-asiento-wrapper-facturap"),this.$wraperFormFp=this.$("#content-invoice"),this.$wraperErrorFp=this.$("#error-eval-facturap"),this.$wraperErrorFp.hide().empty(),this.$modalFp.modal("show")},referenceCartera:function(){this.$wraper=this.$("#modal-asiento-wrapper-cartera"),this.$wraperFormCt=this.$("#content-cartera"),this.$wraperErrorCt=this.$("#error-eval-cartera"),this.$wraperErrorCt.hide().empty(),this.$modalCt.modal("show")},referenceOrdenp:function(){this.$wraper=this.$("#modal-asiento-wrapper-ordenp"),this.$wraperFormOp=this.$modalOp.find(".content-modal"),this.$wraperErrorOp=this.$("#error-search-orden-asiento2"),this.$wraperErrorOp.hide().empty(),this.$modalOp.modal("show")},referenceInventario:function(){this.$wraper=this.$("#modal-asiento-wrapper-inventario"),this.$wraperFormIn=this.$modalIn.find(".content-modal"),this.$wraperDetailIn=this.$modalIn.find("#content-detail-inventory"),this.$wraperErrorIn=this.$("#error-inventario-asiento2"),this.$inputInProducto=this.$("#producto_codigo"),this.$inputInUnidades=this.$("#movimiento_cantidad"),this.$inputInSucursal=this.$("#movimiento_sucursal"),this.$wraperErrorIn.hide().empty(),this.$modalIn.modal("show")},onStoreItemOrdenp:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"ordenp",callback:function(e){return function(t){t.success&&(e.setSuccessAction("ordenp",e.parameters.actions),e.isLastAction("ordenp")||e.$modalOp.modal("hide"),e.runAction())}}(this)}))},facturapChanged:function(i){this.$wraperErrorFp.hide().empty(),this.$wraperFormFp.empty(),t.Misc.evaluateFacturap({facturap:e(i.currentTarget).val(),naturaleza:this.parameters.data.asiento2_naturaleza,tercero:this.parameters.data.tercero_nit,wrap:this.$wraperFormFp,callback:function(e){return function(t){if(t.actions){var i={add:function(){e.$wraperFormFp.html(e.templateAddFacturap()),e.ready()},quota:function(){e.$wraperFormFp.html(e.templateCuotasFacturap()),e.$wraperCuotasFp=e.$("#browse-rfacturap2-list"),e.cuotasFPList.fetch({reset:!0,data:{facturap1:t.facturap}})}};i[t.action]&&i[t.action]()}else _.isUndefined(t.message)||_.isNull(t.message)||""==t.message||(e.$wraperErrorFp.empty().append(t.message),e.$wraperErrorFp.show())}}(this)})},addOneCuotaFacturap:function(e){var t=new app.CuotasFPListView({model:e});this.$wraperCuotasFp.append(t.render().el),this.ready()},addAllCuotasFacturap:function(){this.cuotasFPList.forEach(this.addOneCuotaFacturap,this)},onStoreItemFacturap:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"facturap",callback:function(e){return function(t){t.success&&(e.setSuccessAction("facturap",e.parameters.actions),e.isLastAction("facturap")||e.$modalFp.modal("hide"),e.runAction())}}(this)}))},addOneItemRolloInventario:function(e,t){t||(t=!1);var i=new app.ItemRolloINListView({model:e,parameters:{choose:t}});this.$wraperItemRollo.append(i.render().el),this.ready()},addAllItemRolloInventario:function(){var e=this;this.itemRolloINList.forEach(function(t,i){e.addOneItemRolloInventario(t,!0)})},addOneSerieInventario:function(e){var t=new app.ProductoSeriesINListView({model:e});this.$wraperSeries.append(t.render().el),this.ready()},evaluateProductoInventario:function(i){var o=this,n=this.$inputInProducto.val(),r=this.$inputInSucursal.val(),a=this.$inputInUnidades.val();this.$wraperDetailIn.empty(),n&&r&&a&&e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_codigo:n},beforeSend:function(){o.$wraperErrorIn.hide().empty(),t.Misc.setSpinner(o.$wraperFormIn)}}).done(function(e){if(t.Misc.removeSpinner(o.$wraperFormIn),e.success){if(!parseInt(e.producto_unidades))return o.$wraperErrorIn.empty().append("No es posible realizar movimientos para productos que no manejan unidades"),void o.$wraperErrorIn.show();if(parseInt(e.producto_metrado))if("D"==o.parameters.data.asiento2_naturaleza){o.$wraperDetailIn.html(o.templateAddItemRollo()),o.$wraperItemRollo=o.$("#browse-itemtollo-list");for(var i=1;i<=a;i++)o.addOneItemRolloInventario(new app.ItemRolloModel({id:i}))}else o.$wraperDetailIn.html(o.templateChooseItemsRollo()),o.$wraperItemRollo=o.$("#browse-chooseitemtollo-list"),o.itemRolloINList.fetch({reset:!0,data:{producto:e.id,sucursal:r}});else if(parseInt(e.producto_serie)&&"D"==o.parameters.data.asiento2_naturaleza){o.$wraperDetailIn.html(o.templateAddSeries()),o.$wraperSeries=o.$("#browse-series-list");for(var i=1;i<=a;i++)o.addOneSerieInventario(new app.ProductoModel({id:i}))}}}).fail(function(e,t,i){o.$wraperErrorIn.empty().append(i),o.$wraperErrorIn.show()})},onStoreItemInventario:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"inventario",callback:function(e){return function(t){t.success&&(e.setSuccessAction("inventario",e.parameters.actions),e.isLastAction("inventario")||e.$modalIn.modal("hide"),_.isUndefined(t.asiento2_valor)||_.isNull(t.asiento2_valor)||t.asiento2_valor==e.parameters.data.asiento2_valor||(e.parameters.data.asiento2_valor=t.asiento2_valor),e.runAction())}}(this)}))},onStoreItemFactura:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"cartera",callback:function(e){return function(t){t.success&&(e.setSuccessAction("cartera",e.parameters.actions),e.isLastAction("cartera")||e.$modalCt.modal("hide"),e.runAction())}}(this)}))},facturaChange:function(t){var i=this.$("#factura1_referencia").val();this.$("#wrapper-table-factura").removeAttr("hidden"),this.factura4ListView=new app.Factura4ListView({collection:this.detalleFactura4List,parameters:{edit:!1,template:_.template(e("#factura-item-list-tpl").html()||""),call:"asiento",dataFilter:{factura1_id:i}}})},onStoreItem:function(e){this.model.id!=o?this.collection.trigger("store",this.parameters.data):this.model.save(this.parameters.data,{patch:!0,silent:!0})},responseServer:function(i,o,n){_.isUndefined(o.success)||o.success&&(this.$modalOp.modal("hide"),this.$modalIn.modal("hide"),this.$modalFp.modal("hide"),this.$modalCt.modal("hide"),t.Misc.clearForm(e("#form-item-asiento")))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoCuentasListView=Backbone.View.extend({el:"#browse-detalle-asiento-list",events:{"click .item-asiento2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$debitos=this.$("#total-debitos"),this.$creditos=this.$("#total-creditos"),this.$diferencia=this.$("#total-diferencia"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.AsientoCuentasItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper);var o=new app.Asiento2Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.confirmDelete(o)},confirmDelete:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{plancuentas_cuenta:i.get("plancuentas_cuenta"),plancuentas_nombre:i.get("plancuentas_nombre")},template:_.template(e("#asiento-item-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar cuenta",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(o.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),o.collection.remove(e),o.totalize()}}})}}});n.render()},totalize:function(){var e=this.collection.totalize();this.$debitos.length&&this.$debitos.html(t.Misc.currency(e.debitos)),this.$creditos.length&&this.$creditos.html(t.Misc.currency(e.creditos)),this.$diferencia.length&&this.$diferencia.html(t.Misc.currency(e.diferencia))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoCuentasItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-asiento2-item-tpl").html()||""),templateInfo:_.template(e("#show-info-asiento2-tpl").html()||""),templateInfoFacturaItem:_.template(e("#add-info-factura-item").html()||""),templateInfoFacturapItem:_.template(e("#add-info-facturap-item").html()||""),templateInfoInventarioItem:_.template(e("#add-info-inventario-item").html()||""),events:{"click .item-asiento2-show-info":"showInfo"},parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-asiento-show-info-component"),this.asientoMovimientosList=new app.AsientoMovimientosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.asientoMovimientosList,"request",this.loadSpinner),this.listenTo(this.asientoMovimientosList,"sync",this.responseServer),this.listenTo(this.asientoMovimientosList,"reset",this.addAll)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$tercero={tercero_nit:e.tercero_nit,tercero_nombre:e.tercero_nombre},this.$naturaleza=e.asiento2_naturaleza,this.$el.html(this.template(e)),this},showInfo:function(){var e=this.model.toJSON();this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(e)),this.$wrapGeneral=this.$modalInfo.find("#render-info-modal"),this.asientoMovimientosList.fetch({reset:!0,data:{asiento2:this.model.get("id")}}),this.$modalInfo.modal("show")},addOne:function(e){var t=e.toJSON();t.tercero=this.$tercero,t.naturaleza=this.$naturaleza,"F"==t.type?this.$wrapGeneral.empty().html(this.templateInfoFacturaItem(t)):"FP"==t.type?this.$wrapGeneral.empty().html(this.templateInfoFacturapItem(t)):"IP"==t.type&&this.$wrapGeneral.empty().html(this.templateInfoInventarioItem(t))},addAll:function(){this.asientoMovimientosList.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wrapperList)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$wrapperList)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","change input#asiento2_base":"baseChanged","submit #form-asientos":"onStore"},initialize:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.spinner=this.$("#spinner-main"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},documentoChanged:function(i){var o=this,n=e(i.currentTarget).val();o.$numero.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(o.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?o.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&o.$numero.prop("readonly",!0)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.tercero_nit=i.tercero_nit?i.tercero_nit:i.asiento1_beneficiario,i.tercero_nombre=i.tercero_nombre?i.tercero_nombre:i.asiento1_beneficiario_nombre,t.Misc.evaluateActionsAccount({data:i,wrap:this.spinner,callback:function(e){return function(t){Array.isArray(t)&&t.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:i,actions:t}}),e.asientoActionView.render()):e.model.save(i,{patch:!0,silent:!0})}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),i=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*i/100):this.$inputValor.val("")},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.asientoActionView instanceof Backbone.View&&(this.asientoActionView.stopListening(),this.asientoActionView.undelegateEvents()),""==i.id&&""!=i.nif?t.Misc.redirect(t.Misc.urlFull(Route.route("asientosnif.edit",{asientosnif:i.nif}),{trigger:!0})):Backbone.history.navigate(Route.route("asientos.edit",{asientos:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","submit #form-item-asiento":"onStoreItem","change input#asiento2_base":"baseChanged","click .submit-asiento":"submitAsiento","submit #form-asientos":"onStore"},initialize:function(){this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),
this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.$inputDocumento=this.$("#asiento1_documento"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready(),"A"==this.model.get("documento_tipo_consecutivo")&&this.$inputDocumento.change()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.spinner,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(i){var o=this,n=e(i.currentTarget).val();o.$numero.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(o.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?o.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&o.$numero.prop("readonly",!0)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},submitAsiento:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.asiento1_id=this.model.get("id"),i.tercero_nit=i.tercero_nit?i.tercero_nit:this.model.get("tercero_nit"),i.tercero_nombre=i.tercero_nombre?i.tercero_nombre:this.model.get("tercero_nombre"),t.Misc.evaluateActionsAccount({data:i,wrap:this.spinner,callback:function(e){return function(o){Array.isArray(o)&&o.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:i,actions:o}}),e.asientoActionView.render()):(e.asientoCuentasList.trigger("store",i),t.Misc.clearForm(e.$formItem))}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),i=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*i/100):this.$inputValor.val("")},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.edit",{asientos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CuotasFPListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-rfacturap2-item-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAsientosView=Backbone.View.extend({el:"#asientos-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$asientosSearchTable=this.$("#asientos-search-table"),this.$searchTercero=this.$("#search_tercero"),this.$searchTerceroName=this.$("#search_tercero_nombre"),this.$searchReferencia=this.$("#search_referencia"),this.$searchDocumento=this.$("#search_documento"),this.asientosSearchTable=this.$asientosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("asientos.index")),data:function(t){t.persistent=!0,t.asiento_tercero_nit=e.$searchTercero.val(),t.asiento_tercero_nombre=e.$searchTerceroName.val(),t.asiento_documento=e.$searchDocumento.val()}},columns:[{data:"asiento1_numero",name:"asiento1_numero"},{data:"documento_nombre",name:"documento_nombre"},{data:"asiento1_ano",name:"asiento1_ano"},{data:"asiento1_mes",name:"asiento1_mes"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"},{data:"asiento1_preguardado",name:"asiento1_preguardado"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva asiento',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.create")))}}],columnDefs:[{targets:0,width:"7%",render:function(e,i,o,n){return parseInt(o.asiento1_preguardado)?'<a href="'+t.Misc.urlFull(Route.route("asientos.edit",{asientos:o.id}))+'">'+e+' <span class="label label-warning">PRE</span></a>':'<a href="'+t.Misc.urlFull(Route.route("asientos.show",{asientos:o.id}))+'">'+e+"</a>"}},{targets:[2,3],width:"7%"},{targets:4,width:"15%"},{targets:5,searchable:!1},{targets:[6,7,8,9,10],visible:!1},{targets:11,visible:!1,searchable:!1}],order:[[2,"desc"],[3,"desc"]]})},search:function(e){e.preventDefault(),this.asientosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchTercero.val(""),this.$searchTerceroName.val(""),this.$searchReferencia.val(""),this.$searchDocumento.val("").trigger("change"),this.asientosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductoSeriesINListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-serie-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowAsientoView=Backbone.View.extend({el:"#asientos-show",initialize:function(){this.model.id!=o&&(this.asientoCuentasList=new app.AsientoCuentasList,this.referenceViews())},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,dataFilter:{asiento:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoNifCuentasListView=Backbone.View.extend({el:"#browse-detalle-asienton-list",events:{"click .item-asienton2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$debitos=this.$("#total-debitos"),this.$creditos=this.$("#total-creditos"),this.$diferencia=this.$("#total-diferencia"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.asiento)||_.isNull(this.parameters.dataFilter.asiento)||(this.confCollection.data.asiento=this.parameters.dataFilter.asiento,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.AsientoCuentasNifItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper);var o=new app.AsientoNif2Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),r.collection.remove(e),r.totalize()}}})},totalize:function(){var e=this.collection.totalize();this.$debitos.length&&this.$debitos.html(t.Misc.currency(e.debitos)),this.$creditos.length&&this.$creditos.html(t.Misc.currency(e.creditos)),this.$diferencia.length&&this.$diferencia.html(t.Misc.currency(e.diferencia))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoCuentasNifItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-asienton2-item-tpl").html()||""),templateInfo:_.template(e("#show-info-asienton2-tpl").html()||""),templateInfoFacturaItem:_.template(e("#add-info-factura-item").html()||""),templateInfoFacturapItem:_.template(e("#add-info-facturap-item").html()||""),templateInfoInventarioItem:_.template(e("#add-info-inventario-item").html()||""),events:{"click .item-asiento2-show-info":"showInfo"},parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-asiento-show-info-component"),this.asientoMovimientosList=new app.AsientoMovimientosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.asientoMovimientosList,"request",this.loadSpinner),this.listenTo(this.asientoMovimientosList,"sync",this.responseServer),this.listenTo(this.asientoMovimientosList,"reset",this.addAll)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$tercero={tercero_nit:e.tercero_nit,tercero_nombre:e.tercero_nombre},this.$naturaleza=e.asiento2_naturaleza,this.$el.html(this.template(e)),this},showInfo:function(){var e=this.model.toJSON();this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(e)),this.$wrapGeneral=this.$modalInfo.find("#render-info-modal"),this.count=0,this.asientoMovimientosList.fetch({reset:!0,data:{asiento2:this.model.get("id")}}),this.$modalInfo.modal("show")},addOne:function(e){var t=e.toJSON();if(t.tercero=this.$tercero,t.naturaleza=this.$naturaleza,"F"==t.movimiento_tipo)this.$wrapGeneral.empty().html(this.templateInfoFacturaItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-factura-list");else if("FP"==t.movimiento_tipo){if(t.movimiento_nuevo)return void this.$wrapGeneral.empty().html(this.templateInfoFacturapItem(t));0==this.count&&(this.$wrapGeneral.empty().html(this.templateInfoFacturapItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-facturap-list"),this.count=this.count+1)}else"IP"==t.movimiento_tipo&&(this.$wrapGeneral.empty().html(this.templateInfoInventarioItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-asiento-list"));var i=new app.AsientoMovimientosItemView({model:e});this.$wrapperList.append(i.render().el)},addAll:function(){this.asientoMovimientosList.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wrapperList)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$wrapperList)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditAsientoNifView=Backbone.View.extend({el:"#asientosnif-create",template:_.template(e("#add-asienton-tpl").html()||""),templateFp:_.template(e("#add-rfacturap-tpl").html()||""),events:{"change select#asienton1_documento":"documentoChanged","submit #form-item-asienton":"onStoreItem","change input#asienton2_base":"baseChanged","click .submit-asienton":"submitAsiento","submit #form-asientosn":"onStore"},initialize:function(){this.asientoNifCuentasList=new app.AsientoNifCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$numero=this.$("#asienton1_numero"),this.$form=this.$("#form-asientosn"),this.$formItem=this.$("#form-item-asienton"),this.$inputTasa=this.$("#asienton2_tasa"),this.$inputValor=this.$("#asienton2_valor"),this.$inputBase=this.$("#asienton2_base"),this.$inputDocumento=this.$("#asienton1_documento"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready(),"A"==this.model.get("documento_tipo_consecutivo")&&this.$inputDocumento.change()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},referenceViews:function(){this.cuentasListView=new app.AsientoNifCuentasListView({collection:this.asientoNifCuentasList,parameters:{wrapper:this.spinner,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(i){var o=this,n=e(i.currentTarget).val();o.$numero.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(o.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?o.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&o.$numero.prop("readonly",!0)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},submitAsiento:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.asienton1_id=this.model.get("id"),i.tercero_nit=i.tercero_nit?i.tercero_nit:this.model.get("tercero_nit"),i.tercero_nombre=i.tercero_nombre?i.tercero_nombre:this.model.get("tercero_nombre"),t.Misc.evaluateActionsAccountNif({data:i,wrap:this.spinner,callback:function(e){return function(o){Array.isArray(o)&&o.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoNifCuentasList,parameters:{data:i,actions:o}}),e.asientoActionView.render()):(e.asientoNifCuentasList.trigger("store",i),t.Misc.clearForm(e.$formItem))}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),i=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*i/100):this.$inputValor.val("")},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("asientosnif.edit",{asientosnif:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAsientosNifView=Backbone.View.extend({el:"#asientosnif-main",initialize:function(){this.$asientosNifSearchTable=this.$("#asientosnif-search-table"),this.$asientosNifSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("asientosnif.index")),columns:[{data:"asienton1_numero",name:"asienton1_numero"},{data:"asienton1_ano",name:"asienton1_ano"},{data:"asienton1_mes",name:"asienton1_mes"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"},{data:"asienton1_preguardado",name:"asienton1_preguardado"}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return parseInt(o.asienton1_preguardado)?'<a href="'+t.Misc.urlFull(Route.route("asientosnif.edit",{asientosnif:o.id}))+'">'+e+' <span class="label label-warning">PRE</span></a>':'<a href="'+t.Misc.urlFull(Route.route("asientosnif.show",{asientosnif:o.id}))+'">'+e+"</a>"}},{targets:[1,2],width:"10%"},{targets:3,width:"15%"},{targets:4,searchable:!1},{targets:[5,6,7,8,9],visible:!1},{targets:10,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowAsientoNifView=Backbone.View.extend({el:"#asientosnif-show",initialize:function(){this.model.id!=o&&(this.asientoNifCuentasList=new app.AsientoNifCuentasList,this.referenceViews())},referenceViews:function(){this.cuentasListView=new app.AsientoNifCuentasListView({collection:this.asientoNifCuentasList,parameters:{wrapper:this.spinner,edit:!1,dataFilter:{asiento:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCentroCostoView=Backbone.View.extend({el:"#centrocosto-create",template:_.template(e("#add-centrocosto-tpl").html()||""),events:{"submit #form-centrocosto":"onStore"},parameters:{callback:""},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Centro de costo guardado con exito!",this.$wraperForm=this.$("#render-form-centrocosto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);var r=this,a={toShow:function(){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.index")))},"default":function(){alertify.success(r.msgSuccess)}};a[this.parameters.callback]?a[this.parameters.callback]():a["default"]()}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainCentrosCostoView=Backbone.View.extend({el:"#centroscosto-main",initialize:function(){this.$centroscostoSearchTable=this.$("#centroscosto-search-table"),this.$centroscostoSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("centroscosto.index")),columns:[{data:"centrocosto_codigo",name:"centrocosto_codigo"},{data:"centrocosto_centro",name:"centrocosto_centro"},{data:"centrocosto_nombre",name:"centrocosto_nombre"},{data:"centrocosto_estructura",name:"centrocosto_estructura"},{data:"centrocosto_activo",name:"centrocosto_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo centro de costo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:o.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,i,o){return"S"==e?"Si":"No"}},{targets:[4],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCierreContableMensualView=Backbone.View.extend({el:"#cierremensual-main",events:{"click .sumbit-close-month":"submitForm"},parameters:{},initialize:function(){this.$form=this.$("#form-close-month"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready()},submitForm:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{template:_.template(e("#close-accounting-mensual-confirm-tpl").html()||""),titleConfirm:"Cierre contable mensual",onConfirm:function(){i.isDefaultPrevented()||(i.preventDefault(),o.$form.submit())}}});n.render()},onStore:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=this;e.ajax({url:t.Misc.urlFull(Route.route("cierresmensuales.index")),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(!_.isUndefined(e.success)){t.Misc.removeSpinner(o.el);var i=e.success?e.msg:e.errors;return e.success?void alertify.success(i):void alertify.error(i)}}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}},ready:function(){"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentAddressView=Backbone.View.extend({el:"body",template:_.template(e("#koi-address-component-tpl").html()||""),templateSelect:_.template(e("#koi-component-select-tpl").html()||""),events:{"focus input.address-koi-component":"addressChanged","click .btn-address-koi-component":"focusComponent","submit #form-address-component":"addAddress","change #component-select":"ChangeSelect","click .koi-component-remove-last":"removeLastItem","click .koi-component-remove":"removeItem","click .koi-component-add":"listeningAddress"},initialize:function(){this.$modalComponent=this.$("#modal-address-component"),this.$modalComponentValidacion=this.$("#modal-address-component-validacion")},focusComponent:function(t){e("#"+e(t.currentTarget).attr("data-field")).focus()},addressChanged:function(i){this.inputContent=e(i.currentTarget),this.inputContentNm=this.$("#"+this.inputContent.attr("data-nm-name")),this.inputContentNmValue=this.$("#"+this.inputContent.attr("data-nm-value")),this.$modalComponent.find(".content-modal").html(this.template({})),this.$addressField=this.$modalComponent.find("#koi_direccion"),this.$addressNomenclaturaField=this.$modalComponent.find("#koi_direccion_nm"),this.$formComponent=this.$modalComponent.find("#form-address-component"),this.addressData=new Array,this.addressDataNm=new Array,this.num=new Array,this.validaciones=["Agencia","Agrupación","Almacen","Autopista","Avenida","Avenida Carrera","Barrio","Boulevar","Calle","Camino","Carrera","Carretera","Casa","Celula","Centro Comercial","Ciudadela","Conjunto","Conjunto Residencial","Corregimiento","Departamento","Deposito","Edificio","Entrada","Etapa","Finca","Hacienda","Lote","Modulo","Municipio","Parcela","Parque","Parqueadero","Pasaje","Paseo","Predio","Puente","Puesto","Salón","Salón Comunal","Sector","Suite","Terminal","Terraza","Torre","Unidad","Unidad Residencial","Urbanización","Variante","Vereda","Zona","Zona Franca"],"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initAlertify&&t.initComponent.initAlertify(),this.$formComponent.validator(),this.$modalComponent.modal("show")},addAddress:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.inputContent.val(this.$addressField.val()),this.inputContentNm.text(this.$addressNomenclaturaField.val()),this.inputContentNmValue.val(this.$addressNomenclaturaField.val()),this.$modalComponent.modal("hide"))},listeningAddress:function(t){if(parseInt(e(t.target).text().trim())>0||parseInt(e(t.target).text().trim())<9)this.num=e(t.target).text().trim(),parseInt(this.addressData[this.addressData.length-1])>0||parseInt(this.addressData[this.addressData.length-1])<9?(this.addressData[this.addressData.length-1]+=this.num,this.addressDataNm[this.addressDataNm.length-1]+=this.num):(this.addressData.push(this.num),this.addressDataNm.push(this.num));else if(this.num=[],this.addressData[this.addressData.length-1]!=e(t.target).text().trim()){for(var i=0;i<this.validaciones.length;i++)e(t.target).text().trim()==this.validaciones[i]&&(this.$modalComponentValidacion.find(".modal-content").html(this.templateSelect({})),this.$modalComponentValidacion.find(".modal-title").text(e(t.target).text().trim()),this.$modalComponentValidacion.modal("show"));"#"==e(t.target).text().trim()||"-"==e(t.target).text().trim()?(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(" ")):(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(e(t.target).attr("data-key")))}else alertify.error("No puede seleccionar dos nomenclaturas iguales ni más de dos letras seguidas");this.buildAddress()},ChangeSelect:function(t){var i=this;this.$component=this.$("#component-input").hide();var o="";if("si"==e(t.target).val())i.$component.show(),e("input#component-input-text").change(function(){for(var t=e(this).val(e(this).val().toUpperCase()),n=/[^A-Za-z0-9&ÑñáéíóúÁÉÍÓÚ\/\s\/]/i,r=0;r<=t.val().length-1;r++)n.test(t.val().charAt(r))||(t.val().replace(n,""),o+=t.val().charAt(r));i.addressData.push(o),i.addressDataNm.push(o),i.buildAddress(),i.$modalComponentValidacion.modal("hide")});else{if("no"!=e(t.target).val())return!1;i.$modalComponentValidacion.modal("hide")}},removeLastItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.pop(),this.addressDataNm.pop(),this.buildAddress())},removeItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.length=0,this.addressDataNm.length=0,this.num.length=0,this.buildAddress())},buildAddress:function(){var t=e.grep(this.addressData,Boolean).join(" ").trim();this.$addressField.val(t);var i=e.grep(this.addressDataNm,Boolean).join(" ").trim();this.$addressNomenclaturaField.val(i)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ConfirmWindow=Backbone.View.extend({el:"#modal-confirm-component",parameters:{template:null,titleConfirm:"",onConfirm:null,callBack:null,dataFilter:{}},initialize:function(e){e!=o&&_.isObject(e.parameters)&&(this.parameters=_.extend({},this.parameters,e.parameters))},render:function(){var t={};return _.extend(t,this.parameters.dataFilter),this.$el.find(".content-modal").html(this.parameters.template(t)),this.$el.find(".inner-title-modal").html(this.parameters.titleConfirm),this.$el.modal("show"),e(this.el).off("click",".confirm-action"),this.undelegateEvents(),this.delegateEvents({"click .confirm-action":"onConfirm"}),this},onConfirm:function(e){e.preventDefault();this.$el.modal("hide"),"function"==typeof this.parameters.onConfirm&&this.parameters.onConfirm.call(null,this.parameters.dataFilter)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentConsecutiveView=Backbone.View.extend({el:"body",events:{"change .change-sucursal-consecutive-koi-component":"sucursalChange"},initialize:function(){},sucursalChange:function(i){var o=this;module=e(i.currentTarget).attr("data-module"),sucursal=e(i.currentTarget).val(),this.$consecutive=e("#"+e(i.currentTarget).attr("data-field")),this.$wrapperContent=e("#"+e(i.currentTarget).attr("data-wrapper")),e.ajax({url:t.Misc.urlFull(Route.route("sucursales.show",{sucursales:sucursal})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.$wrapperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wrapperContent);var i=0;"traslados"==module&&(i=e.sucursal_traslado),o.$consecutive.val(i+1)}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wrapperContent),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentCreateResourceView=Backbone.View.extend({el:"body",events:{"click .btn-add-resource-koi-component":"addResource","submit #form-create-resource-component":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperError=this.$("#error-resource-component"),this.$wraperContent=this.$("#content-create-resource-component").find(".modal-body")},addResource:function(t){if(this.resource=e(t.currentTarget).attr("data-resource"),this.$resourceField=e("#"+e(t.currentTarget).attr("data-field")),this.parameters={},"contacto"==this.resource){var i=null,o=null,n=null;if(this.$inputPhone=this.$("#"+e(t.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(t.currentTarget).attr("data-address")),this.$inputCity=this.$("#"+e(t.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(t.currentTarget).attr("data-email")),this.parameters.tcontacto_tercero=e(t.currentTarget).attr("data-tercero"),_.isUndefined(this.parameters.tcontacto_tercero)||_.isNull(this.parameters.tcontacto_tercero)||""==this.parameters.tcontacto_tercero)return void alertify.error("Por favor ingrese cliente antes agregar contacto.");i=e(t.currentTarget).attr("data-address-default"),o=e(t.currentTarget).attr("data-address-nomenclatura-default"),n=e(t.currentTarget).attr("data-municipio-default")}var r=this,a={centrocosto:function(){r.$modalComponent.find(".inner-title-modal").html("Centros de costo"),r.model=new app.CentroCostoModel;var t=_.template(e("#add-centrocosto-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},folder:function(){r.$modalComponent.find(".inner-title-modal").html("Folder"),r.model=new app.FolderModel;var t=_.template(e("#add-folder-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},tercero:function(){r.$modalComponent.find(".inner-title-modal").html("Tercero"),r.model=new app.TerceroModel;var t=_.template(e("#add-tercero-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON())),r.$formAccounting=r.$modalComponent.find("#form-accounting")},grupo:function(){r.$modalComponent.find(".inner-title-modal").html("Grupo inventario"),r.model=new app.GrupoModel;var t=_.template(e("#add-grupo-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},subgrupo:function(){r.$modalComponent.find(".inner-title-modal").html("Subrupo inventario"),r.model=new app.SubGrupoModel;var t=_.template(e("#add-subgrupo-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},unidadmedida:function(){r.$modalComponent.find(".inner-title-modal").html("Unidad de medida"),r.model=new app.UnidadModel;var t=_.template(e("#add-unidad-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},producto:function(){r.$modalComponent.find(".inner-title-modal").html("Producto"),r.model=new app.ProductoModel;var t=_.template(e("#add-producto-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},contacto:function(){
r.$resourceName=e("#"+e(t.currentTarget).attr("data-name")),r.$modalComponent.find(".inner-title-modal").html("Contacto"),r.model=new app.ContactoModel({tcontacto_direccion:i,tcontacto_direccion_nomenclatura:o,tcontacto_municipio:n});var a=_.template(e("#add-contacto-tpl").html());r.$modalComponent.find(".content-modal").html(a(r.model.toJSON()))},areap:function(){r.$modalComponent.find(".inner-title-modal").html("Área de producción"),r.model=new app.AreapModel;var t=_.template(e("#add-areap-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},maquinap:function(){r.$modalComponent.find(".inner-title-modal").html("Máquina de producción"),r.model=new app.MaquinapModel;var t=_.template(e("#add-maquinap-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},materialp:function(){r.$modalComponent.find(".inner-title-modal").html("Material de producción"),r.model=new app.MaterialpModel;var t=_.template(e("#add-materialp-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))},acabadop:function(){r.$modalComponent.find(".inner-title-modal").html("Acabado de producción"),r.model=new app.AcabadopModel;var t=_.template(e("#add-acabadop-tpl").html());r.$modalComponent.find(".content-modal").html(t(r.model.toJSON()))}};a[this.resource]&&(a[this.resource](),this.$wraperError.hide().empty(),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready(),this.$modalComponent.modal("show"))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(i){if(!i.isDefaultPrevented()){this.$wraperError.hide().empty(),i.preventDefault();var o=e.extend({},this.parameters,t.Misc.formToJson(i.target));"tercero"==this.resource&&(o=e.extend({},o,t.Misc.formToJson(this.$formAccounting))),this.model.save(o,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$wraperContent);var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return this.$wraperError.empty().append(n),void this.$wraperError.show();var r=this,a={centrocosto:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("centrocosto_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},folder:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("folder_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},tercero:function(){r.$resourceField.val(r.model.get("tercero_nit")).trigger("change")},grupo:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("grupo_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},subgrupo:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("subgrupo_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},unidadmedida:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("unidadmedida_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},producto:function(){r.$resourceField.val(r.model.get("producto_codigo")).trigger("change")},contacto:function(){r.$resourceField.val(r.model.get("id")),r.$resourceName.val(r.model.get("tcontacto_nombre")),r.$inputPhone.length&&r.$inputPhone.val(r.model.get("tcontacto_telefono")),r.$inputAddress.length&&r.$inputAddress.val(r.model.get("tcontacto_direccion")),r.$inputEmail.length&&r.$inputEmail.val(r.model.get("tcontacto_email")),r.$inputCity.length&&r.$inputCity.val(r.model.get("tcontacto_municipio")).trigger("change")},areap:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("areap_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},maquinap:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("maquinap_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},materialp:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("materialp_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")},acabadop:function(){r.$resourceField.select2({data:[{id:r.model.get("id"),text:r.model.get("acabadop_nombre")}]}).trigger("change"),r.$resourceField.val(r.model.get("id")).trigger("change")}};a[this.resource]&&(a[this.resource](),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),this.$modalComponent.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.Factura4ListView=Backbone.View.extend({el:"#browse-factura4-list",parameters:{edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.$valor=this.$(".total"),this.$totalCount=this.$("#total_count"),this.$porvencer=this.$("#porvencer"),this.$menor30=this.$("#menor30"),this.$porvencer_saldo=this.$("#porvencer_saldo"),this.$menor30_saldo=this.$("#menor30_saldo"),this.$menor60=this.$("#menor60"),this.$menor60_saldo=this.$("#menor60_saldo"),this.$menor90=this.$("#menor90"),this.$menor90_saldo=this.$("#menor90_saldo"),this.$menor180=this.$("#menor180"),this.$menor180_saldo=this.$("#menor180_saldo"),this.$menor360=this.$("#menor360"),this.$menor360_saldo=this.$("#menor360_saldo"),this.$mayor360=this.$("#mayor360"),this.$mayor360_saldo=this.$("#mayor360_saldo"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},render:function(){},addOne:function(e){var t=new app.Factura4ItemView({model:e,parameters:{edit:this.parameters.edit,call:this.parameters.call,template:this.parameters.template}});e.view=t,this.$el.prepend(t.render().el),"tercero"==this.parameters.call&&this.totalize(),"asiento"==this.parameters.call&&this.ready()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},totalize:function(){var e=this.collection.totalize();this.$valor.length&&this.$valor.html(t.Misc.currency(e.valor)),this.$porvencer.length&&(this.$totalCount.html(e.tcount),this.$porvencer.html(e.porvencer.count),this.$porvencer_saldo.html(t.Misc.currency(e.porvencer.saldo))),this.$menor30.length&&(this.$menor30.html(e.menor30.count),this.$menor30_saldo.html(t.Misc.currency(e.menor30.saldo))),this.$menor60.length&&(this.$menor60.html(e.menor60.count),this.$menor60_saldo.html(t.Misc.currency(e.menor60.saldo))),this.$menor90.length&&(this.$menor90.html(e.menor90.count),this.$menor90_saldo.html(t.Misc.currency(e.menor90.saldo))),this.$menor180.length&&(this.$menor180.html(e.menor180.count),this.$menor180_saldo.html(t.Misc.currency(e.menor180.saldo))),this.$menor360.length&&(this.$menor360.html(e.menor360.count),this.$menor360_saldo.html(t.Misc.currency(e.menor360.saldo))),this.$mayor360.length&&(this.$mayor360.html(e.mayor360.count),this.$mayor360_saldo.html(t.Misc.currency(e.mayor360.saldo)))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.Factura4ItemView=Backbone.View.extend({tagName:"tr",parameters:{template:null,call:null,edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.template=this.parameters.template,this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,"tercero"==this.parameters.call&&(e.days<=0&&e.days>=-30?this.$el.addClass("bg-menor30"):e.days<=-31&&e.days>=-60?this.$el.addClass("bg-menor60"):e.days<=-61&&e.days>=-90?this.$el.addClass("bg-menor90"):e.days<=-91&&e.days>=-180?this.$el.addClass("bg-menor180"):e.days<=-181&&e.days>=-360?this.$el.addClass("bg-menor360"):e.days<-360&&this.$el.addClass("bg-mayor360")),this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentDocumentView=Backbone.View.extend({el:"body",events:{"change .select-filter-document-koi-component":"folderChanged"},initialize:function(){},folderChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper")),this.$inputDocument=this.$("#"+e(i.currentTarget).attr("data-documents"));var n=this.$inputContent.val();this.$inputDocument.find("option:gt(0)").remove(),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.filter")),type:"GET",data:{folder:n},beforeSend:function(){t.Misc.setSpinner(o.$wraperConten)}}).done(function(i){t.Misc.removeSpinner(o.$wraperConten),i.success&&_.isObject(i.documents)&&(e.each(i.documents,function(t,i){o.$inputDocument.append(e("<option></option>").attr("value",i.id).text(i.documento_nombre))}),o.$inputDocument.change())}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentGlobalView=Backbone.View.extend({el:"body",events:{"click .sidebar-toggle":"clickSidebar","click .history-back":"clickHistoryBack","hidden.bs.modal":"multiModal"},initialize:function(){},clickSidebar:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),i.cookie="sidebar_toggle="+(this.$el.hasClass("sidebar-collapse")?"":"sidebar-collapse")+"; path=/; expires="+t.toUTCString()},clickHistoryBack:function(e){e.preventDefault(),t.history.back()},multiModal:function(){e(".modal.in").length>0&&e("body").addClass("modal-open")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.InventarioActionView=Backbone.View.extend({el:"body",events:{"submit #form-create-inventario-component-source":"onStoreInventario"},parameters:{data:{}},templateChooseItemsRollo:_.template(e("#choose-itemrollo-inventory-tpl").html()||""),initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalIn=this.$("#modal-inventario-component"),this.itemRolloINList=new app.ItemRolloINList,this.productoSeriesINList=new app.ProductoSeriesINList,this.listenTo(this.itemRolloINList,"reset",this.addAllItemRolloInventario),this.listenTo(this.itemRolloINList,"store",this.onStoreItemRolloInventario),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){var t=this.parameters,i=this,o={metrado:function(){"E"===t.tipo||(i.$modalIn.find(".content-modal").empty().html(i.templateChooseItemsRollo()),i.$modalIn.find(".modal-title").text("Inventario - Salidas de productos metrados")),i.metrajeReference(t)},series:function(){i.serieReference(t)},unidades:function(){i.unidadesReference(t)}};o[t.action]&&(this.parameters.data=e.extend({},this.parameters.data),this.parameters.data.action=t.action,o[t.action]())},metrajeReference:function(e){"E"===e.tipo||(this.$wraperItemRollo=this.$("#browse-chooseitemtollo-list"),this.itemRolloINList.fetch({reset:!0,data:{producto:e.producto,sucursal:e.data.sucursal}})),this.$modalIn.modal("show")},serieReference:function(t){"E"===t.tipo||(this.parameters.data=e.extend({},this.parameters.data),this.collection.trigger("store",this.parameters.data))},unidadesReference:function(t){"E"===t.tipo||(this.parameters.data=e.extend({},this.parameters.data),this.collection.trigger("store",this.parameters.data))},addOneItemRolloInventario:function(e,t){t||(t=!1);var i=new app.ItemRolloINListView({model:e,parameters:{choose:t}});this.$wraperItemRollo.append(i.render().el),this.ready()},addAllItemRolloInventario:function(){var e=this;this.itemRolloINList.forEach(function(t,i){e.addOneItemRolloInventario(t,!0)})},onStoreInventario:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data),this.parameters.data.items=t.Misc.formToJson(i.target),this.collection.trigger("store",this.parameters.data))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},responseServer:function(e,i,o){_.isUndefined(i.success)||i.success&&(this.$modalIn.modal("hide"),_.isUndefined(this.parameters.form)||t.Misc.clearForm(this.parameters.form))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ItemRolloINListView=Backbone.View.extend({tagName:"tr",template:null,initialize:function(t){t.parameters.choose?this.template=_.template(e("#choose-itemrollo-tpl").html()||""):!t.parameters.choose&&t.parameters.show?this.template=_.template(e("#itemrollo-tpl").html()||""):this.template=_.template(e("#add-itemrollo-tpl").html()||""),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ItemRolloListView=Backbone.View.extend({el:"#browse-itemtollo-list",events:{},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.sucursal)||_.isNull(this.parameters.dataFilter.sucursal)||(this.confCollection.data.sucursal=this.parameters.dataFilter.sucursal,this.confCollection.data.producto=this.parameters.dataFilter.producto_id,this.collection.fetch(this.confCollection))},render:function(){},addOne:function(e){var t=new app.ItemRolloINListView({model:e,parameters:{choose:this.parameters.choose,show:this.parameters.show}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProdbodeItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-seriesprodbode-tpl").html()||""),initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProdbodeListView=Backbone.View.extend({el:"#browse-prodbode-table",events:{},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.call)||_.isNull(this.parameters.dataFilter.call)||(this.confCollection.data.producto=this.parameters.dataFilter.producto_id,this.collection.fetch(this.confCollection))},render:function(){},addOne:function(e){var t=new app.ProdbodeItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentReportView=Backbone.View.extend({el:"body",events:{"click .btn-export-pdf-koi-component":"onPdf","click .btn-export-xls-koi-component":"onXls"},initialize:function(){},onPdf:function(e){this.$("#type-report-koi-component").val("pdf")},onXls:function(e){this.$("#type-report-koi-component").val("xls")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchContactoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-contacto-component-tpl").html()||""),events:{"click .btn-koi-search-contacto-component-table":"searchOrden","click .btn-search-koi-search-contacto-component":"search","click .btn-clear-koi-search-contacto-component":"clear","click .a-koi-search-contacto-component-table":"setContacto"},initialize:function(){this.$modalComponent=this.$("#modal-search-contacto-component")},searchOrden:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchContactoNombres=this.$("#koi_search_contacto_nombres"),this.$searchContactoApellidos=this.$("#koi_search_contacto_apellidos"),this.$resourceTercero=this.$("#"+e(i.currentTarget).attr("data-tercero"));var n=this.$resourceTercero.attr("data-tercero");return _.isUndefined(n)||_.isNull(n)||""==n?void alertify.error("Por favor ingrese cliente antes agregar contacto."):(this.$contactoSearchTable=this.$modalComponent.find("#koi-search-contacto-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$inputPhone=this.$("#"+e(i.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(i.currentTarget).attr("data-address")),this.$inputNomenclatura=this.$("#"+e(i.currentTarget).attr("data-nomenclatura")),this.$labelNomenclatura=this.$("#"+e(i.currentTarget).attr("data-name-nomenclatura")),this.$inputCity=this.$("#"+e(i.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(i.currentTarget).attr("data-email")),this.contactoSearchTable=this.$contactoSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.contactos.index")),data:function(e){e.tcontacto_nombres=o.$searchContactoNombres.val(),e.tcontacto_apellidos=o.$searchContactoApellidos.val(),e.tcontacto_tercero=n}},columns:[{data:"id",name:"id"},{data:"tcontacto_nombres",name:"tcontacto_nombres"},{data:"tcontacto_apellidos",name:"tcontacto_apellidos"},{data:"tcontacto_nombre",name:"tcontacto_nombre"},{data:"tcontacto_telefono",name:"tcontacto_telefono"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"tcontacto_direccion",name:"tcontacto_direccion"},{data:"tcontacto_municipio",name:"tcontacto_municipio"},{data:"tcontacto_email",name:"tcontacto_email"}],columnDefs:[{targets:3,width:"40%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-contacto-component-table">'+e+"</a>"}},{targets:[0,1,2,7,8],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setContacto:function(t){t.preventDefault();var i=this.contactoSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.id),this.$inputName.val(i.tcontacto_nombre),this.$inputPhone.length&&this.$inputPhone.val(i.tcontacto_telefono),this.$inputAddress.length&&this.$inputAddress.val(i.tcontacto_direccion),this.$inputNomenclatura.length&&this.$inputNomenclatura.val(i.tcontacto_direccion_nomenclatura),this.$labelNomenclatura.length&&this.$labelNomenclatura.text(i.tcontacto_direccion_nomenclatura),this.$inputCity.length&&this.$inputCity.val(i.tcontacto_municipio).trigger("change"),this.$inputEmail.length&&this.$inputEmail.val(i.tcontacto_email),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.contactoSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchContactoNombres.val(""),this.$searchContactoApellidos.val(""),this.contactoSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchCotizacionView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-cotizacion-component-tpl").html()||""),events:{"click .btn-koi-search-cotizacion-component-table":"searchCotizacion","click .btn-search-koi-search-cotizacion-component":"search","click .btn-clear-koi-search-cotizacion-component":"clear"},initialize:function(){this.$modalComponent=this.$("#modal-search-cotizacion-component")},searchCotizacion:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchcotizacionCotizacion=this.$("#searchcotizacion_cotizacion_numero"),this.$searchcotizacionTercero=this.$("#searchcotizacion_tercero"),this.$searchcotizacionTerceroNombre=this.$("#searchcotizacion_tercero_nombre"),this.$cotizacionSearchTable=this.$modalComponent.find("#koi-search-cotizacion-component-table"),this.$fieldRender=this.$(e(i.currentTarget)).attr("data-render"),this.cotizacionSearchTable=this.$cotizacionSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("cotizaciones.index")),data:function(e){e.cotizacion_numero=o.$searchcotizacionCotizacion.val(),e.cotizacion_tercero_nit=o.$searchcotizacionTercero.val()}},columns:[{data:"cotizacion_codigo",name:"cotizacion_codigo"},{data:"cotizacion1_ano",name:"cotizacion1_ano"},{data:"cotizacion1_numero",name:"cotizacion1_numero"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"cotizacion1_fecha",name:"cotizacion1_fecha"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,i,n,r){if("show"==o.$fieldRender)return"<a href="+t.Misc.urlFull(Route.route("cotizaciones.show",{cotizaciones:n.id}))+">"+e+"</a>"}},{targets:[1,2],visible:!1},{targets:4,render:function(e,i,o,n){return t.moment(e).format("YYYY-MM-DD")}}]}),this.ready(),this.$modalComponent.modal("show")},search:function(e){e.preventDefault(),this.cotizacionSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchcotizacionCotizacion.val(""),this.$searchcotizacionTercero.val(""),this.$searchcotizacionTerceroNombre.val(""),this.cotizacionSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchCuentaView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-plancuenta-component-tpl").html()||""),events:{"change input.plancuenta-koi-component":"cuentaChanged","click .btn-koi-search-plancuenta-component":"searchCuenta","click .btn-search-koi-search-plancuenta-component":"search","click .btn-clear-koi-search-plancuenta-component":"clear","click .a-koi-search-plancuenta-component-table":"setCuenta"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchCuenta:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCuenta=this.$("#koi_search_plancuentas_cuenta"),this.$searchName=this.$("#koi_search_plancuentas_nombre"),this.$plancuentasSearchTable=this.$modalComponent.find("#koi-search-plancuenta-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$inputCentro=this.$("#"+this.$inputContent.attr("data-centro")),this.$inputBase=this.$("#"+this.$inputContent.attr("data-base")),this.$inputValor=this.$("#"+this.$inputContent.attr("data-valor")),this.$inputTasa=this.$("#"+this.$inputContent.attr("data-tasa")),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(e){e.plancuentas_cuenta=o.$searchCuenta.val(),e.plancuentas_nombre=o.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-plancuenta-component-table">'+e+"</a>"}},{targets:1,width:"10%",searchable:!1},{targets:3,width:"10%",searchable:!1,render:function(e,t,i,o){return"D"==e?"Débito":"Crédito"}},{targets:4,width:"10%",searchable:!1,render:function(e,t,i,o){return e?"Si":"No"}}]}),this.ready(),this.$modalComponent.modal("show")},setCuenta:function(t){t.preventDefault();var i=this.plancuentasSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.plancuentas_cuenta),this.$inputName.val(i.plancuentas_nombre),this.$inputName.val(i.plancuentas_nombre),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$modalComponent.modal("hide"),this.actions(i)},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()},cuentaChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$inputBase=this.$("#"+e(i.currentTarget).attr("data-base")),this.$inputTasa=this.$("#"+e(i.currentTarget).attr("data-tasa")),this.$inputValor=this.$("#"+e(i.currentTarget).attr("data-valor")),this.$inputCentro=this.$("#"+e(i.currentTarget).attr("data-centro")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper"));var n=this.$inputContent.val();this.$inputName.val(""),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$inputTasa.length&&this.$inputTasa.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.search")),type:"GET",data:{plancuentas_cuenta:n},beforeSend:function(){t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.plancuentas_nombre)||_.isNull(e.plancuentas_nombre)||o.$inputName.val(e.plancuentas_nombre),o.actions(e))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},actions:function(e){if(this.$inputBase.length)if(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0){this.$inputBase.prop("readonly",!1);var t=this.$inputBase.inputmask("unmaskedvalue");this.$inputValor.val(e.plancuentas_tasa*t/100)}else this.$inputBase.val("");this.$inputCentro.length&&!_.isUndefined(e.plancuentas_centro)&&!_.isNull(e.plancuentas_centro)&&e.plancuentas_centro>0&&this.$inputCentro.val(e.plancuentas_centro).trigger("change"),this.$inputTasa.length&&(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0?this.$inputTasa.val(e.plancuentas_tasa):this.$inputTasa.val(""))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchFacturaView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-factura-component-tpl").html()||""),events:{"click .btn-koi-search-factura-component-table":"searchFactura","click .btn-search-koi-search-factura-component":"search","click .btn-clear-koi-search-factura-component":"clear","click .a-koi-search-factura-component-table":"setFactura"},initialize:function(){this.$modalComponent=this.$("#modal-search-factura-component")},searchFactura:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchfacturaNumero=this.$("#searchfactura_numero"),this.$searchfacturaTercero=this.$("#searchfactura_tercero"),this.$searchfacturaTerceroNombre=this.$("#searchfactura_tercero_nombre"),this.$facturaSearchTable=this.$modalComponent.find("#koi-search-factura-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputId=this.$("#"+this.$inputContent.attr("data-referencia")),this.$inputNit=this.$("#"+this.$inputContent.attr("data-nit")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$factura=this.$inputContent.attr("data-factura"),this.facturaSearchTable=this.$facturaSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturas.index")),data:function(e){e.factura1_numero=o.$searchfacturaNumero.val(),e.tercero_nit=o.$searchfacturaTercero.val()}},columns:[{data:"factura1_numero",name:"factura1_numero"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-factura-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setFactura:function(t){t.preventDefault();var i=this.facturaSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.factura1_numero),this.$inputId.val(i.id),this.$inputNit.val(i.tercero_nit),this.$inputName.val(i.tercero_nombre),"true"==this.$factura&&this.$inputContent.trigger("change"),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.facturaSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturaNumero.val(""),this.$searchfacturaTercero.val(""),this.$searchfacturaTerceroNombre.val(""),this.facturaSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchOrdenPView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-ordenp-component-tpl").html()||""),events:{"change input.ordenp-koi-component":"ordenpChanged","click .btn-koi-search-orden-component-table":"searchOrden","click .btn-search-koi-search-ordenp-component":"search","click .btn-clear-koi-search-ordenp-component":"clear","click .a-koi-search-ordenp-component-table":"setOrden"},initialize:function(){this.$modalComponent=this.$("#modal-search-ordenp-component")},searchOrden:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchordenpOrden=this.$("#searchordenp_ordenp_numero"),
this.$searchordenpTercero=this.$("#searchordenp_tercero"),this.$searchordenpTerceroNombre=this.$("#searchordenp_tercero_nombre"),this.$ordersSearchTable=this.$modalComponent.find("#koi-search-ordenp-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$factura=this.$inputContent.attr("data-factura"),this.$estado=this.$inputContent.attr("data-estado"),this.$fieldRender=this.$(e(i.currentTarget)).attr("data-render"),this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.index")),data:function(e){e.factura=o.$factura,e.orden_estado=o.$estado,e.orden_numero=o.$searchordenpOrden.val(),e.orden_tercero_nit=o.$searchordenpTercero.val()}},columns:[{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"orden_fecha",name:"orden_fecha"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,i,n,r){return"show"==o.$fieldRender?"<a href="+t.Misc.urlFull(Route.route("ordenes.show",{ordenes:n.id}))+">"+e+"</a>":'<a href="#" class="a-koi-search-ordenp-component-table">'+e+"</a>"}},{targets:[1,2],visible:!1},{targets:4,render:function(e,i,o,n){return t.moment(e).format("YYYY-MM-DD")}}]}),this.ready(),this.$modalComponent.modal("show")},setOrden:function(t){t.preventDefault();var i=this.ordersSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.orden_codigo),this.$inputName.val(i.tercero_nombre),"true"==this.$factura&&this.$inputContent.trigger("change"),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchordenpOrden.val(""),this.$searchordenpTercero.val(""),this.$searchordenpTerceroNombre.val(""),this.ordersSearchTable.ajax.reload()},ordenpChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper")),this.$estado=this.$inputContent.attr("data-estado");var n=this.$inputContent.val(),r=this.$estado;this.$inputName.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("ordenes.search")),type:"GET",data:{orden_codigo:n,orden_estado:r},beforeSend:function(){o.$inputName.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||o.$inputName.val(e.tercero_nombre))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchOrdenP2View=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-ordenp2-component-tpl").html()||""),events:{"change input.ordenp2-koi-component":"ordenpChanged","click .btn-koi-search-orden2-component-table":"searchOrden","click .btn-search-koi-search-ordenp2-component":"search","click .btn-clear-koi-search-ordenp2-component":"clear","click .a-koi-search-ordenp2-component-table":"setOrden"},initialize:function(){this.$modalComponent=this.$("#modal-search-ordenp2-component")},searchOrden:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchOrdenp=this.$("#search_ordenp"),this.$searchOrdenpNombre=this.$("#search_ordenpnombre"),this.$ordersSearchTable=this.$modalComponent.find("#koi-search-ordenp2-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name"));var n=this.$inputContent.attr("data-tercero");return _.isUndefined(n)||_.isNull(n)||""==n?void alertify.error("Por favor ingrese cliente antes agregar una orden."):(this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.productos.index")),data:function(e){e.datatables=!0,e.search_ordenp=o.$searchOrdenp.val(),e.search_ordenpnombre=o.$searchOrdenpNombre.val()}},columns:[{data:"id",name:"id"},{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"productop_nombre",name:"productop_nombre"},{data:"orden2_cantidad",name:"orden2_cantidad"},{data:"orden2_facturado",name:"orden2_facturado"}],order:[[2,"desc"],[3,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-ordenp2-component-table">'+e+"</a>"}},{targets:[2,3],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setOrden:function(t){t.preventDefault();var i=this.ordersSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.id),this.$inputName.val(i.productop_nombre),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchOrdenp.val(""),this.$searchOrdenpNombre.val(""),this.ordersSearchTable.ajax.reload()},ordenpChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper"));var n=this.$inputContent.val(),r=this.$inputContent.attr("data-tercero");return _.isUndefined(r)||_.isNull(r)||""==r?void alertify.error("Por favor ingrese cliente antes agregar una orden."):(this.$inputName.val(""),void(_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("ordenes.productos.search")),type:"GET",data:{orden2_id:n},beforeSend:function(){o.$inputName.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.productop_nombre)||_.isNull(e.productop_nombre)||o.$inputName.val(e.productop_nombre))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchProductoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-producto-component-tpl").html()||""),events:{"change input.producto-koi-component":"productoChanged","click .btn-koi-search-producto-component":"searchProducto","click .btn-search-koi-search-producto-component":"search","click .btn-clear-koi-search-producto-component":"clear","click .a-koi-search-producto-component-table":"setProducto"},initialize:function(){this.$modalComponent=this.$("#modal-search-producto-component")},searchProducto:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCodigo=this.$("#koi_search_producto_codigo"),this.$searchNombre=this.$("#koi_search_producto_nombre"),this.$productosSearchTable=this.$modalComponent.find("#koi-search-producto-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$fieldRender=this.$(e(i.currentTarget)).attr("data-render"),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(e){e.producto_codigo=o.$searchCodigo.val(),e.producto_nombre=o.$searchNombre.val()}},columns:[{data:"producto_codigo",name:"producto_codigo"},{data:"producto_nombre",name:"producto_nombre"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,i,n,r){return"show"==o.$fieldRender?"<a href="+t.Misc.urlFull(Route.route("productos.show",{productos:n.id}))+">"+e+"</a>":'<a href="#" class="a-koi-search-producto-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setProducto:function(t){t.preventDefault();var i=this.productosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.producto_codigo),this.$inputName.val(i.producto_nombre),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCodigo.val(""),this.$searchNombre.val(""),this.productosSearchTable.ajax.reload()},productoChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper"));var n=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_codigo:n},beforeSend:function(){o.$inputName.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.producto_nombre)||_.isNull(e.producto_nombre)||o.$inputName.val(e.producto_nombre))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchProductopView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-productop-component-tpl").html()||""),events:{"click .btn-koi-search-productop-component-table":"searchProducto","click .btn-search-koi-search-productop-component":"search","click .btn-clear-koi-search-productop-component":"clear","click .a-koi-search-productop-component-table":"setProducto"},initialize:function(){this.$modalComponent=this.$("#modal-search-productop-component")},searchProducto:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCodigo=this.$("#koi_search_productop_codigo"),this.$searchNombre=this.$("#koi_search_productop_nombre"),this.$productospSearchTable=this.$modalComponent.find("#koi-search-productop-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name"));this.$inputContent.attr("data-productop");this.productospSearchTable=this.$productospSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productosp.index")),data:function(e){e.datatables=!0,e.id=o.$searchCodigo.val(),e.productop_nombre=o.$searchNombre.val()}},columns:[{data:"id",name:"id"},{data:"productop_nombre",name:"productop_nombre"}],columnDefs:[{targets:0,searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-productop-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setProducto:function(t){t.preventDefault();var i=this.productospSearchTable.row(e(t.currentTarget).parents("tr")).data(),o=this.$inputContent.attr("data-productop");"true"==o?this.$inputContent.html("").append("<option value='"+i.id+"' selected>"+i.productop_nombre+"</option>").removeAttr("disabled"):(this.$inputContent.val(i.id),this.$inputName.val(i.productop_nombre)),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.productospSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCodigo.val(""),this.$searchNombre.val(""),this.productospSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-tercero-component-tpl").html()||""),events:{"change input.tercero-koi-component":"terceroChanged","click .btn-koi-search-tercero-component-table":"searchTercero","click .btn-search-koi-search-tercero-component":"search","click .btn-clear-koi-search-tercero-component":"clear","click .a-koi-search-tercero-component-table":"setTercero"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchTercero:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchNit=this.$("#koi_search_tercero_nit"),this.$searchName=this.$("#koi_search_tercero_nombre"),this.$tercerosSearchTable=this.$modalComponent.find("#koi-search-tercero-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$inputOrden=this.$("#"+this.$inputContent.attr("data-orden2")),this.$inputFormapago=this.$("#"+this.$inputContent.attr("data-formapago")),this.$inputTiempop=this.$inputContent.attr("data-tiempop"),this.$fieldRender=this.$(e(i.currentTarget)).attr("data-render"),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(e){e.tercero_nit=o.$searchNit.val(),e.tercero_nombre=o.$searchName.val(),e.tercero_tiempop=o.$inputTiempop}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,i,n,r){return"show"==o.$fieldRender?"<a href="+t.Misc.urlFull(Route.route("terceros.show",{terceros:n.id}))+">"+e+"</a>":'<a href="#" class="a-koi-search-tercero-component-table">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1,searchable:!1}]}),this.ready(),this.$modalComponent.modal("show")},setTercero:function(t){t.preventDefault();var i=this.tercerosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.tercero_nit),this.$inputName.val(i.tercero_nombre),this.$inputOrden.length>0&&this.$inputOrden.attr("data-tercero",i.id),(this.$inputFormapago.length>0||_.isNull(i.tercero_formapago))&&this.$inputFormapago.val(i.tercero_formapago),this.$btnContact.length>0&&(this.$btnContact.attr("data-tercero",i.id),this.$btnContact.attr("data-address-default",i.tercero_direccion),this.$btnContact.attr("data-address-nomenclatura-default",i.tercero_dir_nomenclatura),this.$btnContact.attr("data-municipio-default",i.tercero_municipio)),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()},terceroChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$inputOrden=this.$("#"+this.$inputContent.attr("data-orden2")),this.$inputTiempop=this.$inputContent.attr("data-tiempop"),this.$btnContact.length>0&&(this.$btnContact.attr("data-tercero",""),this.$btnContact.attr("data-address-default",""),this.$btnContact.attr("ata-address-nomenclatura-default",""),this.$btnContact.attr("data-municipio-default","")),this.$inputOrden.length>0&&this.$inputOrden.attr("data-tercero","");var n=this.$inputContent.val(),r=this.$inputTiempop;this.$inputName.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:n,tiempop_tercero:r},beforeSend:function(){o.$inputName.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||o.$inputName.val(e.tercero_nombre),o.$btnContact.length>0&&(o.$btnContact.attr("data-tercero",e.id),o.$btnContact.attr("data-address-default",e.tercero_direccion),o.$btnContact.attr("data-address-nomenclatura-default",e.tercero_dir_nomenclatura),o.$btnContact.attr("data-municipio-default",e.tercero_municipio)),o.$inputOrden.length>0&&o.$inputOrden.attr("data-tercero",e.id))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentTerceroView=Backbone.View.extend({el:"body",templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change .change-nit-koi-component":"nitChanged","change .change-actividad-koi-component":"actividadChanged"},initialize:function(){},nitChanged:function(i){var o=this;this.$dv=e("#"+e(i.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wraperContent),e.success&&o.$dv.val(e.dv)}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperContent),alertify.error(n)})},actividadChanged:function(i){var o=this;this.$retecree=e("#"+e(i.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wraperContent),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||o.$retecree.html(e.rcree))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperContent),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadosProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-acabados-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadosProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadosProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-acabado-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreasProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-areas-list",events:{"click .item-producto-areas-remove":"removeOne"},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$total=this.$("#total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AreasProductopCotizacionItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this,o=this.collection.validar(e);if(!o.success)return void alertify.error(o.message);t.Misc.setSpinner(this.parameters.wrapper);var n=new app.Cotizacion6Model;n.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);if(_.isUndefined(this.parameters.dataFilter.cotizacion2))o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o),this.totalize());else{var n=/[A-Za-z]/;n.test(i)?o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o),this.totalize()):this.areaDelete(o)}},areaDelete:function(i,o){var n=this,r=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion6_nombre:i.get("cotizacion6_nombre"),cotizacion6_areap:i.get("areap_nombre")},template:_.template(e("#cotizacion-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar área",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),n.totalize()}}})}}});r.render()},totalize:function(){this.parameters.model.trigger("calculateCotizacion2");var e=this.collection.totalize();this.$total.length&&this.$total.empty().html(t.Misc.currency(e.total))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-cotizacion6-producto"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreasProductopCotizacionItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#cotizacion-producto-areas-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCotizacionView=Backbone.View.extend({el:"#cotizaciones-create",template:_.template(e("#add-cotizacion-tpl").html()||""),events:{"click .submit-cotizacion":"submitCotizacion","submit #form-cotizaciones":"onStore"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$form=this.$("#form-cotizaciones"),this.spinner=this.$("#spinner-main"),this.ready()},submitCotizacion:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),Backbone.history.navigate(Route.route("cotizaciones.edit",{cotizaciones:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCotizacion2View=Backbone.View.extend({el:"#cotizaciones-productos-create",template:_.template(e("#add-cotizacion-producto-tpl").html()||""),events:{"change .calculate_formula":"changeFormula","ifChanged #cotizacion2_tiro":"changedTiro","ifChanged #cotizacion2_retiro":"changedRetiro","click .submit-cotizacion2":"submitCotizacion2","submit #form-cotizacion-producto":"onStore","click .submit-cotizacion6":"submitCotizacion6","change #cotizacion6_areap":"changeAreap","submit #form-cotizacion6-producto":"onStoreCotizacion6","change .event-price":"calculateCotizacion2","ifToggled #cotizacion2_redondear":"redondearComision"},parameters:{data:{cotizacion2_productop:null}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-cotizacion-producto"),this.maquinasProductopCotizacionList=new app.MaquinasProductopCotizacionList,this.materialesProductopCotizacionList=new app.MaterialesProductopCotizacionList,this.acabadosProductopCotizacionList=new app.AcabadosProductopCotizacionList,this.areasProductopCotizacionList=new app.AreasProductopCotizacionList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.listenTo(this.model,"calculateCotizacion2",this.calculateCotizacion2)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-cotizacion-producto"),this.$inputFormula=null,this.$inputRenderFormula=null,this.$inputRound=null,this.$inputFormulaPrecio=this.$("#cotizacion2_precio_formula"),this.$inputFormulaTransporte=this.$("#cotizacion2_transporte_formula"),this.$inputFormulaViaticos=this.$("#cotizacion2_viaticos_formula"),this.$inputRoundPrecio=this.$("#cotizacion2_precio_round"),this.$inputRoundTranporte=this.$("#cotizacion2_transporte_round"),this.$inputRoundViaticos=this.$("#cotizacion2_viaticos_round"),this.$inputPrecio=this.$("#cotizacion2_precio_venta"),this.$inputTranporte=this.$("#cotizacion2_transporte"),this.$inputViaticos=this.$("#cotizacion2_viaticos"),this.$inputYellow=this.$("#cotizacion2_yellow"),this.$inputMagenta=this.$("#cotizacion2_magenta"),this.$inputCyan=this.$("#cotizacion2_cyan"),this.$inputKey=this.$("#cotizacion2_key"),this.$inputYellow2=this.$("#cotizacion2_yellow2"),this.$inputMagenta2=this.$("#cotizacion2_magenta2"),this.$inputCyan2=this.$("#cotizacion2_cyan2"),this.$inputKey2=this.$("#cotizacion2_key2"),this.$formCotizacion6=this.$("#form-cotizacion6-producto"),this.$inputArea=this.$("#cotizacion6_nombre"),this.$inputTiempo=this.$("#cotizacion6_tiempo"),this.$inputValor=this.$("#cotizacion6_valor"),this.$inputVolumen=this.$("#cotizacion2_volumen"),this.$checkRedondear=this.$("#cotizacion2_redondear"),this.$inputVcomision=this.$("#cotizacion2_vtotal"),this.$subtotal=this.$("#subtotal-price"),this.$total=this.$("#total-price"),this.$cantidad=this.$("#cotizacion2_cantidad"),this.$precio=this.$("#cotizacion2_precio_venta"),this.$viaticos=this.$("#cotizacion2_viaticos"),this.$transporte=this.$("#cotizacion2_transporte"),this.$infoprecio=this.$("#info-precio"),this.$infoviaticos=this.$("#info-viaticos"),this.$infotransporte=this.$("#info-transporte"),this.$infoareas=this.$("#info-areas"),this.calculateCotizacion2(),this.referenceViews(),this.ready()},referenceViews:function(){var e={productop:this.parameters.data.cotizacion2_productop};this.model.id!=o&&(e.cotizacion2=this.model.get("id"),e.productop=this.model.get("cotizacion2_productop")),this.maquinasProductopCotizacionListView=new app.MaquinasProductopCotizacionListView({collection:this.maquinasProductopCotizacionList,parameters:{dataFilter:e}}),this.materialesProductopCotizacionListView=new app.MaterialesProductopCotizacionListView({collection:this.materialesProductopCotizacionList,parameters:{dataFilter:e}}),this.acabadosProductopCotizacionListView=new app.AcabadosProductopCotizacionListView({collection:this.acabadosProductopCotizacionList,parameters:{dataFilter:e}}),this.areasProductopCotizacionListView=new app.AreasProductopCotizacionListView({collection:this.areasProductopCotizacionList,parameters:{dataFilter:e,model:this.model,edit:!0}})},changeFormula:function(i){var o=this,n=this.$(i.currentTarget).data("input");if("P"==n||"RP"==n)this.$inputFormula=this.$inputFormulaPrecio,this.$inputRound=this.$inputRoundPrecio,this.$inputRenderFormula=this.$inputPrecio;else if("T"==n||"RT"==n)this.$inputFormula=this.$inputFormulaTransporte,this.$inputRound=this.$inputRoundTranporte,this.$inputRenderFormula=this.$inputTranporte;else{if("V"!=n&&"RV"!=n)return;this.$inputFormula=this.$inputFormulaViaticos,this.$inputRound=this.$inputRoundViaticos,this.$inputRenderFormula=this.$inputViaticos}var r=this.$inputFormula.val(),a=this.$inputRound.val();r=r.replaceAll("(","n"),r=r.replaceAll(")","m"),r=r.replaceAll("+","t"),e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.productos.formula")),type:"GET",data:{equation:r,round:a},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),o.$inputRenderFormula.val(e.precio_venta).trigger("change")}).fail(function(e,i,n){o.$inputRenderFormula.val(0),t.Misc.removeSpinner(o.el),alertify.error(n)})},changedTiro:function(t){var i=e(t.target).is(":checked");i?(this.$inputYellow.iCheck("check"),this.$inputMagenta.iCheck("check"),this.$inputCyan.iCheck("check"),this.$inputKey.iCheck("check")):(this.$inputYellow.iCheck("uncheck"),this.$inputMagenta.iCheck("uncheck"),this.$inputCyan.iCheck("uncheck"),this.$inputKey.iCheck("uncheck"))},changedRetiro:function(t){var i=e(t.target).is(":checked");i?(this.$inputYellow2.iCheck("check"),this.$inputMagenta2.iCheck("check"),this.$inputCyan2.iCheck("check"),this.$inputKey2.iCheck("check")):(this.$inputYellow2.iCheck("uncheck"),this.$inputMagenta2.iCheck("uncheck"),this.$inputCyan2.iCheck("uncheck"),this.$inputKey2.iCheck("uncheck"))},submitCotizacion2:function(e){this.$form.submit()},onStore:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),this.parameters.data);
o.cotizacion6=this.areasProductopCotizacionList.toJSON(),o.cotizacion2_volumen=this.$("#cotizacion2_volumen").val(),o.cotizacion2_vtotal=this.$("#cotizacion2_vtotal").inputmask("unmaskedvalue"),o.cotizacion2_total_valor_unitario=this.$total.inputmask("unmaskedvalue"),o.cotizacion2_redondear=this.$checkRedondear.is(":checked"),this.model.save(o,{silent:!0})}},submitCotizacion6:function(e){this.$formCotizacion6.submit()},onStoreCotizacion6:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),this.parameters.data);this.areasProductopCotizacionList.trigger("store",o)}},changeAreap:function(i){var o=this;id=this.$(i.currentTarget).val(),"undefined"==typeof id||_.isUndefined(id)||_.isNull(id)||""==id?(this.$inputArea.val("").attr("readonly",!1),this.$inputTiempo.val(""),this.$inputValor.val("")):e.ajax({url:t.Misc.urlFull(Route.route("areasp.show",{areasp:id})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$inputArea.val("").attr("readonly",!0),o.$inputTiempo.val(""),o.$inputValor.val(e.areap_valor)}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},calculateCotizacion2:function(){var e=transporte=viaticos=areas=precio=volumen=total=subtotal=vcomision=0;e=parseInt(this.$cantidad.val()),tranporte=Math.round(parseFloat(this.$transporte.inputmask("unmaskedvalue"))/e),viaticos=Math.round(parseFloat(this.$viaticos.inputmask("unmaskedvalue"))/e),areas=Math.round(parseFloat(this.areasProductopCotizacionList.totalize().total)/e),precio=parseFloat(this.$precio.inputmask("unmaskedvalue")),volumen=parseInt(this.$inputVolumen.val()),this.$infoprecio.empty().html(t.Misc.currency(precio)),this.$infoviaticos.empty().html(t.Misc.currency(viaticos)),this.$infotransporte.empty().html(t.Misc.currency(tranporte)),this.$infoareas.empty().html(t.Misc.currency(areas)),subtotalCotizacion=precio+tranporte+viaticos+areas,vcomision=subtotalCotizacion/((100-volumen)/100)*(1-(100-volumen)/100),this.$checkRedondear.is(":checked")?total=Math.round(subtotalCotizacion+vcomision):total=subtotalCotizacion+vcomision,this.$subtotal.val(subtotalCotizacion),this.$inputVcomision.val(vcomision),this.$total.val(total)},redondearComision:function(e){this.calculateCotizacion2()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:this.model.get("cotizacion2_cotizacion")})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditCotizacionView=Backbone.View.extend({el:"#cotizaciones-create",template:_.template(e("#add-cotizacion-tpl").html()||""),events:{"click .submit-cotizacion":"submitCotizacion","click .close-cotizacion":"closeCotizacion","click .clone-cotizacion":"cloneCotizacion","click .generate-cotizacion":"generateCotizacion","click .export-cotizacion":"exportCotizacion","change #typeproductop":"changeTypeProduct","change #subtypeproductop":"changeSubtypeProduct","submit #form-cotizaciones":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.productopCotizacionList=new app.ProductopCotizacionList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$product=this.$("#productop"),this.$subtypeproduct=this.$("#subtypeproductop"),this.$form=this.$("#form-cotizaciones"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready()},referenceViews:function(){this.productopCotizacionListView=new app.ProductopCotizacionListView({collection:this.productopCotizacionList,parameters:{edit:!0,iva:this.model.get("cotizacion1_iva"),wrapper:this.spinner,dataFilter:{cotizacion2_cotizacion:this.model.get("id")}}})},submitCotizacion:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},changeTypeProduct:function(i){var o=this;typeproduct=this.$(i.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?(this.$subtypeproduct.empty().val(0).attr("disabled","disabled"),this.$product.empty().val(0).attr("disabled","disabled")):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$product.empty().val(0).attr("disabled","disabled"),o.$subtypeproduct.empty().val(0).removeAttr("disabled"),o.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){o.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},changeSubtypeProduct:function(i){var o=this;subtypeproduct=this.$(i.currentTarget).val(),typeproduct=this.$("#typeproductop").val(),"undefined"==typeof subtypeproduct||_.isUndefined(subtypeproduct)||_.isNull(subtypeproduct)||""==subtypeproduct||e.ajax({url:t.Misc.urlFull(Route.route("productosp.index")),data:{subtypeproduct:subtypeproduct,typeproduct:typeproduct},type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$product.empty().val(0).removeAttr("disabled"),o.$product.append("<option value=></option>"),_.each(e,function(e){o.$product.append("<option value="+e.id+">"+e.productop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},exportCotizacion:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("cotizaciones.exportar",{cotizaciones:this.model.get("id")})),"_blank")},closeCotizacion:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion_codigo:o.model.get("cotizacion_codigo")},template:_.template(e("#cotizacion-close-confirm-tpl").html()||""),titleConfirm:"Cerrar cotización",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.cerrar",{cotizaciones:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){if(t.Misc.removeSpinner(o.spinner),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.show",{cotizaciones:o.model.get("id")})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})}}});n.render()},cloneCotizacion:function(i){i.preventDefault();var o=this,n=t.Misc.urlFull(Route.route("cotizaciones.clonar",{cotizaciones:this.model.get("id")})),r={cotizacion_codigo:o.model.get("cotizacion_codigo")},a=new t.app.ConfirmWindow({parameters:{dataFilter:r,template:_.template(e("#cotizacion-clone-confirm-tpl").html()||""),titleConfirm:"Clonar cotización",onConfirm:function(){t.Misc.cloneModule({url:n,wrap:o.spinner,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:e.id})))}}(o)})}}});a.render()},generateCotizacion:function(i){i.preventDefault();var o=this,n=(t.Misc.urlFull(Route.route("cotizaciones.generar",{cotizaciones:this.model.get("id")})),{cotizacion_codigo:o.model.get("cotizacion_codigo"),cotizacion_referencia:o.model.get("cotizacion1_referencia")}),r=new t.app.ConfirmWindow({parameters:{dataFilter:n,template:_.template(e("#cotizacion-generate-confirm-tpl").html()||""),titleConfirm:"Generar orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.generar",{cotizaciones:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){if(t.Misc.removeSpinner(o.spinner),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:e.orden_id})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})}}});r.render()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:i.id}),{trigger:!0}))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainCotizacionesView=Backbone.View.extend({el:"#cotizaciones-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var i=this;this.$cotizacionesSearchTable=this.$("#cotizaciones-search-table"),this.$searchcotizacionCotizacion=this.$("#searchcotizacion_numero"),this.$searchcotizacionTercero=this.$("#searchcotizacion_tercero"),this.$searchcotizacionTerceroName=this.$("#searchcotizacion_tercero_nombre"),this.$searchcotizacionEstado=this.$("#searchcotizacion_estado"),this.$searchcotizacionReferencia=this.$("#searchcotizacion_referencia"),this.$searchcotizacionProductop=this.$("#searchcotizacion_productop"),this.cotizacionesSearchTable=this.$cotizacionesSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("cotizaciones.index")),data:function(e){e.persistent=!0,e.cotizacion_numero=i.$searchcotizacionCotizacion.val(),e.cotizacion_tercero_nit=i.$searchcotizacionTercero.val(),e.cotizacion_tercero_nombre=i.$searchcotizacionTerceroName.val(),e.cotizacion_estado=i.$searchcotizacionEstado.val(),e.cotizacion_referencia=i.$searchcotizacionReferencia.val(),e.cotizacion_productop=i.$searchcotizacionProductop.val()}},columns:[{data:"cotizacion_codigo",name:"cotizacion_codigo"},{data:"cotizacion1_ano",name:"cotizacion1_ano"},{data:"cotizacion1_numero",name:"cotizacion1_numero"},{data:"cotizacion1_fecha_inicio",name:"cotizacion1_fecha_inicio"},{data:"tercero_nombre",name:"tercero_nombre"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("cotizaciones.show",{cotizaciones:o.id}))+'">'+e+"</a>"}},{targets:[1,2],visible:!1,width:"10%"},{targets:3,width:"10%"}],fnRowCallback:function(t,i){parseInt(i.cotizacion1_abierta)?e(t).css({color:"#00a65a"}):parseInt(i.cotizacion1_anulada)?e(t).css({color:"red"}):e(t).css({color:"black"})}})},search:function(e){e.preventDefault(),this.cotizacionesSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchcotizacionCotizacion.val(""),this.$searchcotizacionTercero.val(""),this.$searchcotizacionTerceroName.val(""),this.$searchcotizacionEstado.val(""),this.$searchcotizacionReferencia.val(""),this.$searchcotizacionProductop.val("").trigger("change"),this.cotizacionesSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinasProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-maquinas-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinasProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinasProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-maquina-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialesProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-materiales-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialesProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialesProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-material-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-productop-list",events:{"click .item-cotizacion-producto-remove":"removeOne","click .item-cotizacion-producto-clone":"cloneOne"},parameters:{wrapper:null,edit:!1,iva:0,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$unidades=this.$("#subtotal-cantidad"),this.$facturado=this.$("#subtotal-facturado"),this.$subtotal=this.$("#subtotal-total"),this.$iva=this.$("#iva-total"),this.$total=this.$("#total-total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{cotizacion2_cotizacion:this.parameters.dataFilter.cotizacion2_cotizacion},reset:!0})},render:function(){},addOne:function(e){var t=new app.ProductopCotizacionItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.confirmDelete(o)},confirmDelete:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{producto_id:i.get("id"),producto_nombre:i.get("productop_nombre")},template:_.template(e("#cotizacion-productop-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar producto",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(o.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),o.collection.remove(e),o.totalize()}}})}}});n.render()},cloneOne:function(i){i.preventDefault();var o=this,n=e(i.currentTarget).attr("data-resource"),r=this.collection.get(n),a=t.Misc.urlFull(Route.route("cotizaciones.productos.clonar",{productos:r.get("id")})),s={cotizacion2_codigo:r.get("id"),productop_nombre:r.get("productop_nombre")},c=new t.app.ConfirmWindow({parameters:{dataFilter:s,template:_.template(e("#cotizacion-productop-clone-confirm-tpl").html()||""),titleConfirm:"Clonar producto cotización",onConfirm:function(){t.Misc.cloneModule({url:a,wrap:o.parameters.wrapper,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.productos.show",{productos:e.id})))}}(o)})}}});c.render()},totalize:function(){var e=this.collection.totalize();this.$unidades.length&&this.$unidades.html(e.unidades),this.$facturado.length&&this.$facturado.html(e.facturado),this.$subtotal.length&&this.$subtotal.html(t.Misc.currency(e.subtotal));var i=e.subtotal*(this.parameters.iva/100);this.$iva.length&&this.$iva.html(t.Misc.currency(i));var o=e.subtotal+i;this.$total.length&&this.$total.html(t.Misc.currency(o))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductopCotizacionItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#cotizacion-producto-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowCotizacionView=Backbone.View.extend({el:"#cotizaciones-show",events:{"click .export-cotizacion":"exportCotizacion","click .open-cotizacion":"openCotizacion","click .clone-cotizacion":"cloneCotizacion"},initialize:function(){this.$iva=this.$("#cotizacion1_iva"),this.productopCotizacionList=new app.ProductopCotizacionList,this.referenceViews()},referenceViews:function(){this.productopCotizacionListView=new app.ProductopCotizacionListView({collection:this.productopCotizacionList,parameters:{wrapper:this.$("#wrapper-productop-cotizacion"),iva:this.$iva.val(),dataFilter:{cotizacion2_cotizacion:this.model.get("id")}}})},openCotizacion:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion_codigo:o.model.get("cotizacion_codigo")},template:_.template(e("#cotizacion-open-confirm-tpl").html()||""),titleConfirm:"Reabir cotización",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.abrir",{cotizaciones:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:o.model.get("id")})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}}});n.render()},cloneCotizacion:function(i){i.preventDefault();var o=this,n=t.Misc.urlFull(Route.route("cotizaciones.clonar",{cotizaciones:this.model.get("id")})),r=new t.app.ConfirmWindow({parameters:{template:_.template(e("#cotizacion-clone-confirm-tpl").html()||""),titleConfirm:"Clonar cotización",onConfirm:function(){t.Misc.cloneModule({url:n,wrap:o.$el,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:e.id})))}}(o)})}}});r.render()},exportCotizacion:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("cotizaciones.exportar",{cotizaciones:this.model.get("id")})),"_blank")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainDepartamentoView=Backbone.View.extend({el:"#departamentos-main",initialize:function(){this.$departamentosSearchTable=this.$("#departamentos-search-table"),this.$departamentosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("departamentos.index")),columns:[{data:"departamento_codigo",name:"departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateDocumentoView=Backbone.View.extend({el:"#documento-create",template:_.template(e("#add-documento-tpl").html()||""),events:{"submit #form-documento":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-documento"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainDocumentosView=Backbone.View.extend({el:"#documentos-main",initialize:function(){this.$documentosSearchTable=this.$("#documentos-search-table"),this.$documentosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("documentos.index")),columns:[{data:"documento_codigo",name:"documento_codigo"},{data:"documento_nombre",name:"documento_nombre"},{data:"folder_codigo",name:"folder_codigo"},{data:"documento_actual",name:"documento_actual"},{data:"documento_nif",name:"documento_nif"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo documento',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.create")))}}],columnDefs:[{targets:0,width:"7%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("documentos.show",{documentos:o.id}))+'">'+e+"</a>"}},{targets:1,width:"63%"},{targets:2,width:"10%",render:function(e,i,o,n){return _.isNull(o.folder_codigo)||_.isUndefined(o.folder_codigo)?"":'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:o.folder_id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}},{targets:4,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateEmpresaView=Backbone.View.extend({el:"#empresa-create",template:_.template(e("#add-company-tpl").html()||""),templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change input#tercero_nit":"nitChanged","change select#tercero_persona":"personaChanged","change select#tercero_actividad":"actividadChanged","submit #form-create-empresa":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-empresa"),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:tercero_persona",this.renderName),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$dv=this.$("#tercero_digito"),this.$retecree=this.$("#tercero_retecree"),this.ready()},renderName:function(e,t,i){this.$("#content-render-name").html(this.templateName(this.model.toJSON())),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},nitChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&o.$dv.val(e.dv)}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},personaChanged:function(t){this.model.set({tercero_persona:e(t.currentTarget).val()})},actividadChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||o.$retecree.html(e.rcree))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);alertify.success("Empresa fue actualizada con éxito.")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateFacturaView=Backbone.View.extend({el:"#factura-create",template:_.template(e("#add-facturas-tpl").html()||""),templateDetail:_.template(e("#add-detail-factura").html()||""),events:{"click .submit-factura":"submitFactura","submit #form-factura":"onStore","submit #form-detail-factura":"onStoreItem"},parameters:{},initialize:function(){this.$wraperForm=this.$("#render-form-factura"),this.detalleFactura2List=new app.DetalleFactura2List,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$renderDetail=this.$("#render-detail"),this.$renderDetail.html(this.templateDetail({})),this.$form=this.$("#form-factura"),this.$formDetail=this.$("#form-detail-factura"),this.referenceView(),this.ready()},submitFactura:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.detail=t.Misc.formToJson(this.$formDetail),this.model.save(i,{patch:!0,silent:!0})}},referenceView:function(){this.detalleFacturaView=new app.DetalleFacturaView({collection:this.detalleFactura2List,parameters:{edit:!1,dataFilter:{factura1_orden:this.model.get("id")}}})},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.detalleFactura2List.trigger("store",i)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createFacturaView instanceof Backbone.View&&(this.createFacturaView.stopListening(),this.createFacturaView.undelegateEvents()),t.Misc.redirect(t.Misc.urlFull(Route.route("facturas.show",{facturas:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleFacturaItemView=Backbone.View.extend({tagName:"tr",className:"form-group",template:_.template(e("#facturado-item-list-tpl").html()||""),parameters:{call:null},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),"show"==this.parameters.call&&(this.template=_.template(e("#add-factura-item-tpl").html()||"")),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleFacturaView=Backbone.View.extend({el:"#browse-detalle-factura-list",events:{"click .item-detail-factura-remove":"removeOne"},parameters:{dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.$facturado=this.$("#subtotal-facturado"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.DetalleFacturaItemView({model:e,parameters:{call:this.parameters.call}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this,o=this.collection.validar(e);if(!o.success)return void alertify.error(o.error);t.Misc.setSpinner(this.el);var n=new app.Factura2Model;n.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.el);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.el),alertify.error(o.statusText)}})},
removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o))},totalize:function(){var e=this.collection.totalize();this.$facturado.length&&this.$facturado.html(e.facturado)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);e("#factura1_orden").val(""),e("#factura1_orden_beneficiario").val("")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainFacturasView=Backbone.View.extend({el:"#facturas-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$facturasSearchTable=this.$("#facturas-search-table"),this.$searchfacturaNumero=this.$("#searchfactura_numero"),this.$searchfacturaTercero=this.$("#searchfactura_tercero"),this.$searchfacturaTerceroNombre=this.$("#searchfactura_tercero_nombre"),this.facturasSearchTable=this.$facturasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturas.index")),data:function(t){t.persistent=!0,t.factura1_numero=e.$searchfacturaNumero.val(),t.tercero_nit=e.$searchfacturaTercero.val(),t.tercero_nombre=e.$searchfacturaTerceroNombre.val()}},columns:[{data:"factura1_numero",name:"factura1_numero"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"factura1_tercero"}],columnDefs:[{targets:0,width:"5%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("facturas.show",{facturas:o.id}))+'">'+e+"</a>"}},{targets:1,width:"5%"},{targets:2,width:"15%"}]})},search:function(e){e.preventDefault(),this.facturasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturaNumero.val(""),this.$searchfacturaTercero.val(""),this.$searchfacturaTerceroNombre.val(""),this.facturasSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowFacturaView=Backbone.View.extend({el:"#factura-show",events:{"click .export-factura":"exportFactura"},initialize:function(){this.detalleFactura2List=new app.DetalleFactura2List,this.detalleFactura4List=new app.DetalleFactura4List,this.referenceViews()},referenceViews:function(){this.factura2ListView=new app.DetalleFacturaView({collection:this.detalleFactura2List,parameters:{edit:!1,call:"show",dataFilter:{factura2:this.model.get("id")}}}),this.factura4ListView=new app.Factura4ListView({collection:this.detalleFactura4List,parameters:{edit:!1,template:_.template(e("#add-detalle-factura-tpl").html()||""),call:"factura",dataFilter:{factura1_id:this.model.get("id")}}})},exportFactura:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("facturas.exportar",{facturas:this.model.get("id")})))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleFacturapItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#facturap-item-list-tpl").html()||""),parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleFacturapView=Backbone.View.extend({el:"#browse-detalle-facturap-list",parameters:{dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.DetalleFacturapItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainFacturaspView=Backbone.View.extend({el:"#facturasp-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$facturaspSearchTable=this.$("#facturasp-search-table"),this.$searchfacturapReferencia=this.$("#searchfacturap_referencia"),this.$searchfacturapFecha=this.$("#searchfacturap_fecha"),this.$searchfacturapTercero=this.$("#searchfacturap_tercero"),this.$searchfacturapTerceroNombre=this.$("#searchfacturap_tercero_nombre"),this.facturaspSearchTable=this.$facturaspSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturap.index")),data:function(t){t.persistent=!0,t.referencia=e.$searchfacturapReferencia.val(),t.facturap_fecha=e.$searchfacturapFecha.val(),t.tercero_nit=e.$searchfacturapTercero.val(),t.tercero_nombre=e.$searchfacturapTerceroNombre.val()}},columns:[{data:"id",name:"id"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"facturap1_factura",name:"facturap1_factura"},{data:"facturap1_fecha",name:"facturap1_fecha"}],columnDefs:[{targets:0,width:"5%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("facturap.show",{facturap:o.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.facturaspSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturapReferencia.val(""),this.$searchfacturapFecha.val(""),this.$searchfacturapTercero.val(""),this.$searchfacturapTerceroNombre.val(""),this.facturaspSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowFacturapView=Backbone.View.extend({el:"#facturap-show",initialize:function(){this.model.id!=o&&(this.cuotasFPList=new app.CuotasFPList,this.referenceViews())},referenceViews:function(){this.detalleFacturapView=new app.DetalleFacturapView({collection:this.cuotasFPList,parameters:{edit:!1,dataFilter:{facturap1:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateFolderView=Backbone.View.extend({el:"#folder-create",template:_.template(e("#add-folder-tpl").html()||""),events:{"submit #form-folder":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-folder"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("folders.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainFoldersView=Backbone.View.extend({el:"#folders-main",initialize:function(){this.$foldersSearchTable=this.$("#folders-search-table"),this.$foldersSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("folders.index")),columns:[{data:"folder_codigo",name:"folder_codigo"},{data:"folder_nombre",name:"folder_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Agregar Folder',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("folders.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateGrupoView=Backbone.View.extend({el:"#grupos-create",template:_.template(e("#add-grupo-tpl").html()||""),events:{"submit #form-grupos":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-grupo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("grupos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainGruposView=Backbone.View.extend({el:"#grupos-main",initialize:function(){this.$gruposSearchTable=this.$("#grupos-search-table"),this.$gruposSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("grupos.index")),columns:[{data:"grupo_codigo",name:"grupo_codigo"},{data:"grupo_nombre",name:"grupo_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo grupo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("grupos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("grupos.show",{grupos:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=e("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateMaquinapView=Backbone.View.extend({el:"#maquinasp-create",template:_.template(e("#add-maquinap-tpl").html()||""),events:{"submit #form-maquinasp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-maquinap"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("maquinasp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainMaquinaspView=Backbone.View.extend({el:"#maquinasp-main",initialize:function(){this.$maquinaspSearchTable=this.$("#maquinasp-search-table"),this.$maquinaspSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("maquinasp.index")),columns:[{data:"id",name:"id"},{data:"maquinap_nombre",name:"maquinap_nombre"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva máquina',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("maquinasp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("maquinasp.show",{maquinasp:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateMaterialpView=Backbone.View.extend({el:"#materialesp-create",template:_.template(e("#add-materialp-tpl").html()||""),events:{"submit #form-materialesp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-materialp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("materialesp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainMaterialespView=Backbone.View.extend({el:"#materialesp-main",initialize:function(){this.$materialespSearchTable=this.$("#materialesp-search-table"),this.$materialespSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("materialesp.index")),columns:[{data:"id",name:"id"},{data:"materialp_nombre",name:"materialp_nombre"},{data:"tipomaterial_nombre",name:"tipomaterial_nombre"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo material',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("materialesp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("materialesp.show",{materialesp:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainModuloView=Backbone.View.extend({el:"#modulos-main",initialize:function(){this.$modulosSearchTable=this.$("#modulos-search-table"),this.$modulosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("modulos.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"}],columnDefs:[{targets:0,width:"25%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainMunicipioView=Backbone.View.extend({el:"#municipios-main",initialize:function(){this.$municipiosSearchTable=this.$("#municipios-search-table"),this.$municipiosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("municipios.index")),data:function(e){e.datatables=!0}},columns:[{data:"departamento_codigo",name:"koi_departamento.departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"},{data:"municipio_codigo",name:"municipio_codigo"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"departamento_id",name:"departamento_id"}],columnDefs:[{targets:0,width:"15%"},{targets:1,width:"35%"},{targets:2,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("departamentos.show",{departamentos:o.departamento_id}))+'">'+e+"</a>"}},{targets:3,width:"35%"},{targets:4,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadosProductopListView=Backbone.View.extend({el:"#browse-orden-producto-acabados-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadosProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadosProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-acabado-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreasProductopListView=Backbone.View.extend({el:"#browse-orden-producto-areas-list",events:{"click .item-producto-areas-remove":"removeOne"},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$total=this.$("#total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AreasProductopItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this,o=this.collection.validar(e);if(!o.success)return void alertify.error(o.message);t.Misc.setSpinner(this.parameters.wrapper);var n=new app.Ordenp6Model;n.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);if(_.isUndefined(this.parameters.dataFilter.orden2))o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o),this.totalize());else{var n=/[A-Za-z]/;n.test(i)?o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o),this.totalize()):this.areaDelete(o)}},areaDelete:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{orden6_nombre:i.get("orden6_nombre"),orden6_areap:i.get("areap_nombre")},template:_.template(e("#orden-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar área",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(o.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),o.totalize()}}})}}});n.render()},totalize:function(){this.parameters.model.trigger("calculateOrdenp2");var e=this.collection.totalize();this.$total.length&&this.$total.empty().html(t.Misc.currency(e.total))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-ordenp6-producto"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreasProductopItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#orden-producto-areas-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateOrdenpView=Backbone.View.extend({el:"#ordenes-create",template:_.template(e("#add-ordenp-tpl").html()||""),events:{"click .submit-ordenp":"submitOrdenp","submit #form-ordenes":"onStore"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$form=this.$("#form-ordenes"),this.spinner=this.$("#spinner-main"),this.ready()},submitOrdenp:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),Backbone.history.navigate(Route.route("ordenes.edit",{ordenes:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateOrdenp2View=Backbone.View.extend({el:"#ordenes-productos-create",template:_.template(e("#add-orden-producto-tpl").html()||""),events:{"change .calculate_formula":"changeFormula","ifChanged #orden2_tiro":"changedTiro","ifChanged #orden2_retiro":"changedRetiro","click .submit-ordenp2":"submitOrdenp2","submit #form-orden-producto":"onStore","click .submit-ordenp6":"submitOrdenp6","submit #form-ordenp6-producto":"onStoreOrdenp6","change #orden6_areap":"changeAreap","change .event-price":"calculateOrdenp2"},parameters:{data:{orden2_productop:null}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-orden-producto"),this.maquinasProductopList=new app.MaquinasProductopList,this.materialesProductopList=new app.MaterialesProductopList,this.acabadosProductopList=new app.AcabadosProductopList,this.areasProductopList=new app.AreasProductopList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.listenTo(this.model,"calculateOrdenp2",this.calculateOrdenp2)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-orden-producto"),this.$inputFormula=null,this.$inputRenderFormula=null,this.$inputRound=null,this.$inputFormulaPrecio=this.$("#orden2_precio_formula"),this.$inputFormulaTransporte=this.$("#orden2_transporte_formula"),this.$inputFormulaViaticos=this.$("#orden2_viaticos_formula"),this.$inputRoundPrecio=this.$("#orden2_precio_round"),this.$inputRoundTranporte=this.$("#orden2_transporte_round"),this.$inputRoundViaticos=this.$("#orden2_viaticos_round"),this.$inputPrecio=this.$("#orden2_precio_venta"),this.$inputTranporte=this.$("#orden2_transporte"),this.$inputViaticos=this.$("#orden2_viaticos"),this.$inputFormula=this.$("#orden2_precio_formula"),this.$inputRound=this.$("#orden2_round_formula"),this.$inputPrecio=this.$("#orden2_precio_venta"),this.$inputYellow=this.$("#orden2_yellow"),this.$inputMagenta=this.$("#orden2_magenta"),this.$inputCyan=this.$("#orden2_cyan"),this.$inputKey=this.$("#orden2_key"),this.$inputYellow2=this.$("#orden2_yellow2"),this.$inputMagenta2=this.$("#orden2_magenta2"),this.$inputCyan2=this.$("#orden2_cyan2"),this.$inputKey2=this.$("#orden2_key2"),this.$formOrdenp6=this.$("#form-ordenp6-producto"),this.$inputArea=this.$("#orden6_nombre"),this.$inputTiempo=this.$("#orden6_tiempo"),this.$inputValor=this.$("#orden6_valor"),this.totalOrdenp2=0,this.$precioOrdenp2=this.$("#total-price"),this.$cantidad=this.$("#orden2_cantidad"),this.$precio=this.$("#orden2_precio_venta"),this.$viaticos=this.$("#orden2_viaticos"),this.$transporte=this.$("#orden2_transporte"),this.$infoprecio=this.$("#info-precio"),this.$infoviaticos=this.$("#info-viaticos"),this.$infotransporte=this.$("#info-transporte"),this.$infoareas=this.$("#info-areas"),this.calculateOrdenp2(),this.referenceViews(),this.ready()},referenceViews:function(){var e={productop:this.parameters.data.orden2_productop};this.model.id!=o&&(e.orden2=this.model.get("id"),e.productop=this.model.get("orden2_productop")),this.maquinasProductopListView=new app.MaquinasProductopListView({collection:this.maquinasProductopList,parameters:{dataFilter:e}}),this.materialesProductopListView=new app.MaterialesProductopListView({collection:this.materialesProductopList,parameters:{dataFilter:e}}),this.acabadosProductopListView=new app.AcabadosProductopListView({collection:this.acabadosProductopList,parameters:{dataFilter:e}}),this.areasProductopListView=new app.AreasProductopListView({collection:this.areasProductopList,parameters:{dataFilter:e,model:this.model,edit:!0}})},changeFormula:function(i){var o=this,n=this.$(i.currentTarget).data("input");if("P"==n||"RP"==n)this.$inputFormula=this.$inputFormulaPrecio,this.$inputRound=this.$inputRoundPrecio,this.$inputRenderFormula=this.$inputPrecio;else if("T"==n||"RT"==n)this.$inputFormula=this.$inputFormulaTransporte,this.$inputRound=this.$inputRoundTranporte,this.$inputRenderFormula=this.$inputTranporte;else{if("V"!=n&&"RV"!=n)return;this.$inputFormula=this.$inputFormulaViaticos,this.$inputRound=this.$inputRoundViaticos,this.$inputRenderFormula=this.$inputViaticos}var r=this.$inputFormula.val(),a=this.$inputRound.val();r=r.replaceAll("(","n"),r=r.replaceAll(")","m"),r=r.replaceAll("+","t"),e.ajax({url:t.Misc.urlFull(Route.route("ordenes.productos.formula")),type:"GET",data:{equation:r,round:a},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),o.$inputRenderFormula.val(e.precio_venta).trigger("change")}).fail(function(e,i,n){o.$inputRenderFormula.val(0),t.Misc.removeSpinner(o.el),alertify.error(n)})},changedTiro:function(t){var i=e(t.target).is(":checked");i?(this.$inputYellow.iCheck("check"),this.$inputMagenta.iCheck("check"),this.$inputCyan.iCheck("check"),this.$inputKey.iCheck("check")):(this.$inputYellow.iCheck("uncheck"),this.$inputMagenta.iCheck("uncheck"),this.$inputCyan.iCheck("uncheck"),this.$inputKey.iCheck("uncheck"))},changedRetiro:function(t){var i=e(t.target).is(":checked");i?(this.$inputYellow2.iCheck("check"),this.$inputMagenta2.iCheck("check"),this.$inputCyan2.iCheck("check"),this.$inputKey2.iCheck("check")):(this.$inputYellow2.iCheck("uncheck"),this.$inputMagenta2.iCheck("uncheck"),this.$inputCyan2.iCheck("uncheck"),this.$inputKey2.iCheck("uncheck"))},submitOrdenp2:function(e){this.$form.submit()},onStore:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),this.parameters.data);o.ordenp6=this.areasProductopList.toJSON(),this.model.save(o,{silent:!0})}},submitOrdenp6:function(e){this.$formOrdenp6.submit()},onStoreOrdenp6:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),this.parameters.data);this.areasProductopList.trigger("store",o)}},changeAreap:function(i){var o=this;id=this.$(i.currentTarget).val(),"undefined"==typeof id||_.isUndefined(id)||_.isNull(id)||""==id?(this.$inputArea.val("").attr("readonly",!1),this.$inputTiempo.val(""),this.$inputValor.val("")):e.ajax({url:t.Misc.urlFull(Route.route("areasp.show",{areasp:id})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$inputArea.val("").attr("readonly",!0),o.$inputTiempo.val(""),o.$inputValor.val(e.areap_valor)}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},calculateOrdenp2:function(){var e=transporte=viaticos=areas=precio=0;e=parseInt(this.$cantidad.val()),tranporte=Math.round(parseFloat(this.$transporte.inputmask("unmaskedvalue"))/e),viaticos=Math.round(parseFloat(this.$viaticos.inputmask("unmaskedvalue"))/e),areas=Math.round(parseFloat(this.areasProductopList.totalize().total)/e),precio=parseFloat(this.$precio.inputmask("unmaskedvalue")),this.$infoprecio.empty().html(t.Misc.currency(precio)),this.$infoviaticos.empty().html(t.Misc.currency(viaticos)),this.$infotransporte.empty().html(t.Misc.currency(tranporte)),this.$infoareas.empty().html(t.Misc.currency(areas)),this.totalOrdenp2=precio+tranporte+viaticos+areas,this.$precioOrdenp2.val(this.totalOrdenp2)},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:this.model.get("orden2_orden")})))}
}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DespachopOrdenListView=Backbone.View.extend({el:"#browse-orden-despachosp-list",events:{"click .item-orden-despacho-remove":"removeOne"},parameters:{wrapper:null,collectionPendientes:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{despachop1_orden:this.parameters.dataFilter.despachop1_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.DespachopOrdenItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper);var o=new app.DespachopModel;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e),i.parameters.collectionPendientes.fetch({data:{orden2_orden:i.parameters.dataFilter.despachop1_orden},reset:!0})}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.confirmDelete(o)},confirmDelete:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{tcontacto_nombre:i.get("tcontacto_nombre"),despachop1_fecha:i.get("despachop1_fecha")},template:_.template(e("#ordenp-despacho-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar despacho",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(o.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),o.collection.remove(e),o.parameters.collectionPendientes.fetch({data:{orden2_orden:o.parameters.dataFilter.despachop1_orden},reset:!0})}}})}}});n.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DespachopOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-despacho-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DespachospPendientesOrdenListView=Backbone.View.extend({el:"#browse-orden-despachosp-pendientes-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden2_orden:this.parameters.dataFilter.orden2_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.DespachopPendienteOrdenItemView({model:e});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DespachopPendienteOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-despacho-pendiente-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditOrdenpView=Backbone.View.extend({el:"#ordenes-create",template:_.template(e("#add-ordenp-tpl").html()||""),events:{"click .submit-ordenp":"submitOrdenp","click .close-ordenp":"closeOrdenp","click .clone-ordenp":"cloneOrdenp","click .export-ordenp":"exportOrdenp","change #typeproductop":"changeTypeProduct","change #subtypeproductop":"changeSubtypeProduct","submit #form-ordenes":"onStore","submit #form-despachosp":"onStoreDespacho"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.productopOrdenList=new app.ProductopOrdenList,this.despachopOrdenList=new app.DespachopOrdenList,this.despachospPendientesOrdenList=new app.DespachospPendientesOrdenList,this.tiempopordenList=new app.TiempopOrdenList,this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$form=this.$("#form-ordenes"),this.$product=this.$("#productop"),this.$subtypeproduct=this.$("#subtypeproductop"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready()},referenceViews:function(){this.productopOrdenListView=new app.ProductopOrdenListView({collection:this.productopOrdenList,parameters:{edit:!0,iva:this.model.get("orden_iva"),wrapper:this.spinner,dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachospPendientesOrdenListView=new app.DespachospPendientesOrdenListView({collection:this.despachospPendientesOrdenList,parameters:{dataFilter:{orden2_orden:this.model.get("id")}}}),this.tiempopordenListView=new app.TiempopOrdenListView({collection:this.tiempopordenList,parameters:{dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachopOrdenListView=new app.DespachopOrdenListView({collection:this.despachopOrdenList,parameters:{edit:!0,wrapper:this.spinner,collectionPendientes:this.despachospPendientesOrdenList,dataFilter:{despachop1_orden:this.model.get("id")}}}),this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.spinner,edit:!1,dataFilter:{orden2_orden:this.model.get("id")}}})},submitOrdenp:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},onStoreDespacho:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.despachop1_orden=this.model.get("id"),this.despachopOrdenList.trigger("store",i)}},changeTypeProduct:function(i){var o=this,n=this.$(i.currentTarget).val();"undefined"==typeof n||_.isUndefined(n)||_.isNull(n)||""==n?(this.$subtypeproduct.empty().val(0).attr("disabled","disabled"),this.$product.empty().val(0).attr("disabled","disabled")):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$product.empty().val(0).attr("disabled","disabled"),o.$subtypeproduct.empty().val(0).removeAttr("disabled"),o.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){o.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},changeSubtypeProduct:function(i){var o=this,n=this.$(i.currentTarget).val(),r=this.$("#typeproductop").val();"undefined"==typeof n||_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("productosp.index")),data:{subtypeproduct:n,typeproduct:r},type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$product.empty().val(0).removeAttr("disabled"),o.$product.append("<option value=></option>"),_.each(e,function(e){o.$product.append("<option value="+e.id+">"+e.productop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},exportOrdenp:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("ordenes.exportar",{ordenes:this.model.get("id")})),"_blank")},closeOrdenp:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{orden_codigo:o.model.get("orden_codigo")},template:_.template(e("#ordenp-close-confirm-tpl").html()||""),titleConfirm:"Cerrar orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("ordenes.cerrar",{ordenes:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){if(t.Misc.removeSpinner(o.spinner),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.show",{ordenes:o.model.get("id")})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})}}});n.render()},cloneOrdenp:function(i){i.preventDefault();var o=this,n=t.Misc.urlFull(Route.route("ordenes.clonar",{ordenes:this.model.get("id")})),r={orden_codigo:this.model.get("orden_codigo")},a=new t.app.ConfirmWindow({parameters:{dataFilter:r,template:_.template(e("#ordenp-clone-confirm-tpl").html()||""),titleConfirm:"Clonar orden de producción",onConfirm:function(){t.Misc.cloneModule({url:n,wrap:o.spinner,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:e.id})))}}(o)})}}});a.render()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:i.id}),{trigger:!0}))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainOrdenesView=Backbone.View.extend({el:"#ordenes-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var i=this;this.$ordersSearchTable=this.$("#ordenes-search-table"),this.$searchordenpOrden=this.$("#searchordenp_ordenp_numero"),this.$searchordenpTercero=this.$("#searchordenp_tercero"),this.$searchordenpTerceroName=this.$("#searchordenp_tercero_nombre"),this.$searchordenpEstado=this.$("#searchordenp_ordenp_estado"),this.$searchordenpReferencia=this.$("#searchordenp_ordenp_referencia"),this.$searchordenpProductop=this.$("#searchordenp_ordenp_productop"),this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.index")),data:function(e){e.persistent=!0,e.orden_numero=i.$searchordenpOrden.val(),e.orden_tercero_nit=i.$searchordenpTercero.val(),e.orden_tercero_nombre=i.$searchordenpTerceroName.val(),e.orden_estado=i.$searchordenpEstado.val(),e.orden_referencia=i.$searchordenpReferencia.val(),e.orden_productop=i.$searchordenpProductop.val()}},columns:[{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"orden_fecha_inicio",name:"orden_fecha_inicio"},{data:"orden_fecha_entrega",name:"orden_fecha_entrega"},{data:"orden_hora_entrega",name:"orden_hora_entrega"},{data:"tercero_nombre",name:"tercero_nombre"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("ordenes.show",{ordenes:o.id}))+'">'+e+"</a>"}},{targets:[1,2],visible:!1,width:"10%"},{targets:3,width:"10%"}],fnRowCallback:function(t,i){parseInt(i.orden_abierta)?e(t).css({color:"#00a65a"}):parseInt(i.orden_anulada)&&e(t).css({color:"red"})}})},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchordenpOrden.val(""),this.$searchordenpTercero.val(""),this.$searchordenpTerceroName.val(""),this.$searchordenpEstado.val(""),this.$searchordenpReferencia.val(""),this.$searchordenpProductop.val("").trigger("change"),this.ordersSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinasProductopListView=Backbone.View.extend({el:"#browse-orden-producto-maquinas-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinasProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinasProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-maquina-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialesProductopListView=Backbone.View.extend({el:"#browse-orden-producto-materiales-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialesProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialesProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-material-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductopOrdenListView=Backbone.View.extend({el:"#browse-orden-productop-list",events:{"click .item-orden-producto-remove":"removeOne","click .item-orden-producto-clone":"cloneOne"},parameters:{wrapper:null,edit:!1,iva:0,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$unidades=this.$("#subtotal-cantidad"),this.$facturado=this.$("#subtotal-facturado"),this.$subtotal=this.$("#subtotal-total"),this.$iva=this.$("#iva-total"),this.$total=this.$("#total-total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden2_orden:this.parameters.dataFilter.orden2_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.ProductopOrdenItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.confirmDelete(o)},confirmDelete:function(i){var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{producto_nombre:i.get("productop_nombre"),producto_id:i.get("id")},template:_.template(e("#ordenp-productop-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar producto",onConfirm:function(){i instanceof Backbone.Model&&i.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(o.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),o.collection.remove(e),o.totalize()}}})}}});n.render()},cloneOne:function(i){i.preventDefault();var o=this,n=e(i.currentTarget).attr("data-resource"),r=this.collection.get(n),a=t.Misc.urlFull(Route.route("ordenes.productos.clonar",{productos:r.get("id")})),s={orden2_codigo:r.get("id"),productop_nombre:r.get("productop_nombre")},c=new t.app.ConfirmWindow({parameters:{dataFilter:s,template:_.template(e("#ordenp-productop-clone-confirm-tpl").html()||""),titleConfirm:"Clonar producto orden de producción",onConfirm:function(){t.Misc.cloneModule({url:a,wrap:o.parameters.wrapper,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.productos.show",{productos:e.id})))}}(o)})}}});c.render()},totalize:function(){var e=this.collection.totalize();this.$unidades.length&&this.$unidades.html(e.unidades),this.$facturado.length&&this.$facturado.html(e.facturado),this.$subtotal.length&&this.$subtotal.html(t.Misc.currency(e.subtotal));var i=e.subtotal*(this.parameters.iva/100);this.$iva.length&&this.$iva.html(t.Misc.currency(i));var o=e.subtotal+i;this.$total.length&&this.$total.html(t.Misc.currency(o))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductopOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-producto-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowOrdenesView=Backbone.View.extend({el:"#ordenes-show",events:{"click .export-ordenp":"exportOrdenp","click .open-ordenp":"openOrdenp","click .clone-ordenp":"cloneOrdenp"},initialize:function(){this.$iva=this.$("#orden_iva"),this.productopOrdenList=new app.ProductopOrdenList,this.despachopOrdenList=new app.DespachopOrdenList,this.tiempopordenList=new app.TiempopOrdenList,this.referenceViews()},referenceViews:function(){this.productopOrdenListView=new app.ProductopOrdenListView({collection:this.productopOrdenList,parameters:{wrapper:this.$("#wrapper-productop-orden"),iva:this.$iva.val(),dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachopOrdenListView=new app.DespachopOrdenListView({collection:this.despachopOrdenList,parameters:{wrapper:this.$el,dataFilter:{despachop1_orden:this.model.get("id")}}}),this.tiempopordenListView=new app.TiempopOrdenListView({collection:this.tiempopordenList,parameters:{dataFilter:{orden2_orden:this.model.get("id")}}})},openOrdenp:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{orden_codigo:o.model.get("orden_codigo")},template:_.template(e("#ordenp-open-confirm-tpl").html()||""),titleConfirm:"Reabir orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("ordenes.abrir",{ordenes:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:o.model.get("id")})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}}});n.render()},cloneOrdenp:function(i){i.preventDefault();var o=this,n=t.Misc.urlFull(Route.route("ordenes.clonar",{ordenes:this.model.get("id")})),r=new t.app.ConfirmWindow({parameters:{template:_.template(e("#ordenp-clone-confirm-tpl").html()||""),titleConfirm:"Clonar orden de producción",onConfirm:function(){t.Misc.cloneModule({url:n,wrap:o.$el,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:e.id})))}}(o)})}}});r.render()},exportOrdenp:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("ordenes.exportar",{ordenes:this.model.get("id")})),"_blank")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TiempopOrdenListView=Backbone.View.extend({el:"#browse-orden-tiemposp-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden2_orden:this.parameters.dataFilter.orden2_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.TiempopOrdenItemView({model:e});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TiempopOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-tiempop-item-list-tpl").html()||""),parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPermisoView=Backbone.View.extend({el:"#permisos-main",initialize:function(){this.$permisosSearchTable=this.$("#permisos-search-table"),this.$permisosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("permisos.index")),columns:[{data:"name",name:"name"},{data:"display_name",name:"display_name"},{data:"description",name:"description"}],columnDefs:[{targets:0,width:"15%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePlanCuentaView=Backbone.View.extend({el:"#plancuentas-create",template:_.template(e("#add-plancuentas-tpl").html()||""),events:{"change input#plancuentas_cuenta":"cuentaChanged","submit #form-plancuentas":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-plancuentas"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$nivel=this.$("#plancuentas_nivel"),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},cuentaChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.nivel")),type:"GET",data:{plancuentas_cuenta:e(i.currentTarget).val()},beforeSend:function(){o.$nivel.val(""),t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&((_.isUndefined(e.nivel)||_.isNull(e.nivel)||!_.isNumber(e.nivel))&&alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."),o.$nivel.val(e.nivel))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("plancuentas.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPlanCuentasView=Backbone.View.extend({el:"#plancuentas-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$plancuentasSearchTable=this.$("#plancuentas-search-table"),this.$searchCuenta=this.$("#plancuentas_cuenta"),this.$searchName=this.$("#plancuentas_nombre"),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(t){t.persistent=!0,t.plancuentas_cuenta=e.$searchCuenta.val(),t.plancuentas_nombre=e.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"},{data:"plancuentas_equivalente",name:"plancuentas_equivalente"},{data:"plancuentas_tipo",name:"plancuentas_tipo"}],columnDefs:[{targets:0,width:"13%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:o.id}))+'">'+e+"</a>"}},{targets:1,width:"5%"},{targets:3,width:"10%",render:function(e,t,i,o){return"D"==e?"Débito":"Crédito"}},{targets:4,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}},{targets:5,width:"15%",render:function(e,i,o,n){return _.isNull(o.plancuentas_equivalente)||_.isUndefined(o.plancuentas_equivalente)?"":'<a href="'+t.Misc.urlFull(Route.route("plancuentasnif.show",{plancuentasnif:o.plancuentas_equivalente}))+'">'+o.plancuentasn_cuenta+"</a>"}},{targets:6,width:"15%",render:function(e,t,i,o){return"N"==e?"Ninguno":"I"==e?"Inventario":"C"==e?"Cartera":"P"==e?"Cuentas por pagar":""}}]})},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePlanCuentaNifView=Backbone.View.extend({el:"#plancuentasnif-create",template:_.template(e("#add-plancuentasnif-tpl").html()||""),events:{"change input#plancuentasn_cuenta":"cuentaChanged","submit #form-plancuentasnif":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-plancuentasnif"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$nivel=this.$("#plancuentasn_nivel"),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},cuentaChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("plancuentasnif.nivel")),type:"GET",data:{plancuentasn_cuenta:e(i.currentTarget).val()},beforeSend:function(){o.$nivel.val(""),t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&((_.isUndefined(e.nivel)||_.isNull(e.nivel)||!_.isNumber(e.nivel))&&alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."),o.$nivel.val(e.nivel))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("plancuentasnif.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPlanCuentasNifView=Backbone.View.extend({el:"#plancuentasnif-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$plancuentasNifSearchTable=this.$("#plancuentasnif-search-table"),this.$searchCuenta=this.$("#plancuentasn_cuenta"),this.$searchName=this.$("#plancuentasn_nombre"),this.plancuentasNifSearchTable=this.$plancuentasNifSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentasnif.index")),data:function(t){t.persistent=!0,t.plancuentasn_cuenta=e.$searchCuenta.val(),t.plancuentasn_nombre=e.$searchName.val()}},columns:[{data:"plancuentasn_cuenta",name:"plancuentasn_cuenta"},{data:"plancuentasn_nivel",name:"plancuentasn_nivel"},{data:"plancuentasn_nombre",name:"plancuentasn_nombre"},{data:"plancuentasn_naturaleza",name:"plancuentasn_naturaleza"},{data:"plancuentasn_tercero",name:"plancuentasn_tercero"},{data:"plancuentasn_tipo",name:"plancuentasn_tipo"}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("plancuentasnif.show",{plancuentasnif:o.id}))+'">'+e+"</a>"}},{targets:1,width:"10%"},{targets:3,width:"10%",render:function(e,t,i,o){return"D"==parseInt(e)?"Débito":"Crédito"}},{targets:4,
width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}},{targets:5,width:"15%",render:function(e,t,i,o){return"N"==e?"Ninguno":"I"==e?"Inventario":"C"==e?"Cartera":"P"==e?"Cuentas por pagar":""}}]})},search:function(e){e.preventDefault(),this.plancuentasNifSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasNifSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateProductoView=Backbone.View.extend({el:"#productos-create",template:_.template(e("#add-producto-tpl").html()||""),events:{"ifChecked #producto_serie":"serieChange","ifChecked #producto_metrado":"metradoChange","submit #form-productos":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-producto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$inputSerie=this.$("#producto_serie"),this.$inputMetrado=this.$("#producto_metrado"),this.ready()},serieChange:function(t){var i=e(t.target).is(":checked");i&&this.$inputMetrado.iCheck("uncheck")},metradoChange:function(t){var i=e(t.target).is(":checked");i&&this.$inputSerie.iCheck("uncheck")},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("productos.show",{productos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainProductosView=Backbone.View.extend({el:"#productos-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productosSearchTable=this.$("#productos-search-table"),this.$searchCod=this.$("#producto_codigo"),this.$searchName=this.$("#producto_nombre"),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(t){t.persistent=!0,t.producto_codigo=e.$searchCod.val(),t.producto_nombre=e.$searchName.val()}},columns:[{data:"producto_codigo",name:"producto_codigo"},{data:"producto_nombre",name:"producto_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("productos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("productos.show",{productos:o.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCod.val(""),this.$searchName.val(""),this.productosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowProductoView=Backbone.View.extend({el:"#producto-show",templateItemsRollo:_.template(e("#itemrollo-product-tpl").html()||""),events:{"click .get-info-availability":"getInfoAvailability"},initialize:function(){this.$("#browse-prodbode-table").hide(),this.sucursal=null,this.call=null,this.itemRolloINList=new app.ItemRolloINList,this.prodbodeList=new app.ProdBodeList},getInfoAvailability:function(t){t.preventDefault(),"rollos"===this.$(t.target).attr("data-action")&&(this.sucursal=this.$(t.target).attr("data-sucursal"),this.$modalGeneric=e("#modal-product-generic"),this.$modalGeneric.modal("show"),this.$modalGeneric.find(".content-modal").empty().html(this.templateItemsRollo()),this.$modalGeneric.find(".modal-title").text("Productos metrados"),this.referenceViews()),"series"===this.$(t.target).attr("data-action")&&0==this.prodbodeList.length&&(this.call=!0,this.$("#browse-prodbode-table").show(),this.referenceViews())},referenceViews:function(){this.prodbodeListView=new app.ProdbodeListView({collection:this.prodbodeList,parameters:{dataFilter:{producto_id:this.model.get("id"),call:this.call}}}),this.itemRolloListView=new app.ItemRolloListView({collection:this.itemRolloINList,parameters:{choose:!1,show:!0,dataFilter:{producto_id:this.model.get("id"),sucursal:this.sucursal}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadoItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-acabado-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AcabadosListView=Backbone.View.extend({el:"#browse-acabados-productop-list",events:{"click .item-productop6-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadoItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop6_productop=this.parameters.dataFilter.productop_id;var o=new app.Productop6Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-productosp6"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreaItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-area-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AreasListView=Backbone.View.extend({el:"#browse-areas-productop-list",events:{"click .item-productop3-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.AreaItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop3_productop=this.parameters.dataFilter.productop_id;var o=new app.Productop3Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-productosp3"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateProductopView=Backbone.View.extend({el:"#productosp-create",template:_.template(e("#add-productop-tpl").html()||""),events:{"ifChanged .change-productop-abierto-koi-component":"changedAbierto","ifChanged .change-productop-cerrado-koi-component":"changedCerrado","ifChanged .change-productop-3d-koi-component":"changed3d","change #productop_tipoproductop":"changeTypeProduct","click .submit-productosp":"submitProductop","submit #form-productosp":"onStore"},parameters:{},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();t.edit=!1,this.$el.html(this.template(t)),this.$inputAbierto=e("#productop_abierto"),this.$inputAbiertoAncho=e("#productop_ancho_med"),this.$inputAbiertoAlto=e("#productop_alto_med"),this.$inputCerrado=e("#productop_cerrado"),this.$inputCerradoAncho=e("#productop_c_med_ancho"),this.$inputCerradoAlto=e("#productop_c_med_alto"),this.$input3d=e("#productop_3d"),this.$input3dAncho=e("#productop_3d_ancho_med"),this.$input3dAlto=e("#productop_3d_alto_med"),this.$input3dProfundidad=e("#productop_3d_profundidad_med"),this.$form=this.$("#form-productosp"),this.$subtypeproduct=this.$("#productop_subtipoproductop"),this.spinner=this.$("#spinner-main"),this.ready()},submitProductop:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},changedAbierto:function(t){var i=e(t.target).is(":checked");i?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changedCerrado:function(t){var i=e(t.target).is(":checked");i?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changed3d:function(t){var i=e(t.target).is(":checked");i?(this.$inputAbierto.iCheck("uncheck"),this.$inputAbierto.iCheck("disable"),this.$inputAbiertoAncho.prop("disabled",!0).val(""),this.$inputAbiertoAlto.prop("disabled",!0).val(""),this.$inputCerrado.iCheck("uncheck"),this.$inputCerrado.iCheck("disable"),this.$inputCerradoAncho.prop("disabled",!0).val(""),this.$inputCerradoAlto.prop("disabled",!0).val("")):(this.$inputAbierto.iCheck("enable"),this.$inputAbiertoAncho.prop("disabled",!1),this.$inputAbiertoAlto.prop("disabled",!1),this.$inputCerrado.iCheck("enable"),this.$inputCerradoAncho.prop("disabled",!1),this.$inputCerradoAlto.prop("disabled",!1))},changeTypeProduct:function(i){var o=this;typeproduct=this.$(i.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?this.$subtypeproduct.empty().val(0):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$subtypeproduct.empty().val(0),o.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){o.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),Backbone.history.navigate(Route.route("productosp.edit",{productosp:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditProductopView=Backbone.View.extend({el:"#productosp-create",template:_.template(e("#add-productop-tpl").html()||""),events:{"ifChanged .change-productop-abierto-koi-component":"changedAbierto","ifChanged .change-productop-cerrado-koi-component":"changedCerrado","ifChanged .change-productop-3d-koi-component":"changed3d","change #productop_tipoproductop":"changeTypeProduct","click .submit-productosp":"submitProductop","submit #form-productosp":"onStore","submit #form-productosp2":"onStoreTip","submit #form-productosp3":"onStoreArea","submit #form-productosp4":"onStoreMaquina","submit #form-productosp5":"onStoreMaterial","submit #form-productosp6":"onStoreAcabado"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.tipsList=new app.TipsList,this.areasList=new app.AreasList,this.maquinasList=new app.MaquinasList,this.materialesList=new app.MaterialesList,this.acabadosList=new app.AcabadosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();t.edit=!0,this.$el.html(this.template(t)),this.$form=this.$("#form-productosp"),this.spinner=this.$("#spinner-main"),this.$inputAbierto=e("#productop_abierto"),this.$inputAbiertoAncho=e("#productop_ancho_med"),this.$inputAbiertoAlto=e("#productop_alto_med"),this.$inputCerrado=e("#productop_cerrado"),this.$inputCerradoAncho=e("#productop_c_med_ancho"),this.$inputCerradoAlto=e("#productop_c_med_alto"),this.$input3d=e("#productop_3d"),this.$input3dAncho=e("#productop_3d_ancho_med"),this.$input3dAlto=e("#productop_3d_alto_med"),this.$input3dProfundidad=e("#productop_3d_profundidad_med"),this.$subtypeproduct=this.$("#productop_subtipoproductop"),this.referenceViews(),this.ready()},referenceViews:function(){this.tipsListView=new app.TipsListView({collection:this.tipsList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-tips"),dataFilter:{productop_id:this.model.get("id")}}}),this.areasListView=new app.AreasListView({collection:this.areasList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-areas"),dataFilter:{productop_id:this.model.get("id")}}}),this.maquinasListView=new app.MaquinasListView({collection:this.maquinasList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-maquinas"),dataFilter:{productop_id:this.model.get("id")}}}),this.materialesListView=new app.MaterialesListView({collection:this.materialesList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-materiales"),dataFilter:{productop_id:this.model.get("id")}}}),this.acabadosListView=new app.AcabadosListView({collection:this.acabadosList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-acabados"),dataFilter:{productop_id:this.model.get("id")}}})},submitProductop:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},changedAbierto:function(t){var i=e(t.target).is(":checked");i?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changedCerrado:function(t){var i=e(t.target).is(":checked");i?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changed3d:function(t){var i=e(t.target).is(":checked");i?(this.$inputAbierto.iCheck("uncheck"),this.$inputAbierto.iCheck("disable"),this.$inputAbiertoAncho.prop("disabled",!0).val(""),this.$inputAbiertoAlto.prop("disabled",!0).val(""),this.$inputCerrado.iCheck("uncheck"),this.$inputCerrado.iCheck("disable"),this.$inputCerradoAncho.prop("disabled",!0).val(""),this.$inputCerradoAlto.prop("disabled",!0).val("")):(this.$inputAbierto.iCheck("enable"),this.$inputAbiertoAncho.prop("disabled",!1),this.$inputAbiertoAlto.prop("disabled",!1),this.$inputCerrado.iCheck("enable"),this.$inputCerradoAncho.prop("disabled",!1),this.$inputCerradoAlto.prop("disabled",!1))},changeTypeProduct:function(i){var o=this;typeproduct=this.$(i.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?this.$subtypeproduct.empty().val(0):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.spinner)}}).done(function(e){t.Misc.removeSpinner(o.spinner),o.$subtypeproduct.empty().val(0),o.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){o.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,i,n){t.Misc.removeSpinner(o.spinner),alertify.error(n)})},onStoreTip:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.tipsList.trigger("store",i)}},onStoreArea:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.areasList.trigger("store",i)}},onStoreMaquina:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.maquinasList.trigger("store",i)}},onStoreMaterial:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.materialesList.trigger("store",i)}},onStoreAcabado:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.acabadosList.trigger("store",i)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("productosp.show",{productosp:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainProductospView=Backbone.View.extend({el:"#productosp-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productospSearchTable=this.$("#productosp-search-table"),this.$searchCod=this.$("#productop_codigo"),this.$searchName=this.$("#productop_nombre"),this.productospSearchTable=this.$productospSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productosp.index")),data:function(t){t.persistent=!0,t.datatables=!0,t.productop_codigo=e.$searchCod.val(),t.productop_nombre=e.$searchName.val()}},columns:[{data:"productop_codigo",name:"productop_codigo"},{data:"productop_nombre",name:"productop_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("productosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("productosp.show",{productosp:o.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productospSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCod.val(""),this.$searchName.val(""),this.productospSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinaItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-maquina-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaquinasListView=Backbone.View.extend({el:"#browse-maquinas-productop-list",events:{"click .item-productop4-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinaItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop4_productop=this.parameters.dataFilter.productop_id;var o=new app.Productop4Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-productosp4"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialesListView=Backbone.View.extend({el:"#browse-materiales-productop-list",events:{"click .item-productop5-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop5_productop=this.parameters.dataFilter.productop_id;var o=new app.Productop5Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-productosp5"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MaterialItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-material-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowProductopView=Backbone.View.extend({el:"#productop-show",events:{"click .clone-productop":"cloneProductop"},initialize:function(){this.model.id!=o&&(this.tipsList=new app.TipsList,this.areasList=new app.AreasList,this.maquinasList=new app.MaquinasList,this.materialesList=new app.MaterialesList,this.acabadosList=new app.AcabadosList,this.referenceViews())},referenceViews:function(){this.tipsListView=new app.TipsListView({collection:this.tipsList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-tips"),dataFilter:{productop_id:this.model.get("id")}}}),this.areasListView=new app.AreasListView({collection:this.areasList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-areas"),dataFilter:{productop_id:this.model.get("id")}}}),this.maquinasListView=new app.MaquinasListView({collection:this.maquinasList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-maquinas"),dataFilter:{productop_id:this.model.get("id")}}}),this.materialesListView=new app.MaterialesListView({collection:this.materialesList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-materiales"),dataFilter:{productop_id:this.model.get("id")}}}),this.acabadosListView=new app.AcabadosListView({collection:this.acabadosList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-acabados"),dataFilter:{productop_id:this.model.get("id")}}})},cloneProductop:function(i){i.preventDefault();var o=this,n=t.Misc.urlFull(Route.route("productosp.clonar",{productosp:this.model.get("id")})),r=new t.app.ConfirmWindow({parameters:{template:_.template(e("#productop-clone-confirm-tpl").html()||""),titleConfirm:"Clonar producto",onConfirm:function(){t.Misc.cloneModule({url:n,wrap:o.el,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("productosp.show",{productosp:e.id})))}}(o)})}}});r.render()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TipItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-tip-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TipsListView=Backbone.View.extend({el:"#browse-tips-productop-list",events:{"click .item-productop2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.TipItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop2_productop=this.parameters.dataFilter.productop_id;var o=new app.Productop2Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;
if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(i,o,n){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(e("#form-productosp2"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePuntoventaView=Backbone.View.extend({el:"#puntosventa-create",template:_.template(e("#add-puntoventa-tpl").html()||""),events:{"submit #form-puntosventa":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-puntosventa"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPuntoventaView=Backbone.View.extend({el:"#puntosventa-main",initialize:function(){this.$puntosventaSearchTable=this.$("#puntosventa-search-table"),this.$puntosventaSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("puntosventa.index")),columns:[{data:"puntoventa_nombre",name:"puntoventa_nombre"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"},{data:"puntoventa_resolucion_dian",name:"puntoventa_resolucion_dian"},{data:"puntoventa_numero",name:"puntoventa_numero"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo punto de venta',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.create")))}}],columnDefs:[{targets:0,render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("puntosventa.show",{puntosventa:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore"},initialize:function(){this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);Backbone.history.navigate(Route.route("roles.edit",{roles:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePermisoRolView=Backbone.View.extend({el:"#modal-permisorol-component",template:_.template(e("#edit-permissions-tpl").html()||""),events:{"submit #form-permisorol-component":"onStore"},parameters:{permissions:[],dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$el.find(".inner-title-modal").empty().html(this.model.get("display_name")),this.$wraperContent=this.$el.find(".modal-body"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();return e.permissions=this.parameters.permissions,this.$el.find(".content-modal").empty().html(this.template(e)),this.ready(),this.$el.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.role_id=this.parameters.dataFilter.role_id,this.model.save(i,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.collection.fetch({data:this.parameters.dataFilter,reset:!0}),this.$el.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore","click .toggle-children":"toggleChildren","click .btn-set-permission":"changePermissions"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.stuffToDo={},this.stuffToVw={},this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},toggleChildren:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=e(t.currentTarget).attr("data-father"),n=e(t.currentTarget).attr("data-nivel1"),r=e(t.currentTarget).attr("data-nivel2");this.stuffToVw[i]instanceof Backbone.View==0&&(this.stuffToDo[i]=new app.PermisosRolList,this.stuffToVw[i]=new app.PermisosRolListView({el:"#wrapper-permisions-"+i,collection:this.stuffToDo[i],parameters:{wrapper:this.$("#wrapper-father-"+o),permissions:this.model.get("permissions"),father:i,dataFilter:{role_id:this.model.get("id"),nivel1:n,nivel2:r}}}))},changePermissions:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=e(t.currentTarget).attr("data-father"),n=this.stuffToDo[o],r=n.get(i);this.createPermisoRolView instanceof Backbone.View&&(this.createPermisoRolView.stopListening(),this.createPermisoRolView.undelegateEvents()),this.createPermisoRolView=new app.CreatePermisoRolView({model:r,collection:n,parameters:{permissions:this.model.get("permissions"),dataFilter:{role_id:this.model.get("id"),nivel1:r.get("nivel1"),nivel2:r.get("nivel2")}}}),this.createPermisoRolView.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.spinner)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("roles.edit",{roles:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainRolesView=Backbone.View.extend({el:"#roles-main",initialize:function(){this.$rolesSearchTable=this.$("#roles-search-table"),this.$rolesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("roles.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"},{data:"description",name:"description"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Rol',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("roles.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("roles.show",{roles:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.PermisosRolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#permissions-rol-list-tpl").html()||""),parameters:{father:null,permissions:[],edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,e.father=this.parameters.father,e.permissions=this.parameters.permissions,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.PermisosRolListView=Backbone.View.extend({events:{},parameters:{wrapper:null,father:null,edit:!1,permissions:[],dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.PermisosRolItemView({model:e,parameters:{father:this.parameters.father,permissions:this.parameters.permissions,edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSubActividadpView=Backbone.View.extend({el:"#subactividadp-create",template:_.template(e("#add-subactividadp-tpl").html()||""),events:{"submit #form-subactividadp":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subactividadp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("subactividadesp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSubActividadespView=Backbone.View.extend({el:"#subactividadesp-main",initialize:function(){this.$subactividadespSearchTable=this.$("#subactividadesp-search-table"),this.$subactividadespSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("subactividadesp.index")),data:function(e){e.datatables=!0}},columns:[{data:"id",name:"id"},{data:"actividadp_nombre",name:"actividadp_nombre"},{data:"subactividadp_nombre",name:"subactividadp_nombre"},{data:"subactividadp_activo",name:"subactividadp_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva Subactividad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("subactividadesp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("subactividadesp.show",{subactividadesp:o.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSubGrupoView=Backbone.View.extend({el:"#subgrupos-create",template:_.template(e("#add-subgrupo-tpl").html()||""),events:{"submit #form-subgrupos":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subgrupo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("subgrupos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSubGruposView=Backbone.View.extend({el:"#subgrupos-main",initialize:function(){this.$subgruposSearchTable=this.$("#subgrupos-search-table"),this.$subgruposSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("subgrupos.index")),columns:[{data:"subgrupo_codigo",name:"subgrupo_codigo"},{data:"subgrupo_nombre",name:"subgrupo_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo subgrupo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("subgrupos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("subgrupos.show",{subgrupos:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSubtipoProductopView=Backbone.View.extend({el:"#subtipoproductop-create",template:_.template(e("#add-subtipoproductop-tpl").html()||""),events:{"submit #form-subtipoproductop":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subtipoproductop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("subtipoproductosp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSubtipoProductospView=Backbone.View.extend({el:"#subtipoproductosp-main",initialize:function(){this.$subtipoproductospSearchTable=this.$("#subtipoproductosp-search-table"),this.$subtipoproductospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("subtipoproductosp.index")),data:function(e){e.datatables=!0}},columns:[{data:"id",name:"id"},{data:"subtipoproductop_nombre",name:"subtipoproductop_nombre"},{data:"tipoproductop_nombre",name:"tipoproductop_nombre"},{data:"subtipoproductop_activo",name:"subtipoproductop_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Subtipo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("subtipoproductosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("subtipoproductosp.show",{subtipoproductosp:o.id}))+'">'+e+"</a>"}},{targets:[3],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSucursalView=Backbone.View.extend({el:"#sucursales-create",template:_.template(e("#add-sucursal-tpl").html()||""),events:{"submit #form-sucursales":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-sucursal"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSucursalesView=Backbone.View.extend({el:"#sucursales-main",initialize:function(){this.$sucursalesSearchTable=this.$("#sucursales-search-table"),this.$sucursalesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("sucursales.index")),columns:[{data:"sucursal_nombre",name:"sucursal_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva sucursal',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.create")))}}],columnDefs:[{targets:0,render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("sucursales.show",{sucursales:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ContactItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contact-item-list-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ContactsListView=Backbone.View.extend({el:"#browse-contact-list",events:{"click .btn-edit-tcontacto":"editOne"},parameters:{dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.on("createOne",this.createOne,this),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContactItemView({model:e});this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},editOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:o}),this.createTContactoView.render()},createOne:function(e,t,i,o){var n=this;this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:new app.ContactoModel({tcontacto_direccion:t,tcontacto_direccion_nomenclatura:i,tcontacto_municipio:o}),collection:n.collection,parameters:{tercero_id:e}}),this.createTContactoView.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTerceroView=Backbone.View.extend({el:"#tercero-create",template:_.template(e("#add-tercero-tpl").html()||""),events:{"submit #form-tercero":"onStore","submit #form-item-roles":"onStoreRol","submit #form-changed-password":"onStorePassword","ifChanged .change_employee":"changedEmployee","ifChanged #tercero_tecnico":"changedTechnical","ifChanged #tercero_coordinador":"changedCoordinador","click .btn-add-tcontacto":"addContacto"},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Tercero guardado con exito!",this.$wraperForm=this.$("#render-form-tercero"),this.model.id!=o&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-tercero"),this.$formAccounting=this.$("#form-accounting"),this.$formEmployee=this.$("#form-employee"),this.$checkEmployee=this.$("#tercero_empleado"),this.$checkInternal=this.$("#tercero_interno"),this.$coordinador_por=this.$("#tercero_coordinador_por"),this.$username=this.$("#username"),this.$password=this.$("#password"),this.$password_confirmation=this.$("#password_confirmation"),this.$wrapperEmployes=this.$("#wrapper-empleados"),this.$wrapperCoordinador=this.$("#wrapper-coordinador"),this.model.id!=o&&this.referenceViews(),this.ready()},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{edit:!0,wrapper:this.$("#wrapper-tcontacto"),dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!0,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})},onStore:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),t.Misc.formToJson(this.$formAccounting),t.Misc.formToJson(this.$formEmployee));this.model.save(o,{patch:!0,silent:!0})}},onStoreRol:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.rolList.trigger("store",i)}},addContacto:function(){this.contactsListView.trigger("createOne",this.model.get("id"),this.model.get("tercero_direccion"),this.model.get("tercero_dir_nomenclatura"),this.model.get("tercero_municipio"))},changedTechnical:function(t){var i=e(t.target).is(":checked");i?this.$wrapperCoordinador.removeClass("hide"):this.$wrapperCoordinador.addClass("hide")},changedCoordinador:function(t){var i=e(t.target).is(":checked"),o=this.model.get("tercero_nombre1")+" "+this.model.get("tercero_nombre2")+" "+this.model.get("tercero_apellido1")+" "+this.model.get("tercero_apellido2"),n=[{id:this.model.get("id"),text:o}];i?(this.$coordinador_por.select2({data:n}).trigger("change"),this.$coordinador_por.select2({language:"es",placeholder:"Seleccione",allowClear:!1})):this.$coordinador_por.find("option[value="+this.model.get("id")+"]").remove()},changedEmployee:function(e){this.$checkInternal.is(":checked")||this.$checkEmployee.is(":checked")?this.$wrapperEmployes.removeClass("hide"):this.$wrapperEmployes.addClass("hide")},onStorePassword:function(i){var o=this;if(!i.isDefaultPrevented()){i.preventDefault();var n=t.Misc.formToJson(i.target);n.id=this.model.get("id"),e.ajax({type:"POST",url:t.Misc.urlFull(Route.route("terceros.setpassword")),data:n,beforeSend:function(){t.Misc.setSpinner(o.$("#wrapper-password"))}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);alertify.success(e.message)}}).fail(function(e,i,n){t.Misc.removeSpinner(o.$("#wrapper-password")),alertify.error(n)})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);alertify.success(this.msgSuccess),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),Backbone.history.navigate(Route.route("terceros.edit",{terceros:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTContactoView=Backbone.View.extend({el:"body",template:_.template(e("#add-contacto-tpl").html()||""),events:{"submit #form-tcontacto-component":"onStore"},parameters:{tercero_id:null},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.$modalComponent=this.$("#modal-tcontacto-component")},render:function(){var e=this.model.toJSON();return this.$modalComponent.find(".content-modal").html("").html(this.template(e)),this.$wraperContent=this.$("#content-tcontacto-component").find(".modal-body"),this.ready(),this.$modalComponent.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);_.isUndefined(this.parameters.tercero_id)||_.isNull(this.parameters.tercero_id)||""==this.parameters.tercero_id||(i.tcontacto_tercero=this.parameters.tercero_id),this.model.save(i,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.collection instanceof Backbone.Collection&&this.collection.add(e),this.$modalComponent.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.FacturaptListView=Backbone.View.extend({el:"#browse-facturap-list",events:{},parameters:{dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.FacturaptItemView({model:e});this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.FacturaptItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#facturapt-item-list-tpl").html()||""),events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTerceroView=Backbone.View.extend({el:"#terceros-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$tercerosSearchTable=this.$("#terceros-search-table"),this.$searchNit=this.$("#tercero_nit"),this.$searchName=this.$("#tercero_nombre"),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(t){t.persistent=!0,t.tercero_nit=e.$searchNit.val(),t.tercero_nombre=e.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("terceros.show",{terceros:o.id}))+'">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1}]})},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.RolesListView=Backbone.View.extend({
el:"#browse-roles-list",events:{"click .item-roles-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.RolItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.user_id=this.parameters.dataFilter.tercero_id;var o=new app.UsuarioRolModel;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),r=this;n instanceof Backbone.Model&&n.destroy({data:{user_id:this.parameters.dataFilter.tercero_id},processData:!0,success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.RolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#roles-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowTerceroView=Backbone.View.extend({el:"#terceros-show",initialize:function(){this.model.id!=o&&(this.contactsList=new app.ContactsList,this.facturaptList=new app.FacturaptList,this.rolList=new app.RolList,this.detalleFacturaList=new app.DetalleFactura4List,this.referenceViews())},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!1,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}}),this.facturaptListView=new app.FacturaptListView({collection:this.facturaptList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.factura4ListView=new app.Factura4ListView({collection:this.detalleFacturaList,parameters:{edit:!1,template:_.template(e("#add-detalle-factura-cartera-tpl").html()||""),call:"tercero",dataFilter:{tercero_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TiempopActionView=Backbone.View.extend({el:"#tiempop-content-section",template:_.template(e("#edit-tiempop-tpl").html()||""),events:{"click .submit-edit-tiempop":"submitForm","submit #form-edit-tiempop":"onStore"},parameters:{action:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modal=e("#modal-edit-tiempop"),this.$form=this.$("#form-edit-tiempop")},render:function(){var e=this.parameters.model;this.$modal.find(".modal-title").text("Tiempo de producción - Editar # "+e.id),this.$modal.find(".content-modal").empty().html(this.template(e)),this.ready()},submitForm:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=this,o=t.Misc.formToJson(e.target),n=_.find(this.parameters.collection.models,function(e){return e.get("id")==i.parameters.model.id});n instanceof Backbone.Model&&n.save(o,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);alertify.success(o.msg),i.parameters.collection.fetch(),i.$modal.modal("hide")}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})}},ready:function(){"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TiempopItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#tiempop-item-list-tpl").html()||""),parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TiempopListView=Backbone.View.extend({el:"#browse-tiemposp-list",events:{"click .edit-tiempop":"editTiempop"},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modal=e("#modal-edit-tiempop"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch()},render:function(){},editTiempop:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var t={id:this.$(e.currentTarget).data("tiempo-resource"),fecha:this.$(e.currentTarget).data("tiempo-fecha"),horai:this.$(e.currentTarget).data("tiempo-hi"),horaf:this.$(e.currentTarget).data("tiempo-hf")};this.$modal.modal("show"),this.tiempopActionView instanceof Backbone.View&&(this.tiempopActionView.stopListening(),this.tiempopActionView.undelegateEvents()),this.tiempopActionView=new app.TiempopActionView({parameters:{collection:this.collection,model:t}}),this.tiempopActionView.render()}},addOne:function(e){var t=new app.TiempopItemView({model:e});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(i){var o=this;t.Misc.setSpinner(this.parameters.wrapper);var n=new app.TiempopModel;n.save(i,{success:function(i,n){if(!_.isUndefined(n.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=n.success?"":n.errors;if(_.isObject(n.errors)&&(r=t.Misc.parseErrors(n.errors)),!n.success)return void alertify.error(r);o.collection.add(i),t.Misc.clearForm(e("#form-tiempop"))}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTiempopView=Backbone.View.extend({el:"#tiempop-create",events:{"click .submit-tiempop":"submitTiempop","submit #form-tiempop":"onStoreTiempop","change #tiempop_actividadp":"changeActividadp"},initialize:function(){this.tiempopList=new app.TiempopList,this.$form=this.$("#form-tiempop"),this.$subactividadesp=this.$("#tiempop_subactividadp"),this.referenceViews(),this.ready()},render:function(){},referenceViews:function(){this.tiempopListView=new app.TiempopListView({collection:this.tiempopList,parameters:{wrapper:this.el}})},changeActividadp:function(i){var o=this,n=this.$(i.currentTarget).val();"undefined"==typeof n||_.isUndefined(n)||_.isNull(n)||""==n?this.$subactividadesp.empty().val(0):e.ajax({url:t.Misc.urlFull(Route.route("subactividadesp.index",{actividadesp:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.length>0?(o.$subactividadesp.empty().val(0).attr("required","required"),o.$subactividadesp.append("<option value=></option>"),_.each(e,function(e){o.$subactividadesp.append("<option value="+e.id+">"+e.subactividadp_nombre+"</option>")})):o.$subactividadesp.empty().val(0).removeAttr("required")}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},submitTiempop:function(e){this.$form.submit()},onStoreTiempop:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.tiempopList.trigger("store",i)}},ready:function(){"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTipoMaterialpView=Backbone.View.extend({el:"#tipomaterialesp-create",template:_.template(e("#add-tipomaterialp-tpl").html()||""),events:{"submit #form-tipomaterialp":"onStore"},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipomaterialp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("tipomaterialesp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTipoMaterialespView=Backbone.View.extend({el:"#tipomaterialesp-main",initialize:function(){this.$tipomaterialpSearchTablese=this.$("#tipomaterialesp-search-table"),this.$tipomaterialpSearchTablese.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tipomaterialesp.index")),columns:[{data:"id",name:"id"},{data:"tipomaterial_nombre",name:"tipomaterial_nombre"},{data:"tipomaterial_activo",name:"tipomaterial_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva tipo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("tipomaterialesp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("tipomaterialesp.show",{tipomaterialesp:o.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTipoProductopView=Backbone.View.extend({el:"#tipoproductop-create",template:_.template(e("#add-tipoproductop-tpl").html()||""),events:{"submit #form-tipoproductop":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipoproductop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("tipoproductosp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTipoProductospView=Backbone.View.extend({el:"#tipoproductosp-main",initialize:function(){this.$tipoproductospSearchTable=this.$("#tipoproductosp-search-table"),this.$tipoproductospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tipoproductosp.index")),columns:[{data:"id",name:"id"},{data:"tipoproductop_nombre",name:"tipoproductop_nombre"},{data:"tipoproductop_activo",name:"tipoproductop_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo tipo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("tipoproductosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("tipoproductosp.show",{tipoproductosp:o.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTrasladoView=Backbone.View.extend({el:"#traslados-create",template:_.template(e("#add-traslado-tpl").html()||""),events:{"click .submit-traslado":"submitTraslado","submit #form-item-traslado":"onStoreItem","submit #form-traslado":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-traslado"),this.trasladoProductosList=new app.TrasladoProductosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-traslado"),this.$formItem=this.$("#form-item-traslado"),this.referenceViews()},referenceViews:function(){this.productosListView=new app.TrasladoProductosListView({collection:this.trasladoProductosList,parameters:{wrapper:this.el,edit:!0}})},submitTraslado:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.detalle=this.trasladoProductosList.toJSON(),this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=i=t.Misc.formToJson(e.target);i.tipo="S",i.sucursal=this.$("#traslado1_sucursal").val(),i.destino=this.$("#traslado1_destino").val(),t.Misc.evaluateActionsInventory({data:i,wrap:this.$el,callback:function(e){return function(t,o,n){e.inventarioActionView instanceof Backbone.View&&(e.inventarioActionView.stopListening(),e.inventarioActionView.undelegateEvents()),e.inventarioActionView=new app.InventarioActionView({model:e.model,collection:e.trasladoProductosList,parameters:{data:i,action:t,tipo:o,producto:n,form:e.$formItem}}),e.inventarioActionView.render()}}(this)})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("traslados.show",{traslados:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTrasladosView=Backbone.View.extend({el:"#traslados-main",initialize:function(){this.$trasladosSearchTable=this.$("#traslados-search-table"),this.$trasladosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("traslados.index")),columns:[{data:"traslado1_numero",name:"traslado1_numero"},{data:"sucursa_origen",name:"sucursa_origen"},{data:"sucursa_destino",name:"sucursa_destino"},{data:"traslado1_fecha",name:"traslado1_fecha"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo traslado',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("traslados.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("traslados.show",{traslados:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowTrasladoView=Backbone.View.extend({el:"#traslados-show",initialize:function(){this.model.id!=o&&(this.trasladoProductosList=new app.TrasladoProductosList,this.referenceViews())},referenceViews:function(){this.productosListView=new app.TrasladoProductosListView({collection:this.trasladoProductosList,parameters:{wrapper:this.el,edit:!1,dataFilter:{traslado:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TrasladoProductosListView=Backbone.View.extend({el:"#browse-detalle-traslado-list",events:{"click .item-traslado2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$costoTotal=this.$("#total-costo"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.traslado)||_.isNull(this.parameters.dataFilter.traslado)||(this.confCollection.data.traslado=this.parameters.dataFilter.traslado,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.TrasladoProductosItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper);var o=new app.Traslado2Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.TrasladoProductosItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-traslado2-item-tpl").html()||""),events:{},parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateUnidadView=Backbone.View.extend({el:"#unidades-create",template:_.template(e("#add-unidad-tpl").html()||""),events:{"submit #form-unidades":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-unidad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainUnidadesView=Backbone.View.extend({el:"#unidades-main",initialize:function(){this.$unidadesSearchTable=this.$("#unidades-search-table"),this.$unidadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("unidades.index")),columns:[{data:"unidadmedida_sigla",name:"unidadmedida_sigla"},{data:"unidadmedida_nombre",name:"unidadmedida_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo unidad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("unidades.show",{unidades:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),function(e,t,i,o){var n=function(e){};n.prototype={initialize:function(){},formToJson:function(t){var i={},n=[];return n=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(n,function(){i[this.name]!==o?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(i.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),i.url+e},parseErrors:function(t){var i="";if(_.isObject(t)){var o="<ul>";e.each(t,function(e,t){o+="<li>"+t[0]+"</li>"}),o+="</ul>",i=o}return i},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var i=e(t).find(".overlay");i.length&&i.remove()},clearForm:function(t){t.trigger("reset"),t.find(":input").each(function(){if(field_type=e(this),""!=field_type.attr("data-currency")&&""!=field_type.attr("data-currency-negative")||field_type.val(""),field_type.hasClass("timepicker")&&field_type.val(moment().format("H:mm")),"radio"!=field_type.attr("type")&&"checkbox"!=field_type.attr("type")||field_type.iCheck("update"),field_type.hasClass("select2-default-clear")||field_type.hasClass("select2-default")){var t=field_type.attr("id");field_type.val("").trigger("change"),e("#select2-"+t+"-container").removeAttr("title")}else field_type.hasClass("choice-select-autocomplete")&&(field_type.empty(),id=field_type.attr("id"),e("#select2-"+id+"-container").removeAttr("title"))})},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(e){e!==o&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,i){alertify.success(e),setTimeout(function(){t.Misc.redirect(i)},500)},currency:function(e){return accounting.formatMoney(e,"",2,".",",")},evaluateActionsAccount:function(i){i||(i={});var o={callback:null,wrap:"body",data:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("asientos.detalle.evaluate")),type:"POST",data:n.data,beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e.actions)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},evaluateActionsAccountNif:function(i){i||(i={});var o={callback:null,wrap:"body",data:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("asientosnif.detalle.evaluate")),type:"POST",data:n.data,beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e.actions)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},evaluateFacturap:function(i){i||(i={});var o={callback:null,wrap:"body",facturap:null,tercero:null,naturaleza:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("facturap.search")),type:"GET",data:{facturap1_factura:n.facturap,tercero_nit:n.tercero},beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i={actions:!1};e.success?(i.actions=!0,i.facturap=e.id,i.action="quota"):"C"==n.naturaleza?(i.actions=!0,i.action="add"):"D"==n.naturaleza&&(i.message="Para realizar movimientos de naturaleza débito de ingresar un numero de factura existente."),"Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},evaluateActionsInventory:function(i){i||(i={});var o={callback:null,wrap:"body",data:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("productos.evaluate")),type:"POST",data:n.data,beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e.action,e.tipo,e.producto)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},cloneModule:function(i){i||(i={});var o={callback:null,wrap:"body",url:null},n={};n=e.extend({},o,i),e.ajax({url:n.url,type:"GET",beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})}},t.Misc=new n,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["POST"],uri:"auth/login",name:"auth.login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"auth/logout",name:"auth.logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"auth/integrate",name:"auth.integrate",action:"AppHttpControllersAuthAuthController@integrate"},{host:null,methods:["GET","HEAD"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/dv",name:"terceros.dv",action:"AppHttpControllersAdminTerceroController@dv"},{host:null,methods:["GET","HEAD"],uri:"terceros/rcree",name:"terceros.rcree",action:"AppHttpControllersAdminTerceroController@rcree"},{host:null,methods:["GET","HEAD"],uri:"terceros/search",name:"terceros.search",action:"AppHttpControllersAdminTerceroController@search"},{host:null,methods:["GET","HEAD"],uri:"terceros/facturap",name:"terceros.facturap",action:"AppHttpControllersAdminTerceroController@facturap"},{host:null,methods:["POST"],uri:"terceros/setpassword",name:"terceros.setpassword",action:"AppHttpControllersAdminTerceroController@setpassword"},{host:null,methods:["GET","HEAD"],uri:"terceros/contactos",name:"terceros.contactos.index",action:"AppHttpControllersAdminContactoController@index"},{host:null,methods:["POST"],uri:"terceros/contactos",name:"terceros.contactos.store",action:"AppHttpControllersAdminContactoController@store"},{host:null,methods:["PUT"],uri:"terceros/contactos/{contactos}",name:"terceros.contactos.update",action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["PATCH"],uri:"terceros/contactos/{contactos}",name:null,action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros/roles",name:"terceros.roles.index",action:"AppHttpControllersAdminUsuarioRolController@index"},{host:null,methods:["POST"],uri:"terceros/roles",name:"terceros.roles.store",action:"AppHttpControllersAdminUsuarioRolController@store"},{host:null,methods:["DELETE"],uri:"terceros/roles/{roles}",name:"terceros.roles.destroy",action:"AppHttpControllersAdminUsuarioRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"terceros",name:"terceros.index",action:"AppHttpControllersAdminTerceroController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/create",name:"terceros.create",action:"AppHttpControllersAdminTerceroController@create"},{host:null,methods:["POST"],uri:"terceros",name:"terceros.store",action:"AppHttpControllersAdminTerceroController@store"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}",name:"terceros.show",action:"AppHttpControllersAdminTerceroController@show"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}/edit",name:"terceros.edit",action:"AppHttpControllersAdminTerceroController@edit"},{host:null,methods:["PUT"],uri:"terceros/{terceros}",name:"terceros.update",action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["PATCH"],uri:"terceros/{terceros}",name:null,action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["GET","HEAD"],uri:"empresa",name:"empresa.index",
action:"AppHttpControllersAdminEmpresaController@index"},{host:null,methods:["PUT"],uri:"empresa/{empresa}",name:"empresa.update",action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["PATCH"],uri:"empresa/{empresa}",name:null,action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["GET","HEAD"],uri:"municipios",name:"municipios.index",action:"AppHttpControllersAdminMunicipioController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades",name:"actividades.index",action:"AppHttpControllersAdminActividadController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades/create",name:"actividades.create",action:"AppHttpControllersAdminActividadController@create"},{host:null,methods:["POST"],uri:"actividades",name:"actividades.store",action:"AppHttpControllersAdminActividadController@store"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}",name:"actividades.show",action:"AppHttpControllersAdminActividadController@show"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}/edit",name:"actividades.edit",action:"AppHttpControllersAdminActividadController@edit"},{host:null,methods:["PUT"],uri:"actividades/{actividades}",name:"actividades.update",action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["PATCH"],uri:"actividades/{actividades}",name:null,action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["GET","HEAD"],uri:"departamentos",name:"departamentos.index",action:"AppHttpControllersAdminDepartamentoController@index"},{host:null,methods:["GET","HEAD"],uri:"departamentos/{departamentos}",name:"departamentos.show",action:"AppHttpControllersAdminDepartamentoController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales",name:"sucursales.index",action:"AppHttpControllersAdminSucursalController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales/create",name:"sucursales.create",action:"AppHttpControllersAdminSucursalController@create"},{host:null,methods:["POST"],uri:"sucursales",name:"sucursales.store",action:"AppHttpControllersAdminSucursalController@store"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}",name:"sucursales.show",action:"AppHttpControllersAdminSucursalController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}/edit",name:"sucursales.edit",action:"AppHttpControllersAdminSucursalController@edit"},{host:null,methods:["PUT"],uri:"sucursales/{sucursales}",name:"sucursales.update",action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["PATCH"],uri:"sucursales/{sucursales}",name:null,action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["GET","HEAD"],uri:"puntosventa",name:"puntosventa.index",action:"AppHttpControllersAdminPuntoVentaController@index"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/create",name:"puntosventa.create",action:"AppHttpControllersAdminPuntoVentaController@create"},{host:null,methods:["POST"],uri:"puntosventa",name:"puntosventa.store",action:"AppHttpControllersAdminPuntoVentaController@store"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}",name:"puntosventa.show",action:"AppHttpControllersAdminPuntoVentaController@show"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}/edit",name:"puntosventa.edit",action:"AppHttpControllersAdminPuntoVentaController@edit"},{host:null,methods:["PUT"],uri:"puntosventa/{puntosventa}",name:"puntosventa.update",action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["PATCH"],uri:"puntosventa/{puntosventa}",name:null,action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["GET","HEAD"],uri:"roles/permisos",name:"roles.permisos.index",action:"AppHttpControllersAdminPermisoRolController@index"},{host:null,methods:["PUT"],uri:"roles/permisos/{permisos}",name:"roles.permisos.update",action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["PATCH"],uri:"roles/permisos/{permisos}",name:null,action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["DELETE"],uri:"roles/permisos/{permisos}",name:"roles.permisos.destroy",action:"AppHttpControllersAdminPermisoRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"roles",name:"roles.index",action:"AppHttpControllersAdminRolController@index"},{host:null,methods:["GET","HEAD"],uri:"roles/create",name:"roles.create",action:"AppHttpControllersAdminRolController@create"},{host:null,methods:["POST"],uri:"roles",name:"roles.store",action:"AppHttpControllersAdminRolController@store"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}",name:"roles.show",action:"AppHttpControllersAdminRolController@show"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}/edit",name:"roles.edit",action:"AppHttpControllersAdminRolController@edit"},{host:null,methods:["PUT"],uri:"roles/{roles}",name:"roles.update",action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["PATCH"],uri:"roles/{roles}",name:null,action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["GET","HEAD"],uri:"permisos",name:"permisos.index",action:"AppHttpControllersAdminPermisoController@index"},{host:null,methods:["GET","HEAD"],uri:"modulos",name:"modulos.index",action:"AppHttpControllersAdminModuloController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/nivel",name:"plancuentas.nivel",action:"AppHttpControllersAccountingPlanCuentasController@nivel"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/search",name:"plancuentas.search",action:"AppHttpControllersAccountingPlanCuentasController@search"},{host:null,methods:["GET","HEAD"],uri:"plancuentas",name:"plancuentas.index",action:"AppHttpControllersAccountingPlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/create",name:"plancuentas.create",action:"AppHttpControllersAccountingPlanCuentasController@create"},{host:null,methods:["POST"],uri:"plancuentas",name:"plancuentas.store",action:"AppHttpControllersAccountingPlanCuentasController@store"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}",name:"plancuentas.show",action:"AppHttpControllersAccountingPlanCuentasController@show"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}/edit",name:"plancuentas.edit",action:"AppHttpControllersAccountingPlanCuentasController@edit"},{host:null,methods:["PUT"],uri:"plancuentas/{plancuentas}",name:"plancuentas.update",action:"AppHttpControllersAccountingPlanCuentasController@update"},{host:null,methods:["PATCH"],uri:"plancuentas/{plancuentas}",name:null,action:"AppHttpControllersAccountingPlanCuentasController@update"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif/nivel",name:"plancuentasnif.nivel",action:"AppHttpControllersAccountingPlanCuentasNifController@nivel"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif/search",name:"plancuentasnif.search",action:"AppHttpControllersAccountingPlanCuentasNifController@search"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif",name:"plancuentasnif.index",action:"AppHttpControllersAccountingPlanCuentasNifController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif/create",name:"plancuentasnif.create",action:"AppHttpControllersAccountingPlanCuentasNifController@create"},{host:null,methods:["POST"],uri:"plancuentasnif",name:"plancuentasnif.store",action:"AppHttpControllersAccountingPlanCuentasNifController@store"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif/{plancuentasnif}",name:"plancuentasnif.show",action:"AppHttpControllersAccountingPlanCuentasNifController@show"},{host:null,methods:["GET","HEAD"],uri:"plancuentasnif/{plancuentasnif}/edit",name:"plancuentasnif.edit",action:"AppHttpControllersAccountingPlanCuentasNifController@edit"},{host:null,methods:["PUT"],uri:"plancuentasnif/{plancuentasnif}",name:"plancuentasnif.update",action:"AppHttpControllersAccountingPlanCuentasNifController@update"},{host:null,methods:["PATCH"],uri:"plancuentasnif/{plancuentasnif}",name:null,action:"AppHttpControllersAccountingPlanCuentasNifController@update"},{host:null,methods:["GET","HEAD"],uri:"documentos/filter",name:"documentos.filter",action:"AppHttpControllersAccountingDocumentoController@filter"},{host:null,methods:["GET","HEAD"],uri:"documentos",name:"documentos.index",action:"AppHttpControllersAccountingDocumentoController@index"},{host:null,methods:["GET","HEAD"],uri:"documentos/create",name:"documentos.create",action:"AppHttpControllersAccountingDocumentoController@create"},{host:null,methods:["POST"],uri:"documentos",name:"documentos.store",action:"AppHttpControllersAccountingDocumentoController@store"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}",name:"documentos.show",action:"AppHttpControllersAccountingDocumentoController@show"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}/edit",name:"documentos.edit",action:"AppHttpControllersAccountingDocumentoController@edit"},{host:null,methods:["PUT"],uri:"documentos/{documentos}",name:"documentos.update",action:"AppHttpControllersAccountingDocumentoController@update"},{host:null,methods:["PATCH"],uri:"documentos/{documentos}",name:null,action:"AppHttpControllersAccountingDocumentoController@update"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle",name:"asientos.detalle.index",action:"AppHttpControllersAccountingDetalleAsientoController@index"},{host:null,methods:["POST"],uri:"asientos/detalle",name:"asientos.detalle.store",action:"AppHttpControllersAccountingDetalleAsientoController@store"},{host:null,methods:["DELETE"],uri:"asientos/detalle/{detalle}",name:"asientos.detalle.destroy",action:"AppHttpControllersAccountingDetalleAsientoController@destroy"},{host:null,methods:["GET","HEAD"],uri:"asientos/exportar/{asientos}",name:"asientos.exportar",action:"AppHttpControllersAccountingAsientoController@exportar"},{host:null,methods:["POST"],uri:"asientos/detalle/evaluate",name:"asientos.detalle.evaluate",action:"AppHttpControllersAccountingDetalleAsientoController@evaluate"},{host:null,methods:["POST"],uri:"asientos/detalle/validate",name:"asientos.detalle.validate",action:"AppHttpControllersAccountingDetalleAsientoController@validation"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle/movimientos",name:"asientos.detalle.movimientos",action:"AppHttpControllersAccountingDetalleAsientoController@movimientos"},{host:null,methods:["GET","HEAD"],uri:"asientos",name:"asientos.index",action:"AppHttpControllersAccountingAsientoController@index"},{host:null,methods:["GET","HEAD"],uri:"asientos/create",name:"asientos.create",action:"AppHttpControllersAccountingAsientoController@create"},{host:null,methods:["POST"],uri:"asientos",name:"asientos.store",action:"AppHttpControllersAccountingAsientoController@store"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}",name:"asientos.show",action:"AppHttpControllersAccountingAsientoController@show"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}/edit",name:"asientos.edit",action:"AppHttpControllersAccountingAsientoController@edit"},{host:null,methods:["PUT"],uri:"asientos/{asientos}",name:"asientos.update",action:"AppHttpControllersAccountingAsientoController@update"},{host:null,methods:["PATCH"],uri:"asientos/{asientos}",name:null,action:"AppHttpControllersAccountingAsientoController@update"},{host:null,methods:["GET","HEAD"],uri:"asientosnif/detalle",name:"asientosnif.detalle.index",action:"AppHttpControllersAccountingAsientoNifDetalleController@index"},{host:null,methods:["POST"],uri:"asientosnif/detalle",name:"asientosnif.detalle.store",action:"AppHttpControllersAccountingAsientoNifDetalleController@store"},{host:null,methods:["DELETE"],uri:"asientosnif/detalle/{detalle}",name:"asientosnif.detalle.destroy",action:"AppHttpControllersAccountingAsientoNifDetalleController@destroy"},{host:null,methods:["GET","HEAD"],uri:"asientosnif/exportar/{asientosnif}",name:"asientosnif.exportar",action:"AppHttpControllersAccountingAsientoNifController@exportar"},{host:null,methods:["POST"],uri:"asientosnif/detalle/evaluate",name:"asientosnif.detalle.evaluate",action:"AppHttpControllersAccountingAsientoNifDetalleController@evaluate"},{host:null,methods:["POST"],uri:"asientosnif/detalle/validate",name:"asientosnif.detalle.validate",action:"AppHttpControllersAccountingAsientoNifDetalleController@validation"},{host:null,methods:["GET","HEAD"],uri:"asientosnif/detalle/movimientos",name:"asientosnif.detalle.movimientos",action:"AppHttpControllersAccountingAsientoNifDetalleController@movimientos"},{host:null,methods:["GET","HEAD"],uri:"asientosnif",name:"asientosnif.index",action:"AppHttpControllersAccountingAsientoNifController@index"},{host:null,methods:["GET","HEAD"],uri:"asientosnif/{asientosnif}",name:"asientosnif.show",action:"AppHttpControllersAccountingAsientoNifController@show"},{host:null,methods:["GET","HEAD"],uri:"asientosnif/{asientosnif}/edit",name:"asientosnif.edit",action:"AppHttpControllersAccountingAsientoNifController@edit"},{host:null,methods:["PUT"],uri:"asientosnif/{asientosnif}",name:"asientosnif.update",action:"AppHttpControllersAccountingAsientoNifController@update"},{host:null,methods:["PATCH"],uri:"asientosnif/{asientosnif}",name:null,action:"AppHttpControllersAccountingAsientoNifController@update"},{host:null,methods:["GET","HEAD"],uri:"cierresmensuales",name:"cierresmensuales.index",action:"AppHttpControllersAccountingCierreMensualController@index"},{host:null,methods:["GET","HEAD"],uri:"cierresmensuales/create",name:"cierresmensuales.create",action:"AppHttpControllersAccountingCierreMensualController@create"},{host:null,methods:["POST"],uri:"cierresmensuales",name:"cierresmensuales.store",action:"AppHttpControllersAccountingCierreMensualController@store"},{host:null,methods:["GET","HEAD"],uri:"cierresmensuales/{cierresmensuales}",name:"cierresmensuales.show",action:"AppHttpControllersAccountingCierreMensualController@show"},{host:null,methods:["GET","HEAD"],uri:"cierresmensuales/{cierresmensuales}/edit",name:"cierresmensuales.edit",action:"AppHttpControllersAccountingCierreMensualController@edit"},{host:null,methods:["PUT"],uri:"cierresmensuales/{cierresmensuales}",name:"cierresmensuales.update",action:"AppHttpControllersAccountingCierreMensualController@update"},{host:null,methods:["PATCH"],uri:"cierresmensuales/{cierresmensuales}",name:null,action:"AppHttpControllersAccountingCierreMensualController@update"},{host:null,methods:["GET","HEAD"],uri:"centroscosto",name:"centroscosto.index",action:"AppHttpControllersAccountingCentroCostoController@index"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/create",name:"centroscosto.create",action:"AppHttpControllersAccountingCentroCostoController@create"},{host:null,methods:["POST"],uri:"centroscosto",name:"centroscosto.store",action:"AppHttpControllersAccountingCentroCostoController@store"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}",name:"centroscosto.show",action:"AppHttpControllersAccountingCentroCostoController@show"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}/edit",name:"centroscosto.edit",action:"AppHttpControllersAccountingCentroCostoController@edit"},{host:null,methods:["PUT"],uri:"centroscosto/{centroscosto}",name:"centroscosto.update",action:"AppHttpControllersAccountingCentroCostoController@update"},{host:null,methods:["PATCH"],uri:"centroscosto/{centroscosto}",name:null,action:"AppHttpControllersAccountingCentroCostoController@update"},{host:null,methods:["GET","HEAD"],uri:"folders",name:"folders.index",action:"AppHttpControllersAccountingFolderController@index"},{host:null,methods:["GET","HEAD"],uri:"folders/create",name:"folders.create",action:"AppHttpControllersAccountingFolderController@create"},{host:null,methods:["POST"],uri:"folders",name:"folders.store",action:"AppHttpControllersAccountingFolderController@store"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}",name:"folders.show",action:"AppHttpControllersAccountingFolderController@show"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}/edit",name:"folders.edit",action:"AppHttpControllersAccountingFolderController@edit"},{host:null,methods:["PUT"],uri:"folders/{folders}",name:"folders.update",action:"AppHttpControllersAccountingFolderController@update"},{host:null,methods:["PATCH"],uri:"folders/{folders}",name:null,action:"AppHttpControllersAccountingFolderController@update"},{host:null,methods:["GET","HEAD"],uri:"facturas/search",name:"facturas.search",action:"AppHttpControllersReceivableFactura1Controller@search"},{host:null,methods:["GET","HEAD"],uri:"facturas/exportar/{facturas}",name:"facturas.exportar",action:"AppHttpControllersReceivableFactura1Controller@exportar"},{host:null,methods:["GET","HEAD"],uri:"facturas/comentario",name:"facturas.comentario.index",action:"AppHttpControllersReceivableFactura3Controller@index"},{host:null,methods:["POST"],uri:"facturas/comentario",name:"facturas.comentario.store",action:"AppHttpControllersReceivableFactura3Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/facturado",name:"facturas.facturado.index",action:"AppHttpControllersReceivableFactura2Controller@index"},{host:null,methods:["POST"],uri:"facturas/facturado",name:"facturas.facturado.store",action:"AppHttpControllersReceivableFactura2Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/detalle",name:"facturas.detalle.index",action:"AppHttpControllersReceivableFactura4Controller@index"},{host:null,methods:["GET","HEAD"],uri:"facturas",name:"facturas.index",action:"AppHttpControllersReceivableFactura1Controller@index"},{host:null,methods:["GET","HEAD"],uri:"facturas/create",name:"facturas.create",action:"AppHttpControllersReceivableFactura1Controller@create"},{host:null,methods:["POST"],uri:"facturas",name:"facturas.store",action:"AppHttpControllersReceivableFactura1Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/{facturas}",name:"facturas.show",action:"AppHttpControllersReceivableFactura1Controller@show"},{host:null,methods:["GET","HEAD"],uri:"facturap/search",name:"facturap.search",action:"AppHttpControllersTreasuryFacturapController@search"},{host:null,methods:["GET","HEAD"],uri:"facturap/cuotas",name:"facturap.cuotas.index",action:"AppHttpControllersTreasuryFacturapCuotasController@index"},{host:null,methods:["GET","HEAD"],uri:"facturap",name:"facturap.index",action:"AppHttpControllersTreasuryFacturapController@index"},{host:null,methods:["GET","HEAD"],uri:"facturap/{facturap}",name:"facturap.show",action:"AppHttpControllersTreasuryFacturapController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/search",name:"ordenes.search",action:"AppHttpControllersProductionOrdenpController@search"},{host:null,methods:["GET","HEAD"],uri:"ordenes/exportar/{ordenes}",name:"ordenes.exportar",action:"AppHttpControllersProductionOrdenpController@exportar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/cerrar/{ordenes}",name:"ordenes.cerrar",action:"AppHttpControllersProductionOrdenpController@cerrar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/abrir/{ordenes}",name:"ordenes.abrir",action:"AppHttpControllersProductionOrdenpController@abrir"},{host:null,methods:["GET","HEAD"],uri:"ordenes/clonar/{ordenes}",name:"ordenes.clonar",action:"AppHttpControllersProductionOrdenpController@clonar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/tiemposp",name:"ordenes.tiemposp.index",action:"AppHttpControllersProductionDetalleTiempospController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/formula",name:"ordenes.productos.formula",action:"AppHttpControllersProductionDetalleOrdenpController@formula"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/clonar/{productos}",name:"ordenes.productos.clonar",action:"AppHttpControllersProductionDetalleOrdenpController@clonar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/search",name:"ordenes.productos.search",action:"AppHttpControllersProductionDetalleOrdenpController@search"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/maquinas",name:"ordenes.productos.maquinas.index",action:"AppHttpControllersProductionDetalleMaquinasController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/materiales",name:"ordenes.productos.materiales.index",action:"AppHttpControllersProductionDetalleMaterialesController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/acabados",name:"ordenes.productos.acabados.index",action:"AppHttpControllersProductionDetalleAcabadosController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/areas",name:"ordenes.productos.areas.index",action:"AppHttpControllersProductionDetalleAreasController@index"},{host:null,methods:["POST"],uri:"ordenes/productos/areas",name:"ordenes.productos.areas.store",action:"AppHttpControllersProductionDetalleAreasController@store"},{host:null,methods:["DELETE"],uri:"ordenes/productos/areas/{areas}",name:"ordenes.productos.areas.destroy",action:"AppHttpControllersProductionDetalleAreasController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos",name:"ordenes.productos.index",action:"AppHttpControllersProductionDetalleOrdenpController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/create",name:"ordenes.productos.create",action:"AppHttpControllersProductionDetalleOrdenpController@create"},{host:null,methods:["POST"],uri:"ordenes/productos",name:"ordenes.productos.store",action:"AppHttpControllersProductionDetalleOrdenpController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.show",action:"AppHttpControllersProductionDetalleOrdenpController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/{productos}/edit",name:"ordenes.productos.edit",action:"AppHttpControllersProductionDetalleOrdenpController@edit"},{host:null,methods:["PUT"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.update",action:"AppHttpControllersProductionDetalleOrdenpController@update"},{host:null,methods:["PATCH"],uri:"ordenes/productos/{productos}",name:null,action:"AppHttpControllersProductionDetalleOrdenpController@update"},{host:null,methods:["DELETE"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.destroy",action:"AppHttpControllersProductionDetalleOrdenpController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos/exportar/{despachos}",name:"ordenes.despachos.exportar",action:"AppHttpControllersProductionDespachopController@exportar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos/pendientes",name:"ordenes.despachos.pendientes",action:"AppHttpControllersProductionDespachopController@pendientes"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos",name:"ordenes.despachos.index",action:"AppHttpControllersProductionDespachopController@index"},{host:null,methods:["POST"],uri:"ordenes/despachos",name:"ordenes.despachos.store",action:"AppHttpControllersProductionDespachopController@store"},{host:null,methods:["DELETE"],uri:"ordenes/despachos/{despachos}",name:"ordenes.despachos.destroy",action:"AppHttpControllersProductionDespachopController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes",name:"ordenes.index",action:"AppHttpControllersProductionOrdenpController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/create",name:"ordenes.create",action:"AppHttpControllersProductionOrdenpController@create"},{host:null,methods:["POST"],uri:"ordenes",name:"ordenes.store",action:"AppHttpControllersProductionOrdenpController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}",name:"ordenes.show",action:"AppHttpControllersProductionOrdenpController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}/edit",name:"ordenes.edit",action:"AppHttpControllersProductionOrdenpController@edit"},{host:null,methods:["PUT"],uri:"ordenes/{ordenes}",name:"ordenes.update",action:"AppHttpControllersProductionOrdenpController@update"},{host:null,methods:["PATCH"],uri:"ordenes/{ordenes}",name:null,action:"AppHttpControllersProductionOrdenpController@update"},{host:null,methods:["GET","HEAD"],uri:"actividadesp",name:"actividadesp.index",action:"AppHttpControllersProductionActividadpController@index"},{host:null,methods:["GET","HEAD"],uri:"actividadesp/create",name:"actividadesp.create",action:"AppHttpControllersProductionActividadpController@create"},{host:null,methods:["POST"],uri:"actividadesp",name:"actividadesp.store",action:"AppHttpControllersProductionActividadpController@store"},{host:null,methods:["GET","HEAD"],uri:"actividadesp/{actividadesp}",name:"actividadesp.show",action:"AppHttpControllersProductionActividadpController@show"},{host:null,methods:["GET","HEAD"],uri:"actividadesp/{actividadesp}/edit",name:"actividadesp.edit",action:"AppHttpControllersProductionActividadpController@edit"},{host:null,methods:["PUT"],uri:"actividadesp/{actividadesp}",name:"actividadesp.update",action:"AppHttpControllersProductionActividadpController@update"},{host:null,methods:["PATCH"],uri:"actividadesp/{actividadesp}",name:null,action:"AppHttpControllersProductionActividadpController@update"},{host:null,methods:["GET","HEAD"],uri:"subactividadesp",name:"subactividadesp.index",action:"AppHttpControllersProductionSubActividadpController@index"},{host:null,methods:["GET","HEAD"],uri:"subactividadesp/create",name:"subactividadesp.create",action:"AppHttpControllersProductionSubActividadpController@create"},{host:null,methods:["POST"],uri:"subactividadesp",name:"subactividadesp.store",action:"AppHttpControllersProductionSubActividadpController@store"},{host:null,methods:["GET","HEAD"],uri:"subactividadesp/{subactividadesp}",name:"subactividadesp.show",action:"AppHttpControllersProductionSubActividadpController@show"},{host:null,methods:["GET","HEAD"],uri:"subactividadesp/{subactividadesp}/edit",name:"subactividadesp.edit",action:"AppHttpControllersProductionSubActividadpController@edit"},{host:null,methods:["PUT"],uri:"subactividadesp/{subactividadesp}",name:"subactividadesp.update",action:"AppHttpControllersProductionSubActividadpController@update"},{host:null,methods:["PATCH"],uri:"subactividadesp/{subactividadesp}",name:null,action:"AppHttpControllersProductionSubActividadpController@update"},{host:null,methods:["GET","HEAD"],uri:"tiemposp",name:"tiemposp.index",action:"AppHttpControllersProductionTiempopController@index"},{host:null,methods:["GET","HEAD"],uri:"tiemposp/create",name:"tiemposp.create",action:"AppHttpControllersProductionTiempopController@create"},{host:null,methods:["POST"],uri:"tiemposp",name:"tiemposp.store",action:"AppHttpControllersProductionTiempopController@store"},{host:null,methods:["GET","HEAD"],uri:"tiemposp/{tiemposp}",name:"tiemposp.show",action:"AppHttpControllersProductionTiempopController@show"},{host:null,methods:["GET","HEAD"],uri:"tiemposp/{tiemposp}/edit",name:"tiemposp.edit",action:"AppHttpControllersProductionTiempopController@edit"},{host:null,methods:["PUT"],uri:"tiemposp/{tiemposp}",name:"tiemposp.update",action:"AppHttpControllersProductionTiempopController@update"},{host:null,methods:["PATCH"],uri:"tiemposp/{tiemposp}",name:null,action:"AppHttpControllersProductionTiempopController@update"},{host:null,methods:["GET","HEAD"],uri:"areasp",name:"areasp.index",action:"AppHttpControllersProductionAreaspController@index"},{host:null,methods:["GET","HEAD"],uri:"areasp/create",name:"areasp.create",action:"AppHttpControllersProductionAreaspController@create"},{host:null,methods:["POST"],uri:"areasp",name:"areasp.store",action:"AppHttpControllersProductionAreaspController@store"},{host:null,methods:["GET","HEAD"],uri:"areasp/{areasp}",name:"areasp.show",action:"AppHttpControllersProductionAreaspController@show"},{host:null,methods:["GET","HEAD"],uri:"areasp/{areasp}/edit",name:"areasp.edit",action:"AppHttpControllersProductionAreaspController@edit"},{host:null,methods:["PUT"],uri:"areasp/{areasp}",name:"areasp.update",action:"AppHttpControllersProductionAreaspController@update"},{host:null,methods:["PATCH"],uri:"areasp/{areasp}",name:null,action:"AppHttpControllersProductionAreaspController@update"},{host:null,methods:["GET","HEAD"],uri:"acabadosp",name:"acabadosp.index",action:"AppHttpControllersProductionAcabadospController@index"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/create",name:"acabadosp.create",action:"AppHttpControllersProductionAcabadospController@create"},{host:null,methods:["POST"],uri:"acabadosp",name:"acabadosp.store",action:"AppHttpControllersProductionAcabadospController@store"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/{acabadosp}",name:"acabadosp.show",action:"AppHttpControllersProductionAcabadospController@show"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/{acabadosp}/edit",name:"acabadosp.edit",action:"AppHttpControllersProductionAcabadospController@edit"},{host:null,methods:["PUT"],uri:"acabadosp/{acabadosp}",name:"acabadosp.update",action:"AppHttpControllersProductionAcabadospController@update"},{host:null,methods:["PATCH"],uri:"acabadosp/{acabadosp}",name:null,action:"AppHttpControllersProductionAcabadospController@update"},{host:null,methods:["GET","HEAD"],uri:"maquinasp",name:"maquinasp.index",action:"AppHttpControllersProductionMaquinaspController@index"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/create",name:"maquinasp.create",action:"AppHttpControllersProductionMaquinaspController@create"},{host:null,methods:["POST"],uri:"maquinasp",name:"maquinasp.store",action:"AppHttpControllersProductionMaquinaspController@store"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/{maquinasp}",name:"maquinasp.show",action:"AppHttpControllersProductionMaquinaspController@show"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/{maquinasp}/edit",name:"maquinasp.edit",action:"AppHttpControllersProductionMaquinaspController@edit"},{host:null,methods:["PUT"],uri:"maquinasp/{maquinasp}",name:"maquinasp.update",action:"AppHttpControllersProductionMaquinaspController@update"},{host:null,methods:["PATCH"],uri:"maquinasp/{maquinasp}",name:null,action:"AppHttpControllersProductionMaquinaspController@update"},{host:null,methods:["GET","HEAD"],uri:"materialesp",name:"materialesp.index",action:"AppHttpControllersProductionMaterialespController@index"},{host:null,methods:["GET","HEAD"],uri:"materialesp/create",name:"materialesp.create",action:"AppHttpControllersProductionMaterialespController@create"},{host:null,methods:["POST"],uri:"materialesp",name:"materialesp.store",action:"AppHttpControllersProductionMaterialespController@store"},{host:null,methods:["GET","HEAD"],uri:"materialesp/{materialesp}",name:"materialesp.show",action:"AppHttpControllersProductionMaterialespController@show"},{host:null,methods:["GET","HEAD"],uri:"materialesp/{materialesp}/edit",name:"materialesp.edit",action:"AppHttpControllersProductionMaterialespController@edit"},{host:null,methods:["PUT"],uri:"materialesp/{materialesp}",name:"materialesp.update",action:"AppHttpControllersProductionMaterialespController@update"},{host:null,methods:["PATCH"],uri:"materialesp/{materialesp}",name:null,action:"AppHttpControllersProductionMaterialespController@update"},{host:null,methods:["GET","HEAD"],uri:"tipomaterialesp",name:"tipomaterialesp.index",action:"AppHttpControllersProductionTipoMaterialespController@index"},{host:null,methods:["GET","HEAD"],uri:"tipomaterialesp/create",name:"tipomaterialesp.create",action:"AppHttpControllersProductionTipoMaterialespController@create"},{host:null,methods:["POST"],uri:"tipomaterialesp",name:"tipomaterialesp.store",action:"AppHttpControllersProductionTipoMaterialespController@store"},{host:null,methods:["GET","HEAD"],uri:"tipomaterialesp/{tipomaterialesp}",name:"tipomaterialesp.show",action:"AppHttpControllersProductionTipoMaterialespController@show"},{host:null,methods:["GET","HEAD"],uri:"tipomaterialesp/{tipomaterialesp}/edit",name:"tipomaterialesp.edit",action:"AppHttpControllersProductionTipoMaterialespController@edit"},{
host:null,methods:["PUT"],uri:"tipomaterialesp/{tipomaterialesp}",name:"tipomaterialesp.update",action:"AppHttpControllersProductionTipoMaterialespController@update"},{host:null,methods:["PATCH"],uri:"tipomaterialesp/{tipomaterialesp}",name:null,action:"AppHttpControllersProductionTipoMaterialespController@update"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp",name:"tipoproductosp.index",action:"AppHttpControllersProductionTipoProductopController@index"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/create",name:"tipoproductosp.create",action:"AppHttpControllersProductionTipoProductopController@create"},{host:null,methods:["POST"],uri:"tipoproductosp",name:"tipoproductosp.store",action:"AppHttpControllersProductionTipoProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/{tipoproductosp}",name:"tipoproductosp.show",action:"AppHttpControllersProductionTipoProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/{tipoproductosp}/edit",name:"tipoproductosp.edit",action:"AppHttpControllersProductionTipoProductopController@edit"},{host:null,methods:["PUT"],uri:"tipoproductosp/{tipoproductosp}",name:"tipoproductosp.update",action:"AppHttpControllersProductionTipoProductopController@update"},{host:null,methods:["PATCH"],uri:"tipoproductosp/{tipoproductosp}",name:null,action:"AppHttpControllersProductionTipoProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp",name:"subtipoproductosp.index",action:"AppHttpControllersProductionSubtipoProductopController@index"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/create",name:"subtipoproductosp.create",action:"AppHttpControllersProductionSubtipoProductopController@create"},{host:null,methods:["POST"],uri:"subtipoproductosp",name:"subtipoproductosp.store",action:"AppHttpControllersProductionSubtipoProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/{subtipoproductosp}",name:"subtipoproductosp.show",action:"AppHttpControllersProductionSubtipoProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/{subtipoproductosp}/edit",name:"subtipoproductosp.edit",action:"AppHttpControllersProductionSubtipoProductopController@edit"},{host:null,methods:["PUT"],uri:"subtipoproductosp/{subtipoproductosp}",name:"subtipoproductosp.update",action:"AppHttpControllersProductionSubtipoProductopController@update"},{host:null,methods:["PATCH"],uri:"subtipoproductosp/{subtipoproductosp}",name:null,action:"AppHttpControllersProductionSubtipoProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/search",name:"cotizaciones.search",action:"AppHttpControllersProductionCotizacion1Controller@search"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/exportar/{cotizaciones}",name:"cotizaciones.exportar",action:"AppHttpControllersProductionCotizacion1Controller@exportar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/cerrar/{cotizaciones}",name:"cotizaciones.cerrar",action:"AppHttpControllersProductionCotizacion1Controller@cerrar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/abrir/{cotizaciones}",name:"cotizaciones.abrir",action:"AppHttpControllersProductionCotizacion1Controller@abrir"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/clonar/{cotizaciones}",name:"cotizaciones.clonar",action:"AppHttpControllersProductionCotizacion1Controller@clonar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/generar/{cotizaciones}",name:"cotizaciones.generar",action:"AppHttpControllersProductionCotizacion1Controller@generar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/formula",name:"cotizaciones.productos.formula",action:"AppHttpControllersProductionCotizacion2Controller@formula"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/clonar/{productos}",name:"cotizaciones.productos.clonar",action:"AppHttpControllersProductionCotizacion2Controller@clonar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/maquinas",name:"cotizaciones.productos.maquinas.index",action:"AppHttpControllersProductionCotizacion3Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/materiales",name:"cotizaciones.productos.materiales.index",action:"AppHttpControllersProductionCotizacion4Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/acabados",name:"cotizaciones.productos.acabados.index",action:"AppHttpControllersProductionCotizacion5Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/areas",name:"cotizaciones.productos.areas.index",action:"AppHttpControllersProductionCotizacion6Controller@index"},{host:null,methods:["POST"],uri:"cotizaciones/productos/areas",name:"cotizaciones.productos.areas.store",action:"AppHttpControllersProductionCotizacion6Controller@store"},{host:null,methods:["DELETE"],uri:"cotizaciones/productos/areas/{areas}",name:"cotizaciones.productos.areas.destroy",action:"AppHttpControllersProductionCotizacion6Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos",name:"cotizaciones.productos.index",action:"AppHttpControllersProductionCotizacion2Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/create",name:"cotizaciones.productos.create",action:"AppHttpControllersProductionCotizacion2Controller@create"},{host:null,methods:["POST"],uri:"cotizaciones/productos",name:"cotizaciones.productos.store",action:"AppHttpControllersProductionCotizacion2Controller@store"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.show",action:"AppHttpControllersProductionCotizacion2Controller@show"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/{productos}/edit",name:"cotizaciones.productos.edit",action:"AppHttpControllersProductionCotizacion2Controller@edit"},{host:null,methods:["PUT"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.update",action:"AppHttpControllersProductionCotizacion2Controller@update"},{host:null,methods:["PATCH"],uri:"cotizaciones/productos/{productos}",name:null,action:"AppHttpControllersProductionCotizacion2Controller@update"},{host:null,methods:["DELETE"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.destroy",action:"AppHttpControllersProductionCotizacion2Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones",name:"cotizaciones.index",action:"AppHttpControllersProductionCotizacion1Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/create",name:"cotizaciones.create",action:"AppHttpControllersProductionCotizacion1Controller@create"},{host:null,methods:["POST"],uri:"cotizaciones",name:"cotizaciones.store",action:"AppHttpControllersProductionCotizacion1Controller@store"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/{cotizaciones}",name:"cotizaciones.show",action:"AppHttpControllersProductionCotizacion1Controller@show"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/{cotizaciones}/edit",name:"cotizaciones.edit",action:"AppHttpControllersProductionCotizacion1Controller@edit"},{host:null,methods:["PUT"],uri:"cotizaciones/{cotizaciones}",name:"cotizaciones.update",action:"AppHttpControllersProductionCotizacion1Controller@update"},{host:null,methods:["PATCH"],uri:"cotizaciones/{cotizaciones}",name:null,action:"AppHttpControllersProductionCotizacion1Controller@update"},{host:null,methods:["GET","HEAD"],uri:"productosp/search",name:"productosp.search",action:"AppHttpControllersProductionProductopController@search"},{host:null,methods:["GET","HEAD"],uri:"productosp/clonar/{productosp}",name:"productosp.clonar",action:"AppHttpControllersProductionProductopController@clonar"},{host:null,methods:["GET","HEAD"],uri:"productosp/tips",name:"productosp.tips.index",action:"AppHttpControllersProductionProductop2Controller@index"},{host:null,methods:["POST"],uri:"productosp/tips",name:"productosp.tips.store",action:"AppHttpControllersProductionProductop2Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/tips/{tips}",name:"productosp.tips.destroy",action:"AppHttpControllersProductionProductop2Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/areas",name:"productosp.areas.index",action:"AppHttpControllersProductionProductop3Controller@index"},{host:null,methods:["POST"],uri:"productosp/areas",name:"productosp.areas.store",action:"AppHttpControllersProductionProductop3Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/areas/{areas}",name:"productosp.areas.destroy",action:"AppHttpControllersProductionProductop3Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/maquinas",name:"productosp.maquinas.index",action:"AppHttpControllersProductionProductop4Controller@index"},{host:null,methods:["POST"],uri:"productosp/maquinas",name:"productosp.maquinas.store",action:"AppHttpControllersProductionProductop4Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/maquinas/{maquinas}",name:"productosp.maquinas.destroy",action:"AppHttpControllersProductionProductop4Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/materiales",name:"productosp.materiales.index",action:"AppHttpControllersProductionProductop5Controller@index"},{host:null,methods:["POST"],uri:"productosp/materiales",name:"productosp.materiales.store",action:"AppHttpControllersProductionProductop5Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/materiales/{materiales}",name:"productosp.materiales.destroy",action:"AppHttpControllersProductionProductop5Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/acabados",name:"productosp.acabados.index",action:"AppHttpControllersProductionProductop6Controller@index"},{host:null,methods:["POST"],uri:"productosp/acabados",name:"productosp.acabados.store",action:"AppHttpControllersProductionProductop6Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/acabados/{acabados}",name:"productosp.acabados.destroy",action:"AppHttpControllersProductionProductop6Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp",name:"productosp.index",action:"AppHttpControllersProductionProductopController@index"},{host:null,methods:["GET","HEAD"],uri:"productosp/create",name:"productosp.create",action:"AppHttpControllersProductionProductopController@create"},{host:null,methods:["POST"],uri:"productosp",name:"productosp.store",action:"AppHttpControllersProductionProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"productosp/{productosp}",name:"productosp.show",action:"AppHttpControllersProductionProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"productosp/{productosp}/edit",name:"productosp.edit",action:"AppHttpControllersProductionProductopController@edit"},{host:null,methods:["PUT"],uri:"productosp/{productosp}",name:"productosp.update",action:"AppHttpControllersProductionProductopController@update"},{host:null,methods:["PATCH"],uri:"productosp/{productosp}",name:null,action:"AppHttpControllersProductionProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"grupos",name:"grupos.index",action:"AppHttpControllersInventoryGrupoController@index"},{host:null,methods:["GET","HEAD"],uri:"grupos/create",name:"grupos.create",action:"AppHttpControllersInventoryGrupoController@create"},{host:null,methods:["POST"],uri:"grupos",name:"grupos.store",action:"AppHttpControllersInventoryGrupoController@store"},{host:null,methods:["GET","HEAD"],uri:"grupos/{grupos}",name:"grupos.show",action:"AppHttpControllersInventoryGrupoController@show"},{host:null,methods:["GET","HEAD"],uri:"grupos/{grupos}/edit",name:"grupos.edit",action:"AppHttpControllersInventoryGrupoController@edit"},{host:null,methods:["PUT"],uri:"grupos/{grupos}",name:"grupos.update",action:"AppHttpControllersInventoryGrupoController@update"},{host:null,methods:["PATCH"],uri:"grupos/{grupos}",name:null,action:"AppHttpControllersInventoryGrupoController@update"},{host:null,methods:["GET","HEAD"],uri:"subgrupos",name:"subgrupos.index",action:"AppHttpControllersInventorySubGrupoController@index"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/create",name:"subgrupos.create",action:"AppHttpControllersInventorySubGrupoController@create"},{host:null,methods:["POST"],uri:"subgrupos",name:"subgrupos.store",action:"AppHttpControllersInventorySubGrupoController@store"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/{subgrupos}",name:"subgrupos.show",action:"AppHttpControllersInventorySubGrupoController@show"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/{subgrupos}/edit",name:"subgrupos.edit",action:"AppHttpControllersInventorySubGrupoController@edit"},{host:null,methods:["PUT"],uri:"subgrupos/{subgrupos}",name:"subgrupos.update",action:"AppHttpControllersInventorySubGrupoController@update"},{host:null,methods:["PATCH"],uri:"subgrupos/{subgrupos}",name:null,action:"AppHttpControllersInventorySubGrupoController@update"},{host:null,methods:["GET","HEAD"],uri:"unidades",name:"unidades.index",action:"AppHttpControllersInventoryUnidadesMedidaController@index"},{host:null,methods:["GET","HEAD"],uri:"unidades/create",name:"unidades.create",action:"AppHttpControllersInventoryUnidadesMedidaController@create"},{host:null,methods:["POST"],uri:"unidades",name:"unidades.store",action:"AppHttpControllersInventoryUnidadesMedidaController@store"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}",name:"unidades.show",action:"AppHttpControllersInventoryUnidadesMedidaController@show"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}/edit",name:"unidades.edit",action:"AppHttpControllersInventoryUnidadesMedidaController@edit"},{host:null,methods:["PUT"],uri:"unidades/{unidades}",name:"unidades.update",action:"AppHttpControllersInventoryUnidadesMedidaController@update"},{host:null,methods:["PATCH"],uri:"unidades/{unidades}",name:null,action:"AppHttpControllersInventoryUnidadesMedidaController@update"},{host:null,methods:["GET","HEAD"],uri:"traslados/detalle",name:"traslados.detalle.index",action:"AppHttpControllersInventoryDetalleTrasladoController@index"},{host:null,methods:["POST"],uri:"traslados/detalle",name:"traslados.detalle.store",action:"AppHttpControllersInventoryDetalleTrasladoController@store"},{host:null,methods:["GET","HEAD"],uri:"traslados",name:"traslados.index",action:"AppHttpControllersInventoryTrasladosController@index"},{host:null,methods:["GET","HEAD"],uri:"traslados/create",name:"traslados.create",action:"AppHttpControllersInventoryTrasladosController@create"},{host:null,methods:["POST"],uri:"traslados",name:"traslados.store",action:"AppHttpControllersInventoryTrasladosController@store"},{host:null,methods:["GET","HEAD"],uri:"traslados/{traslados}",name:"traslados.show",action:"AppHttpControllersInventoryTrasladosController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/search",name:"productos.search",action:"AppHttpControllersInventoryProductoController@search"},{host:null,methods:["POST"],uri:"productos/evaluate",name:"productos.evaluate",action:"AppHttpControllersInventoryProductoController@evaluate"},{host:null,methods:["GET","HEAD"],uri:"productos/rollos",name:"productos.rollos.index",action:"AppHttpControllersInventoryProdbodeRolloController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/prodbode",name:"productos.prodbode.index",action:"AppHttpControllersInventoryProdBodeController@index"},{host:null,methods:["GET","HEAD"],uri:"productos",name:"productos.index",action:"AppHttpControllersInventoryProductoController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/create",name:"productos.create",action:"AppHttpControllersInventoryProductoController@create"},{host:null,methods:["POST"],uri:"productos",name:"productos.store",action:"AppHttpControllersInventoryProductoController@store"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}",name:"productos.show",action:"AppHttpControllersInventoryProductoController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}/edit",name:"productos.edit",action:"AppHttpControllersInventoryProductoController@edit"},{host:null,methods:["PUT"],uri:"productos/{productos}",name:"productos.update",action:"AppHttpControllersInventoryProductoController@update"},{host:null,methods:["PATCH"],uri:"productos/{productos}",name:null,action:"AppHttpControllersInventoryProductoController@update"},{host:null,methods:["GET","HEAD"],uri:"rplancuentas",name:"rplancuentas.index",action:"AppHttpControllersReportPlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"rmayorbalance",name:"rmayorbalance.index",action:"AppHttpControllersReportMayorBalanceController@index"},{host:null,methods:["GET","HEAD"],uri:"rtiemposp",name:"rtiemposp.index",action:"AppHttpControllersReportTiempopController@index"},{host:null,methods:["GET","HEAD"],uri:"rhistorialproveedores",name:"rhistorialproveedores.index",action:"AppHttpControllersReportHistorialProveedorController@index"},{host:null,methods:["GET","HEAD"],uri:"rlibrodiario",name:"rlibrodiario.index",action:"AppHttpControllersReportLibroDiarioController@index"},{host:null,methods:["GET","HEAD"],uri:"rlibromayor",name:"rlibromayor.index",action:"AppHttpControllersReportLibroMayorController@index"},{host:null,methods:["GET","HEAD"],uri:"rauxcontable",name:"rauxcontable.index",action:"AppHttpControllersReportAuxiliarContableController@index"}],prefix:"",route:function(e,t,i){if(i=i||this.getByName(e))return this.toRoute(i,t)},url:function(e,t){t=t||[];var i=e+"/"+t.join("/");return this.getCorrectUrl(i)},toRoute:function(e,t){var i=this.replaceNamedParameters(e.uri,t),o=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+i+o:this.getCorrectUrl(i+o)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,i){if(t.hasOwnProperty(i)){var o=t[i];return delete t[i],o}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},i=function(e,i,o){return i=i||e,o=t(o),'<a href="'+e+'" '+o+">"+i+"</a>"};return{action:function(t,i){return i=i||{},e.route(t,i,e.getByAction(t))},route:function(t,i){return i=i||{},e.route(t,i)},url:function(t,i){return i=i||{},e.url(t,i)},link_to:function(e,t,o){return e=this.url(e),i(e,t,o)},link_to_route:function(e,t,o,n){var r=this.route(e,o);return i(r,t,n)},link_to_action:function(e,t,o,n){var r=this.action(e,o);return i(r,t,n)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,i,o){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","terceros(/)":"getTercerosMain","terceros/create(/)":"getTercerosCreate","terceros/:tercero(/)":"getTercerosShow","terceros/:tercero/edit(/)":"getTercerosEdit","empresa(/)":"getEmpresaEdit","municipios(/)":"getMunicipiosMain","departamentos(/)":"getDepartamentosMain","actividades(/)":"getActividadesMain","actividades/create(/)":"getActividadesCreate","actividades/:actividad/edit(/)":"getActividadesEdit","sucursales(/)":"getSucursalesMain","sucursales/create(/)":"getSucursalesCreate","sucursales/:sucursal/edit(/)":"getSucursalesEdit","roles(/)":"getRolesMain","roles/create(/)":"getRolesCreate","roles/:rol/edit(/)":"getRolesEdit","permisos(/)":"getPermisosMain","modulos(/)":"getModulosMain","puntosventa(/)":"getPuntosVentaMain","puntosventa/create(/)":"getPuntosVentaCreate","puntosventa/:puntoventa/edit(/)":"getPuntosVentaEdit","facturas(/)":"getFacturasMain","facturas/create(/)":"getFacturaCreate","facturas/:facturas(/)":"getFacturaShow","plancuentas(/)":"getPlanCuentasMain","plancuentas/create(/)":"getPlanCuentasCreate","plancuentas/:plancuenta/edit(/)":"getPlanCuentasEdit","plancuentasnif(/)":"getPlanCuentasNifMain","plancuentasnif/create(/)":"getPlanCuentasNifCreate","plancuentasnif/:plancuentanif/edit(/)":"getPlanCuentasNifEdit","centroscosto(/)":"getCentrosCostoMain","centroscosto/create(/)":"getCentrosCostoCreate","centroscosto/:centrocosto/edit(/)":"getCentrosCostoEdit","asientos(/)":"getAsientosMain","asientos/create(/)":"getAsientosCreate","asientos/:asientos(/)":"getAsientosShow","asientos/:asiento/edit(/)":"getAsientosEdit","asientosnif(/)":"getAsientosNifMain","asientosnif/:asientonif(/)":"getAsientosNifShow","asientosnif/:asientonif/edit(/)":"getAsientosNifEdit","cierresmensuales(/)":"getCierreMensualCreate","documentos(/)":"getDocumentosMain","documentos/create(/)":"getDocumentosCreate","documentos/:documento/edit(/)":"getDocumentosEdit","folders(/)":"getFoldersMain","folders/create(/)":"getFoldersCreate","folders/:folder/edit(/)":"getFoldersEdit","subgrupos(/)":"getSubGruposMain","subgrupos/create(/)":"getSubGruposCreate","subgrupos/:subgrupo/edit(/)":"getSubGruposEdit","grupos(/)":"getGruposMain","grupos/create(/)":"getGruposCreate","grupos/:grupo/edit(/)":"getGruposEdit","unidades(/)":"getUnidadesMain","unidades/create(/)":"getUnidadesCreate","unidades/:unidad/edit(/)":"getUnidadesEdit","productos(/)":"getProductosMain","productos/create(/)":"getProductosCreate","productos/:producto(/)":"getProductoShow","productos/:producto/edit(/)":"getProductosEdit","traslados(/)":"getTrasladosMain","traslados/create(/)":"getTrasladosCreate","traslados/:traslado(/)":"getTrasladosShow","tiemposp(/)":"getTiempopMain","areasp(/)":"getAreaspMain","areasp/create(/)":"getAreaspCreate","areasp/:areap/edit(/)":"getAreaspEdit","actividadesp(/)":"getActividadespMain","actividadesp/create(/)":"getActividadespCreate","actividadesp/:actividadp/edit(/)":"getActividadespEdit","subactividadesp(/)":"getSubActividadespMain","subactividadesp/create(/)":"getSubActividadespCreate","subactividadesp/:subactividadp/edit(/)":"getSubActividadespEdit","acabadosp(/)":"getAcabadospMain","acabadosp/create(es/)":"getAcabadospCreate","acabadosp/:acabadop/edit(/)":"getAcabadospEdit","maquinasp(/)":"getMaquinaspMain","maquinasp/create(/)":"getMaquinaspCreate","maquinasp/:maquinap/edit(/)":"getMaquinaspEdit","materialesp(/)":"getMaterialespMain","materialesp/create(/)":"getMaterialespCreate","materialesp/:materialp/edit(/)":"getMaterialespEdit","tipomaterialesp(/)":"getTipoMaterialespMain","tipomaterialesp/create(/)":"getTipoMaterialpCreate","tipomaterialesp/:tipomaterialesp/edit(/)":"getTipoMaterialpEdit","tipoproductosp(/)":"getTipoProductopMain","tipoproductosp/create(/)":"getTipoProductopCreate","tipoproductosp/:tipoproductosp/edit(/)":"getTipoProductopEdit","subtipoproductosp(/)":"getSubtipoProductopMain","subtipoproductosp/create(/)":"getSubtipoProductopCreate","subtipoproductosp/:subtipoproductosp/edit(/)":"getSubtipoProductopEdit","ordenes(/)":"getOrdenesMain","ordenes/create(/)":"getOrdenesCreate","ordenes/:orden(/)":"getOrdenesShow","ordenes/:orden/edit(/)":"getOrdenesEdit","ordenes/productos/create(/)(?*queryString)":"getOrdenesProductoCreate","ordenes/productos/:producto/edit(/)":"getOrdenesProductoEdit","productosp(/)":"getProductospMain","productosp/create(/)":"getProductospCreate","productosp/:producto(/)":"getProductospShow","productosp/:producto/edit(/)":"getProductospEdit","cotizaciones(/)":"getCotizacionesMain","cotizaciones/create(/)":"getCotizacionesCreate","cotizaciones/:cotizaciones(/)":"getCotizacionesShow","cotizaciones/:cotizaciones/edit(/)":"getCotizacionesEdit","cotizaciones/productos/create(/)(?*queryString)":"getCotizacionesProductoCreate","cotizaciones/productos/:producto/edit(/)":"getCotizacionesProductoEdit","facturap(/)":"getFacturaspMain","facturap(/):facturap(/)":"getFacturaspShow"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var i=e.split("="),n={};if(i.length>=1){var r=o;2==i.length&&(r=i[1]),n[i[0]]=r}return n}),function(e){_.extend(t,e)}),t},initialize:function(e){this.componentGlobalView=new app.ComponentGlobalView,this.componentAddressView=new app.ComponentAddressView,this.componentCreateResourceView=new app.ComponentCreateResourceView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView,this.componentSearchCuentaView=new app.ComponentSearchCuentaView,this.componentDocumentView=new app.ComponentDocumentView,this.componentReportView=new app.ComponentReportView,this.componentTerceroView=new app.ComponentTerceroView,this.componentSearchFacturaView=new app.ComponentSearchFacturaView,this.componentSearchOrdenPView=new app.ComponentSearchOrdenPView,this.componentSearchOrdenP2View=new app.ComponentSearchOrdenP2View,this.componentSearchProductoView=new app.ComponentSearchProductoView,this.componentSearchProductopView=new app.ComponentSearchProductopView,this.componentSearchContactoView=new app.ComponentSearchContactoView,this.componentSearchCotizacionView=new app.ComponentSearchCotizacionView,this.componentConsecutiveView=new app.ComponentConsecutiveView},start:function(){var e={pushState:!0};"-1"!=i.domain.search(/(104.236.57.82|localhost)/gi)&&(e.root="/vaziko/public/"),Backbone.history.start(e)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getTercerosMain:function(){this.mainTerceroView instanceof Backbone.View&&(this.mainTerceroView.stopListening(),this.mainTerceroView.undelegateEvents()),this.mainTerceroView=new app.MainTerceroView},getTercerosCreate:function(){this.terceroModel=new app.TerceroModel,this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.createTerceroView.render()},getTercerosShow:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.showTerceroView instanceof Backbone.View&&(this.showTerceroView.stopListening(),this.showTerceroView.undelegateEvents()),this.showTerceroView=new app.ShowTerceroView({model:this.terceroModel})},getTercerosEdit:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.terceroModel.fetch()},getEmpresaEdit:function(){this.empresaModel=new app.EmpresaModel,this.createEmpresaView instanceof Backbone.View&&(this.createEmpresaView.stopListening(),this.createEmpresaView.undelegateEvents()),this.createEmpresaView=new app.CreateEmpresaView({model:this.empresaModel}),this.empresaModel.fetch()},getMunicipiosMain:function(){this.mainMunicipioView instanceof Backbone.View&&(this.mainMunicipioView.stopListening(),this.mainMunicipioView.undelegateEvents()),this.mainMunicipioView=new app.MainMunicipioView},getDepartamentosMain:function(){this.mainDepartamentoView instanceof Backbone.View&&(this.mainDepartamentoView.stopListening(),this.mainDepartamentoView.undelegateEvents()),this.mainDepartamentoView=new app.MainDepartamentoView},getActividadesMain:function(){this.mainActividadView instanceof Backbone.View&&(this.mainActividadView.stopListening(),this.mainActividadView.undelegateEvents()),this.mainActividadView=new app.MainActividadView},getActividadesCreate:function(){this.actividadModel=new app.ActividadModel,this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.createActividadView.render()},getActividadesEdit:function(e){this.actividadModel=new app.ActividadModel,this.actividadModel.set({id:e},{silent:!0}),this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.actividadModel.fetch()},getSucursalesMain:function(){this.mainSucursalesView instanceof Backbone.View&&(this.mainSucursalesView.stopListening(),this.mainSucursalesView.undelegateEvents()),this.mainSucursalesView=new app.MainSucursalesView},getSucursalesCreate:function(){this.sucursalModel=new app.SucursalModel,this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.createSucursalView.render()},getSucursalesEdit:function(e){this.sucursalModel=new app.SucursalModel,this.sucursalModel.set({id:e},{silent:!0}),this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.sucursalModel.fetch()},getRolesMain:function(){this.mainRolesView instanceof Backbone.View&&(this.mainRolesView.stopListening(),this.mainRolesView.undelegateEvents()),this.mainRolesView=new app.MainRolesView},getRolesCreate:function(){this.rolModel=new app.RolModel,this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.createRolView=new app.CreateRolView({model:this.rolModel}),this.createRolView.render()},getRolesEdit:function(e){this.rolModel=new app.RolModel,this.rolModel.set({id:e},{silent:!0}),this.editRolView instanceof Backbone.View&&(this.editRolView.stopListening(),this.editRolView.undelegateEvents()),this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.editRolView=new app.EditRolView({model:this.rolModel}),this.rolModel.fetch()},getPermisosMain:function(){this.mainPermisoView instanceof Backbone.View&&(this.mainPermisoView.stopListening(),this.mainPermisoView.undelegateEvents()),this.mainPermisoView=new app.MainPermisoView},getModulosMain:function(){this.mainModuloView instanceof Backbone.View&&(this.mainModuloView.stopListening(),this.mainModuloView.undelegateEvents()),this.mainModuloView=new app.MainModuloView},getPuntosVentaMain:function(){this.mainPuntoventaView instanceof Backbone.View&&(this.mainPuntoventaView.stopListening(),this.mainPuntoventaView.undelegateEvents()),this.mainPuntoventaView=new app.MainPuntoventaView},getPuntosVentaCreate:function(){this.puntoVentaModel=new app.PuntoVentaModel,this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.createPuntoventaView.render()},getPuntosVentaEdit:function(e){this.puntoVentaModel=new app.PuntoVentaModel,this.puntoVentaModel.set({id:e},{silent:!0}),this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.puntoVentaModel.fetch()},getPlanCuentasMain:function(){this.mainPlanCuentasView instanceof Backbone.View&&(this.mainPlanCuentasView.stopListening(),this.mainPlanCuentasView.undelegateEvents()),this.mainPlanCuentasView=new app.MainPlanCuentasView},getPlanCuentasCreate:function(){
this.planCuentaModel=new app.PlanCuentaModel,this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.createPlanCuentaView.render()},getPlanCuentasEdit:function(e){this.planCuentaModel=new app.PlanCuentaModel,this.planCuentaModel.set({id:e},{silent:!0}),this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.planCuentaModel.fetch()},getPlanCuentasNifMain:function(){this.mainPlanCuentasNifView instanceof Backbone.View&&(this.mainPlanCuentasNifView.stopListening(),this.mainPlanCuentasNifView.undelegateEvents()),this.mainPlanCuentasNifView=new app.MainPlanCuentasNifView},getPlanCuentasNifCreate:function(){this.planCuentaNifModel=new app.PlanCuentaNifModel,this.createPlanCuentaNifView instanceof Backbone.View&&(this.createPlanCuentaNifView.stopListening(),this.createPlanCuentaNifView.undelegateEvents()),this.createPlanCuentaNifView=new app.CreatePlanCuentaNifView({model:this.planCuentaNifModel}),this.createPlanCuentaNifView.render()},getPlanCuentasNifEdit:function(e){this.planCuentaNifModel=new app.PlanCuentaNifModel,this.planCuentaNifModel.set({id:e},{silent:!0}),this.createPlanCuentaNifView instanceof Backbone.View&&(this.createPlanCuentaNifView.stopListening(),this.createPlanCuentaNifView.undelegateEvents()),this.createPlanCuentaNifView=new app.CreatePlanCuentaNifView({model:this.planCuentaNifModel}),this.planCuentaNifModel.fetch()},getCentrosCostoMain:function(){this.mainCentrosCostoView instanceof Backbone.View&&(this.mainCentrosCostoView.stopListening(),this.mainCentrosCostoView.undelegateEvents()),this.mainCentrosCostoView=new app.MainCentrosCostoView},getCentrosCostoCreate:function(){this.centroCostoModel=new app.CentroCostoModel,this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.createCentroCostoView.render()},getCentrosCostoEdit:function(e){this.centroCostoModel=new app.CentroCostoModel,this.centroCostoModel.set({id:e},{silent:!0}),this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.centroCostoModel.fetch()},getAsientosMain:function(){this.mainAsientosView instanceof Backbone.View&&(this.mainAsientosView.stopListening(),this.mainAsientosView.undelegateEvents()),this.mainAsientosView=new app.MainAsientosView},getAsientosCreate:function(){this.asientoModel=new app.AsientoModel,this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.createAsientoView=new app.CreateAsientoView({model:this.asientoModel}),this.createAsientoView.render()},getAsientosShow:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.showAsientoView instanceof Backbone.View&&(this.showAsientoView.stopListening(),this.showAsientoView.undelegateEvents()),this.showAsientoView=new app.ShowAsientoView({model:this.asientoModel})},getAsientosEdit:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.editAsientoView instanceof Backbone.View&&(this.editAsientoView.stopListening(),this.editAsientoView.undelegateEvents()),this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.editAsientoView=new app.EditAsientoView({model:this.asientoModel}),this.asientoModel.fetch()},getAsientosNifMain:function(){this.mainAsientosNifView instanceof Backbone.View&&(this.mainAsientosNifView.stopListening(),this.mainAsientosNifView.undelegateEvents()),this.mainAsientosNifView=new app.MainAsientosNifView},getAsientosNifShow:function(e){this.asientoNifModel=new app.AsientoNifModel,this.asientoNifModel.set({id:e},{silent:!0}),this.showAsientoNifView instanceof Backbone.View&&(this.showAsientoNifView.stopListening(),this.showAsientoNifView.undelegateEvents()),this.showAsientoNifView=new app.ShowAsientoNifView({model:this.asientoNifModel})},getAsientosNifEdit:function(e){this.asientoNifModel=new app.AsientoNifModel,this.asientoNifModel.set({id:e},{silent:!0}),this.editAsientoNifView instanceof Backbone.View&&(this.editAsientoNifView.stopListening(),this.editAsientoNifView.undelegateEvents()),this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.editAsientoNifView=new app.EditAsientoNifView({model:this.asientoNifModel}),this.asientoNifModel.fetch()},getCierreMensualCreate:function(){this.createCierreContableMensualView instanceof Backbone.View&&(this.createCierreContableMensualView.stopListening(),this.createCierreContableMensualView.undelegateEvents()),this.createCierreContableMensualView=new app.CreateCierreContableMensualView,this.createCierreContableMensualView.render()},getFoldersMain:function(){this.mainFoldersView instanceof Backbone.View&&(this.mainFoldersView.stopListening(),this.mainFoldersView.undelegateEvents()),this.mainFoldersView=new app.MainFoldersView},getFoldersCreate:function(){this.folderModel=new app.FolderModel,this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.createFolderView.render()},getFoldersEdit:function(e){this.folderModel=new app.FolderModel,this.folderModel.set({id:e},{silent:!0}),this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.folderModel.fetch()},getDocumentosMain:function(){this.mainDocumentosView instanceof Backbone.View&&(this.mainDocumentosView.stopListening(),this.mainDocumentosView.undelegateEvents()),this.mainDocumentosView=new app.MainDocumentosView},getDocumentosCreate:function(){this.documentoModel=new app.DocumentoModel,this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.createDocumentoView.render()},getDocumentosEdit:function(e){this.documentoModel=new app.DocumentoModel,this.documentoModel.set({id:e},{silent:!0}),this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.documentoModel.fetch()},getSubGruposMain:function(){this.mainSubGruposView instanceof Backbone.View&&(this.mainSubGruposView.stopListening(),this.mainSubGruposView.undelegateEvents()),this.mainSubGruposView=new app.MainSubGruposView},getSubGruposCreate:function(){this.subGrupoModel=new app.SubGrupoModel,this.createSubGrupoView instanceof Backbone.View&&(this.createSubGrupoView.stopListening(),this.createSubGrupoView.undelegateEvents()),this.createSubGrupoView=new app.CreateSubGrupoView({model:this.subGrupoModel}),this.createSubGrupoView.render()},getSubGruposEdit:function(e){this.subGrupoModel=new app.SubGrupoModel,this.subGrupoModel.set({id:e},{silent:!0}),this.createSubGrupoView instanceof Backbone.View&&(this.createSubGrupoView.stopListening(),this.createSubGrupoView.undelegateEvents()),this.createSubGrupoView=new app.CreateSubGrupoView({model:this.subGrupoModel}),this.subGrupoModel.fetch()},getGruposMain:function(){this.mainGruposView instanceof Backbone.View&&(this.mainGruposView.stopListening(),this.mainGruposView.undelegateEvents()),this.mainGruposView=new app.MainGruposView},getGruposCreate:function(){this.grupoModel=new app.GrupoModel,this.createGrupoView instanceof Backbone.View&&(this.createGrupoView.stopListening(),this.createGrupoView.undelegateEvents()),this.createGrupoView=new app.CreateGrupoView({model:this.grupoModel}),this.createGrupoView.render()},getGruposEdit:function(e){this.grupoModel=new app.GrupoModel,this.grupoModel.set({id:e},{silent:!0}),this.createGrupoView instanceof Backbone.View&&(this.createGrupoView.stopListening(),this.createGrupoView.undelegateEvents()),this.createGrupoView=new app.CreateGrupoView({model:this.grupoModel}),this.grupoModel.fetch()},getUnidadesMain:function(){this.mainUnidadesView instanceof Backbone.View&&(this.mainUnidadesView.stopListening(),this.mainUnidadesView.undelegateEvents()),this.mainUnidadesView=new app.MainUnidadesView},getUnidadesCreate:function(){this.unidadModel=new app.UnidadModel,this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.createUnidadView.render()},getUnidadesEdit:function(e){this.unidadModel=new app.UnidadModel,this.unidadModel.set({id:e},{silent:!0}),this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.unidadModel.fetch()},getProductosMain:function(){this.mainProductosView instanceof Backbone.View&&(this.mainProductosView.stopListening(),this.mainProductosView.undelegateEvents()),this.mainProductosView=new app.MainProductosView},getProductosCreate:function(){this.productoModel=new app.ProductoModel,this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.createProductoView.render()},getProductoShow:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.showProductoView instanceof Backbone.View&&(this.showProductoView.stopListening(),this.showProductoView.undelegateEvents()),this.showProductoView=new app.ShowProductoView({model:this.productoModel})},getProductosEdit:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.productoModel.fetch()},getTrasladosMain:function(){this.mainTrasladosView instanceof Backbone.View&&(this.mainTrasladosView.stopListening(),this.mainTrasladosView.undelegateEvents()),this.mainTrasladosView=new app.MainTrasladosView},getTrasladosCreate:function(){this.trasladoModel=new app.TrasladoModel,this.createTrasladoView instanceof Backbone.View&&(this.createTrasladoView.stopListening(),this.createTrasladoView.undelegateEvents()),this.createTrasladoView=new app.CreateTrasladoView({model:this.trasladoModel}),this.createTrasladoView.render()},getTrasladosShow:function(e){this.trasladoModel=new app.TrasladoModel,this.trasladoModel.set({id:e},{silent:!0}),this.showTrasladoView instanceof Backbone.View&&(this.showTrasladoView.stopListening(),this.showTrasladoView.undelegateEvents()),this.showTrasladoView=new app.ShowTrasladoView({model:this.trasladoModel})},getTiempopMain:function(){this.mainTiempopView instanceof Backbone.View&&(this.mainTiempopView.stopListening(),this.mainTiempopView.undelegateEvents()),this.mainTiempopView=new app.MainTiempopView},getAreaspMain:function(){this.mainAreaspView instanceof Backbone.View&&(this.mainAreaspView.stopListening(),this.mainAreaspView.undelegateEvents()),this.mainAreaspView=new app.MainAreaspView},getAreaspCreate:function(){this.areapModel=new app.AreapModel,this.createAreapView instanceof Backbone.View&&(this.createAreapView.stopListening(),this.createAreapView.undelegateEvents()),this.createAreapView=new app.CreateAreapView({model:this.areapModel}),this.createAreapView.render()},getAreaspEdit:function(e){this.areapModel=new app.AreapModel,this.areapModel.set({id:e},{silent:!0}),this.createAreapView instanceof Backbone.View&&(this.createAreapView.stopListening(),this.createAreapView.undelegateEvents()),this.createAreapView=new app.CreateAreapView({model:this.areapModel}),this.areapModel.fetch()},getActividadespMain:function(){this.mainActividadespView instanceof Backbone.View&&(this.mainActividadespView.stopListening(),this.mainActividadespView.undelegateEvents()),this.mainActividadespView=new app.MainActividadespView},getActividadespCreate:function(){this.actividadpModel=new app.ActividadpModel,this.createActividadpView instanceof Backbone.View&&(this.createActividadpView.stopListening(),this.createActividadpView.undelegateEvents()),this.createActividadpView=new app.CreateActividadpView({model:this.actividadpModel}),this.createActividadpView.render()},getActividadespEdit:function(e){this.actividadpModel=new app.ActividadpModel,this.actividadpModel.set({id:e},{silent:!0}),this.createActividadpView instanceof Backbone.View&&(this.createActividadpView.stopListening(),this.createActividadpView.undelegateEvents()),this.createActividadpView=new app.CreateActividadpView({model:this.actividadpModel}),this.actividadpModel.fetch()},getSubActividadespMain:function(){this.mainSubActividadespView instanceof Backbone.View&&(this.mainSubActividadespView.stopListening(),this.mainSubActividadespView.undelegateEvents()),this.mainSubActividadespView=new app.MainSubActividadespView},getSubActividadespCreate:function(){this.subactividadpModel=new app.SubActividadpModel,this.createSubActividadpView instanceof Backbone.View&&(this.createSubActividadpView.stopListening(),this.createSubActividadpView.undelegateEvents()),this.createSubActividadpView=new app.CreateSubActividadpView({model:this.subactividadpModel}),this.createSubActividadpView.render()},getSubActividadespEdit:function(e){this.subactividadpModel=new app.SubActividadpModel,this.subactividadpModel.set({id:e},{silent:!0}),this.createSubActividadpView instanceof Backbone.View&&(this.createSubActividadpView.stopListening(),this.createSubActividadpView.undelegateEvents()),this.createSubActividadpView=new app.CreateSubActividadpView({model:this.subactividadpModel}),this.subactividadpModel.fetch()},getAcabadospMain:function(){this.mainAcabadospView instanceof Backbone.View&&(this.mainAcabadospView.stopListening(),this.mainAcabadospView.undelegateEvents()),this.mainAcabadospView=new app.MainAcabadospView},getAcabadospCreate:function(){this.acabadopModel=new app.AcabadopModel,this.createAcabadospView instanceof Backbone.View&&(this.createAcabadospView.stopListening(),this.createAcabadospView.undelegateEvents()),this.createAcabadospView=new app.CreateAcabadospView({model:this.acabadopModel}),this.createAcabadospView.render()},getAcabadospEdit:function(e){this.acabadopModel=new app.AcabadopModel,this.acabadopModel.set({id:e},{silent:!0}),this.createAcabadospView instanceof Backbone.View&&(this.createAcabadospView.stopListening(),this.createAcabadospView.undelegateEvents()),this.createAcabadospView=new app.CreateAcabadospView({model:this.acabadopModel}),this.acabadopModel.fetch()},getMaquinaspMain:function(){this.mainMaquinaspView instanceof Backbone.View&&(this.mainMaquinaspView.stopListening(),this.mainMaquinaspView.undelegateEvents()),this.mainMaquinaspView=new app.MainMaquinaspView},getMaquinaspCreate:function(){this.maquinapModel=new app.MaquinapModel,this.createMaquinapView instanceof Backbone.View&&(this.createMaquinapView.stopListening(),this.createMaquinapView.undelegateEvents()),this.createMaquinapView=new app.CreateMaquinapView({model:this.maquinapModel}),this.createMaquinapView.render()},getMaquinaspEdit:function(e){this.maquinapModel=new app.MaquinapModel,this.maquinapModel.set({id:e},{silent:!0}),this.createMaquinapView instanceof Backbone.View&&(this.createMaquinapView.stopListening(),this.createMaquinapView.undelegateEvents()),this.createMaquinapView=new app.CreateMaquinapView({model:this.maquinapModel}),this.maquinapModel.fetch()},getMaterialespMain:function(){this.mainMaterialespView instanceof Backbone.View&&(this.mainMaterialespView.stopListening(),this.mainMaterialespView.undelegateEvents()),this.mainMaterialespView=new app.MainMaterialespView},getMaterialespCreate:function(){this.materialpModel=new app.MaterialpModel,this.createMaterialpView instanceof Backbone.View&&(this.createMaterialpView.stopListening(),this.createMaterialpView.undelegateEvents()),this.createMaterialpView=new app.CreateMaterialpView({model:this.materialpModel}),this.createMaterialpView.render()},getMaterialespEdit:function(e){this.materialpModel=new app.MaterialpModel,this.materialpModel.set({id:e},{silent:!0}),this.createMaterialpView instanceof Backbone.View&&(this.createMaterialpView.stopListening(),this.createMaterialpView.undelegateEvents()),this.createMaterialpView=new app.CreateMaterialpView({model:this.materialpModel}),this.materialpModel.fetch()},getTipoMaterialespMain:function(){this.mainTipoMaterialespView instanceof Backbone.View&&(this.mainTipoMaterialespView.stopListening(),this.mainTipoMaterialespView.undelegateEvents()),this.mainTipoMaterialespView=new app.MainTipoMaterialespView},getTipoMaterialpCreate:function(){this.tipomaterialpModel=new app.TipoMaterialpModel,this.createTipoMaterialpView instanceof Backbone.View&&(this.createTipoMaterialpView.stopListening(),this.createTipoMaterialpView.undelegateEvents()),this.createTipoMaterialpView=new app.CreateTipoMaterialpView({model:this.tipomaterialpModel}),this.createTipoMaterialpView.render()},getTipoMaterialpEdit:function(e){this.tipomaterialpModel=new app.TipoMaterialpModel,this.tipomaterialpModel.set({id:e},{silent:!0}),this.createTipoMaterialpView instanceof Backbone.View&&(this.createTipoMaterialpView.stopListening(),this.createTipoMaterialpView.undelegateEvents()),this.createTipoMaterialpView=new app.CreateTipoMaterialpView({model:this.tipomaterialpModel}),this.tipomaterialpModel.fetch()},getTipoProductopMain:function(){this.mainTipoProductospView instanceof Backbone.View&&(this.mainTipoProductospView.stopListening(),this.mainTipoProductospView.undelegateEvents()),this.mainTipoProductospView=new app.MainTipoProductospView},getTipoProductopCreate:function(){this.tipoproductopModel=new app.TipoProductopModel,this.createTipoProductopView instanceof Backbone.View&&(this.createTipoProductopView.stopListening(),this.createTipoProductopView.undelegateEvents()),this.createTipoProductopView=new app.CreateTipoProductopView({model:this.tipoproductopModel}),this.createTipoProductopView.render()},getTipoProductopEdit:function(e){this.tipoproductopModel=new app.TipoProductopModel,this.tipoproductopModel.set({id:e},{silent:!0}),this.createTipoProductopView instanceof Backbone.View&&(this.createTipoProductopView.stopListening(),this.createTipoProductopView.undelegateEvents()),this.createTipoProductopView=new app.CreateTipoProductopView({model:this.tipoproductopModel}),this.tipoproductopModel.fetch()},getSubtipoProductopMain:function(){this.mainSubtipoProductospView instanceof Backbone.View&&(this.mainSubtipoProductospView.stopListening(),this.mainSubtipoProductospView.undelegateEvents()),this.mainSubtipoProductospView=new app.MainSubtipoProductospView},getSubtipoProductopCreate:function(){this.subtipoproductopModel=new app.SubtipoProductopModel,this.createSubtipoProductopView instanceof Backbone.View&&(this.createSubtipoProductopView.stopListening(),this.createSubtipoProductopView.undelegateEvents()),this.createSubtipoProductopView=new app.CreateSubtipoProductopView({model:this.subtipoproductopModel}),this.createSubtipoProductopView.render()},getSubtipoProductopEdit:function(e){this.subtipoproductopModel=new app.SubtipoProductopModel,this.subtipoproductopModel.set({id:e},{silent:!0}),this.createSubtipoProductopView instanceof Backbone.View&&(this.createSubtipoProductopView.stopListening(),this.createSubtipoProductopView.undelegateEvents()),this.createSubtipoProductopView=new app.CreateSubtipoProductopView({model:this.subtipoproductopModel}),this.subtipoproductopModel.fetch()},getOrdenesMain:function(){this.mainOrdenesView instanceof Backbone.View&&(this.mainOrdenesView.stopListening(),this.mainOrdenesView.undelegateEvents()),this.mainOrdenesView=new app.MainOrdenesView},getOrdenesCreate:function(){this.ordenpModel=new app.OrdenpModel,this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),this.createOrdenpView=new app.CreateOrdenpView({model:this.ordenpModel}),this.createOrdenpView.render()},getOrdenesShow:function(e){this.ordenpModel=new app.OrdenpModel,this.ordenpModel.set({id:e},{silent:!0}),this.showOrdenesView instanceof Backbone.View&&(this.showOrdenesView.stopListening(),this.showOrdenesView.undelegateEvents()),this.showOrdenesView=new app.ShowOrdenesView({model:this.ordenpModel})},getOrdenesEdit:function(e){this.ordenpModel=new app.OrdenpModel,this.ordenpModel.set({id:e},{silent:!0}),this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),this.editOrdenpView instanceof Backbone.View&&(this.editOrdenpView.stopListening(),this.editOrdenpView.undelegateEvents()),this.editOrdenpView=new app.EditOrdenpView({model:this.ordenpModel}),this.ordenpModel.fetch()},getProductospMain:function(){this.mainProductospView instanceof Backbone.View&&(this.mainProductospView.stopListening(),this.mainProductospView.undelegateEvents()),this.mainProductospView=new app.MainProductospView},getOrdenesProductoCreate:function(e){var t=this.parseQueryString(e);this.ordenp2Model=new app.Ordenp2Model,this.createOrdenp2View instanceof Backbone.View&&(this.createOrdenp2View.stopListening(),this.createOrdenp2View.undelegateEvents()),this.createOrdenp2View=new app.CreateOrdenp2View({model:this.ordenp2Model,parameters:{data:{orden2_orden:t.ordenp,orden2_productop:t.productop}}}),this.createOrdenp2View.render()},getOrdenesProductoEdit:function(e){this.ordenp2Model=new app.Ordenp2Model,this.ordenp2Model.set({id:e},{silent:!0}),this.createOrdenp2View instanceof Backbone.View&&(this.createOrdenp2View.stopListening(),this.createOrdenp2View.undelegateEvents()),this.createOrdenp2View=new app.CreateOrdenp2View({model:this.ordenp2Model}),this.ordenp2Model.fetch()},getProductospCreate:function(){this.productopModel=new app.ProductopModel,this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),this.createProductopView=new app.CreateProductopView({model:this.productopModel}),this.createProductopView.render()},getProductospShow:function(e){this.productopModel=new app.ProductopModel,this.productopModel.set({id:e},{silent:!0}),this.showProductopView instanceof Backbone.View&&(this.showProductopView.stopListening(),this.showProductopView.undelegateEvents()),this.showProductopView=new app.ShowProductopView({model:this.productopModel})},getProductospEdit:function(e){this.productopModel=new app.ProductopModel,this.productopModel.set({id:e},{silent:!0}),this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),this.editProductopView instanceof Backbone.View&&(this.editProductopView.stopListening(),this.editProductopView.undelegateEvents()),this.editProductopView=new app.EditProductopView({model:this.productopModel}),this.productopModel.fetch()},getCotizacionesMain:function(){this.mainCotizacionesView instanceof Backbone.View&&(this.mainCotizacionesView.stopListening(),this.mainCotizacionesView.undelegateEvents()),this.mainCotizacionesView=new app.MainCotizacionesView},getCotizacionesCreate:function(){this.cotizacionModel=new app.CotizacionModel,this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),this.createCotizacionView=new app.CreateCotizacionView({model:this.cotizacionModel}),this.createCotizacionView.render()},getCotizacionesShow:function(e){this.cotizacionModel=new app.CotizacionModel,this.cotizacionModel.set({id:e},{silent:!0}),this.showCotizacionView instanceof Backbone.View&&(this.showCotizacionView.stopListening(),this.showCotizacionView.undelegateEvents()),this.showCotizacionView=new app.ShowCotizacionView({model:this.cotizacionModel})},getCotizacionesEdit:function(e){this.cotizacionModel=new app.CotizacionModel,this.cotizacionModel.set({id:e},{silent:!0}),this.editCotizacionView instanceof Backbone.View&&(this.editCotizacionView.stopListening(),this.editCotizacionView.undelegateEvents()),this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),this.editCotizacionView=new app.EditCotizacionView({model:this.cotizacionModel}),this.cotizacionModel.fetch()},getCotizacionesProductoCreate:function(e){var t=this.parseQueryString(e);this.cotizacion2Model=new app.Cotizacion2Model,this.createCotizacion2View instanceof Backbone.View&&(this.createCotizacion2View.stopListening(),this.createCotizacion2View.undelegateEvents()),this.createCotizacion2View=new app.CreateCotizacion2View({model:this.cotizacion2Model,parameters:{data:{cotizacion2_cotizacion:t.cotizacion,cotizacion2_productop:t.productop}}}),this.createCotizacion2View.render()},getCotizacionesProductoEdit:function(e){this.cotizacion2Model=new app.Cotizacion2Model,this.cotizacion2Model.set({id:e},{silent:!0}),this.createCotizacion2View instanceof Backbone.View&&(this.createCotizacion2View.stopListening(),this.createCotizacion2View.undelegateEvents()),this.createCotizacion2View=new app.CreateCotizacion2View({model:this.cotizacion2Model}),this.cotizacion2Model.fetch()},getFacturasMain:function(){this.mainFacturaView instanceof Backbone.View&&(this.mainFacturaView.stopListening(),this.mainFacturaView.undelegateEvents()),this.mainFacturaView=new app.MainFacturasView},getFacturaCreate:function(){this.facturaModel=new app.FacturaModel,this.createFacturaView instanceof Backbone.View&&(this.createFacturaView.stopListening(),this.createFacturaView.undelegateEvents()),this.createFacturaView=new app.CreateFacturaView({model:this.facturaModel}),this.createFacturaView.render()},getFacturaShow:function(e){this.facturaModel=new app.FacturaModel,this.facturaModel.set({id:e},{silent:!0}),this.showFacturasView instanceof Backbone.View&&(this.showFacturasView.stopListening(),this.showFacturasView.undelegateEvents()),this.showFacturasView=new app.ShowFacturaView({model:this.facturaModel})},getFacturaspMain:function(){this.mainFacturaspView instanceof Backbone.View&&(this.mainFacturaspView.stopListening(),this.mainFacturaspView.undelegateEvents()),this.mainFacturaspView=new app.MainFacturaspView},getFacturaspShow:function(e){this.facturapModel=new app.FacturapModel,this.facturapModel.set({id:e},{silent:!0}),this.showFacturapView instanceof Backbone.View&&(this.showFacturapView.stopListening(),this.showFacturapView.undelegateEvents()),this.showFacturapView=new app.ShowFacturapView({model:this.facturapModel})}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,i,o){var n=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},n.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initInputMask(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initDatePicker(),this.initTimePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-green",radioClass:"iradio_minimal-green"})},initAlertify:function(){alertify.logPosition("bottom right")},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0}),e("[data-currency-negative]").inputmask({radixPoint:",",alias:"currency",prefix:"",removeMaskOnSubmit:!0,unmaskAsNumber:!0})},initSelect2:function(){var t={".select2-default":{language:"es",placeholder:"Seleccione",allowClear:!1},".select2-default-clear":{language:"es",placeholder:"Seleccione",allowClear:!0},".choice-select-autocomplete":{language:"es",placeholder:"Seleccione una opción",ajax:{delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e,pagination:{more:30*t.page<e.total_count}}},escapeMarkup:function(e){return e},cache:!0,minimumInputLength:1}}};for(var i in t)e(i).each(function(n,r){var a=e(r);if(a.data("select2")==o&&(a.select2(t[i]),".choice-select-autocomplete"==i)){var s=a.data("initial-value"),c=null;if(s){var l=a.data("select2").dataAdapter.ajaxOptions;c=e("<option selected>Cargando...</option>").val(s),a.append(c).trigger("change"),e.get(l.url,{id:s},function(e){c.text(e[0].text).val(e[0].id),c.removeData(),a.trigger("change")})}}})},initToUpper:function(){e(".input-toupper").change(function(){e(this).val(e(this).val().toUpperCase())}),e(".input-lower").change(function(){for(var t=e(this).val(e(this).val().toLowerCase()),i=/[^a-z0-9]/i,o="",n=0;n<=t.val().length-1;n++)i.test(t.val().charAt(n))||(t.val().replace(i,""),o+=t.val().charAt(n));e(this).val(o)})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,i){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})},initTimePicker:function(){e(".timepicker").timepicker({showInputs:!1,showMeridian:!1})}},e(function(){t.initComponent=new n,t.initComponent.initialize()})}(jQuery,this,this.document);