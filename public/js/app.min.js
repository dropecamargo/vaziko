app||(app={}),function(e,t,o){app.AcabadopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("acabadosp.index"))},idAttribute:"id",defaults:{acabadop_nombre:"",acabadop_descripcion:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ActividadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("actividades.index"))},idAttribute:"id",defaults:{actividad_codigo:"",actividad_nombre:"",actividad_tarifa:"0",actividad_categoria:""}})}(this,this.document),app||(app={}),function(e,t,o){app.AreapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("areasp.index"))},idAttribute:"id",defaults:{areap_nombre:"",areap_valor:0}})}(this,this.document),app||(app={}),function(e,t,o){app.AsientoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.index"))},idAttribute:"id",defaults:{asiento1_ano:moment().format("YYYY"),asiento1_mes:moment().format("M"),asiento1_dia:moment().format("D"),asiento1_folder:"",asiento1_documento:"",documento_tipo_consecutivo:"",asiento1_numero:"",asiento1_beneficiario:"",tercero_nit:"",tercero_nombre:"",asiento1_sucursal:"",asiento1_preguardado:"",asiento1_detalle:"",asiento1_fecha_elaboro:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Asiento2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},idAttribute:"id",defaults:{asiento2_asiento:"",asiento2_cuenta:"",asiento2_beneficiario:"",asiento2_debito:0,asiento2_credito:0,asiento2_centro:"",asiento2_base:0,asiento2_detalle:"",asiento2_orden:"",plancuentas_cuenta:"",plancuentas_nombre:"",tercero_nit:"",tercero_nombre:"",centrocosto_nombre:"",ordenp_codigo:"",ordenp_beneficiario:""}})}(this,this.document),app||(app={}),function(e,t,o){app.AsientoMovModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.detalle.movimientos"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.CentroCostoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("centroscosto.index"))},idAttribute:"id",defaults:{centrocosto_codigo:"",centrocosto_centro:"",centrocosto_nombre:"",centrocosto_descripcion1:"",centrocosto_descripcion2:"",centrocosto_estructura:"N",centrocosto_tipo:"N",centrocosto_activo:!0}})}(this,this.document),app||(app={}),function(e,t,o){app.ContactoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},idAttribute:"id",defaults:{tcontacto_nombres:"",tcontacto_apellidos:"",tcontacto_telefono:"",tcontacto_celular:"",tcontacto_municipio:"",tcontacto_direccion:"",tcontacto_direccion_nomenclatura:"",tcontacto_email:"",tcontacto_cargo:""}})}(this,this.document),app||(app={}),function(e,t,o){app.CotizacionModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.index"))},idAttribute:"id",defaults:{cotizacion1_codigo:"",cotizacion1_referencia:"",cotizacion1_cliente:"",tercero_nit:"",tercero_nombre:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",cotizacion1_fecha_inicio:moment().format("YYYY-MM-DD"),cotizacion1_iva:"",cotizacion1_contacto:"",tcontacto_nombre:"",tcontacto_telefono:"",cotizacion1_suministran:"",cotizacion1_observaciones:"",cotizacion1_transporte:"",cotizacion1_viaticos:"",cotizacion1_terminado:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Cotizacion2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.index"))},idAttribute:"id",defaults:{cotizacion2_referencia:"",cotizacion2_cantidad:0,cotizacion2_precio_formula:"",cotizacion2_round_formula:"",cotizacion2_precio_venta:"",cotizacion2_transporte:0,cotizacion2_viaticos:"",cotizacion2_observaciones:"",cotizacion2_ancho:0,cotizacion2_alto:0,cotizacion2_c_ancho:0,cotizacion2_c_alto:0,cotizacion2_3d_ancho:0,cotizacion2_3d_alto:0,cotizacion2_3d_profundidad:0,cotizacion2_tiro:!1,cotizacion2_yellow:!1,cotizacion2_magenta:!1,cotizacion2_cyan:!1,cotizacion2_key:!1,cotizacion2_color1:!1,cotizacion2_color2:!1,cotizacion2_nota_tiro:"",cotizacion2_retiro:!1,cotizacion2_yellow2:!1,cotizacion2_magenta2:!1,cotizacion2_cyan2:!1,cotizacion2_key2:!1,cotizacion2_color12:!1,cotizacion2_color22:!1,cotizacion2_nota_retiro:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Cotizacion3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.maquinas.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Cotizacion4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.materiales.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Cotizacion5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.acabados.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Cotizacion6Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.areas.index"))},idAttribute:"id",defaults:{cotizacion6_areap:"",cotizacion6_nombre:"",cotizacion6_horas:0,cotizacion6_valor:0,areap_nombre:"",total:0}})}(this,this.document),app||(app={}),function(e,t,o){app.DespachopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.DocumentoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("documentos.index"))},idAttribute:"id",defaults:{documento_codigo:"",documento_nombre:"",documento_folder:"",documento_tipo_consecutivo:"A"}})}(this,this.document),app||(app={}),function(e,t,o){app.EmpresaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("empresa.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,actividad_tarifa:"",empresa_niif:"",empresa_iva:""}})}(this,this.document),app||(app={}),function(e,t,o){app.FacturaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.index"))},idAttribute:"id",defaults:{factura1_fecha:moment().format("YYYY-MM-DD"),factura1_fecha_vencimiento:moment().format("YYYY-MM-DD"),tercero_nit:"",tercero_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Factura2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.facturado.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Factura3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.comentario.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Factura4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturas.detalle.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.FacturapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturap.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Facturap2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("facturap.cuotas.index"))},idAttribute:"id",defaults:{facturap2_factura:"",facturap2_cuota:"",facturap2_vencimiento:"",facturap2_valor:0,facturap2_saldo:0}})}(this,this.document),app||(app={}),function(e,t,o){app.FolderModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("folders.index"))},idAttribute:"id",defaults:{folder_codigo:"",folder_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.GrupoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("grupos.index"))},idAttribute:"id",defaults:{grupo_codigo:"",grupo_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ItemRolloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},idAttribute:"id",defaults:{prodboderollo_item:0,prodboderollo_centimetro:0,prodboderollo_saldo:0}})}(this,this.document),app||(app={}),function(e,t,o){app.MaquinapModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("maquinasp.index"))},idAttribute:"id",defaults:{maquinap_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.MaterialpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("materialesp.index"))},idAttribute:"id",defaults:{materialp_nombre:"",materialp_descripcion:"",materialp_tipomaterial:""}})}(this,this.document),app||(app={}),function(e,t,o){app.ModuloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},idAttribute:"id",defaults:{name:"",display_name:"",nivel1:"",nivel2:"",nivel3:"",nivel4:""}})}(this,this.document),app||(app={}),function(e,t,o){app.OrdenpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.index"))},idAttribute:"id",defaults:{orden_codigo:"",orden_referencia:"",orden_cliente:"",tercero_nit:"",tercero_nombre:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",orden_fecha_inicio:moment().format("YYYY-MM-DD"),orden_fecha_entrega:moment().format("YYYY-MM-DD"),orden_hora_entrega:"",orden_formapago:"CO",orden_iva:"",orden_contacto:"",tcontacto_nombre:"",tcontacto_telefono:"",orden_suministran:"",orden_observaciones:"",orden_terminado:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Ordenp2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.index"))},idAttribute:"id",defaults:{orden2_referencia:"",orden2_cantidad:0,orden2_precio_formula:"",orden2_round_formula:"",orden2_precio_venta:"",orden2_observaciones:"",orden2_ancho:0,orden2_alto:0,orden2_c_ancho:0,orden2_c_alto:0,orden2_3d_ancho:0,orden2_3d_alto:0,orden2_3d_profundidad:0,orden2_tiro:!1,orden2_yellow:!1,orden2_magenta:!1,orden2_cyan:!1,orden2_key:!1,orden2_color1:!1,orden2_color2:!1,orden2_nota_tiro:"",orden2_retiro:!1,orden2_yellow2:!1,orden2_magenta2:!1,orden2_cyan2:!1,orden2_key2:!1,orden2_color12:!1,orden2_color22:!1,orden2_nota_retiro:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Ordenp3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.maquinas.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Ordenp4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.materiales.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.Ordenp5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ordenes.productos.acabados.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.PlanCuentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("plancuentas.index"))},idAttribute:"id",defaults:{plancuentas_cuenta:"",plancuentas_nivel:"",plancuentas_nombre:"",plancuentas_naturaleza:"D",plancuentas_centro:"",plancuentas_tercero:!1,plancuentas_tipo:"N",plancuentas_tasa:0}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.index"))},idAttribute:"id",defaults:{producto_nombre:"",producto_codigo:"",producto_codigoori:"",producto_referencia:"",producto_grupo:"",producto_subgrupo:"",producto_unidadmedida:"",producto_precio:0,producto_costo:0,producto_vidautil:0,producto_unidades:!0,producto_serie:!1,producto_metrado:!1}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.index"))},idAttribute:"id",defaults:{productop_nombre:"",productop_observaciones:"",productop_tiro:!1,productop_retiro:!1,productop_abierto:!1,productop_cerrado:!1,productop_3d:!1,productop_ancho_med:"",productop_alto_med:"",productop_c_med_ancho:"",productop_c_med_alto:"",productop_tipoproductop:"",productop_subtipoproductop:"",subtipoproductop_nombre:"",productop_3d_profundidad_med:"",productop_3d_ancho_med:"",productop_3d_alto_med:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Productop2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.tips.index"))},idAttribute:"id",defaults:{productop2_productop:"",productop2_tip:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Productop3Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.areas.index"))},idAttribute:"id",defaults:{productop3_productop:"",productop3_areap:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Productop4Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.maquinas.index"))},idAttribute:"id",defaults:{productop4_productop:"",productop4_maquinap:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Productop5Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.materiales.index"))},idAttribute:"id",defaults:{productop5_productop:"",productop5_materialp:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Productop6Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productosp.acabados.index"))},idAttribute:"id",defaults:{productop6_productop:"",productop6_acabadop:""}})}(this,this.document),app||(app={}),function(e,t,o){app.PuntoVentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("puntosventa.index"))},idAttribute:"id",defaults:{puntoventa_nombre:"",puntoventa_numero:"",puntoventa_prefijo:"",puntoventa_resolucion_dian:""}})}(this,this.document),app||(app={}),function(e,t,o){app.RolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("roles.index"))},idAttribute:"id",defaults:{name:"",display_name:"",description:"",permissions:[]}})}(this,this.document),app||(app={}),function(e,t,o){app.SubGrupoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subgrupos.index"))},idAttribute:"id",defaults:{subgrupo_codigo:"",subgrupo_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.SubtipoProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subtipoproductosp.index"))},idAttribute:"id",defaults:{subtipoproductop_nombre:"",subtipoproductop_tipoproductop:"",subtipoproductop_activo:1}})}(this,this.document),app||(app={}),function(e,t,o){app.SucursalModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("sucursales.index"))},idAttribute:"id",defaults:{sucursal_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.TerceroModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_activo:!1,tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,tercero_socio:!1,tercero_cliente:!1,tercero_acreedor:!1,tercero_interno:!1,tercero_mandatario:!1,tercero_empleado:!1,tercero_proveedor:!1,tercero_extranjero:!1,tercero_afiliado:!1,tercero_otro:!1,tercero_tecnico:!1,tercero_coordinador:!1,tercero_coordinador_por:"",tercero_cual:"",username:"",actividad_tarifa:""}})}(this,this.document),app||(app={}),function(e,t,o){app.TipoMaterialpModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tiposmaterialp.index"))},idAttribute:"id",defaults:{tipomaterial_nombre:"",tipomaterial_activo:1}})}(this,this.document),app||(app={}),function(e,t,o){app.TipoProductopModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tipoproductosp.index"))},idAttribute:"id",defaults:{tipoproductop_nombre:"",tipoproductop_activo:1}})}(this,this.document),app||(app={}),function(e,t,o){app.TrasladoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("traslados.index"))},idAttribute:"id",defaults:{traslado1_sucursal:"",traslado1_numero:"",traslado1_destino:"",traslado1_fecha:moment().format("YYYY-MM-DD"),traslado1_observaciones:""}})}(this,this.document),app||(app={}),function(e,t,o){app.Traslado2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("traslados.detalle.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,o){app.UnidadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("unidades.index"))},idAttribute:"id",defaults:{unidadmedida_sigla:"",unidadmedida_nombre:""}})}(this,this.document),app||(app={}),function(e,t,o){app.UsuarioRolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},idAttribute:"id",defaults:{user_id:"",role_id:""}})}(this,this.document),app||(app={}),function(e,t,o){app.AsientoCuentasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},model:app.Asiento2Model,initialize:function(){},debitos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_debito"))},0)},creditos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_credito"))},0)},totalize:function(){var e=this.debitos(),t=this.creditos();return{debitos:e,creditos:t,diferencia:Math.abs(t-e)}}})}(this,this.document),app||(app={}),function(e,t,o){app.AsientoFacturaCommentsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.facturas.detalle.index"))},model:app.Factura3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AsientoMovimientosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.movimientos"))},model:app.AsientoMovModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AcabadosProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.acabados.index"))},model:app.Cotizacion5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AreasProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.areas.index"))},model:app.Cotizacion6Model,initialize:function(){},validar:function(e){var t={success:!1,message:""};if(_.isNull(e.cotizacion6_areap)||_.isUndefined(e.cotizacion6_areap)||""==e.cotizacion6_areap)var o=_.find(this.models,function(t){return t.get("cotizacion6_nombre")==e.cotizacion6_nombre});else var o=_.find(this.models,function(t){return t.get("cotizacion6_areap")==e.cotizacion6_areap});return o instanceof Backbone.Model?(t.message="El area que intenta ingresar ya existe.",t):(t.success=!0,t)},total:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion6_horas"))*parseFloat(t.get("cotizacion6_valor"))},0)},totalRow:function(){_.each(this.models,function(e){var t=parseInt(e.get("cotizacion6_horas"))*parseFloat(e.get("cotizacion6_valor"));e.set("total",t)})},totalcotizacion:function(e,t){var o=0;return o=parseFloat(e)+parseFloat(t)},totalize:function(){var e=this.total();return this.totalRow(),{total:e}}})}(this,this.document),app||(app={}),function(e,t,o){app.MaquinasProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.maquinas.index"))},model:app.Cotizacion3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.MaterialesProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.materiales.index"))},model:app.Cotizacion4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductopCotizacionList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("cotizaciones.productos.index"))},model:app.Cotizacion2Model,initialize:function(){},unidades:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_cantidad"))},0)},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_facturado"))},0)},transporte:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_transporte"))},0)},viaticos:function(){return this.reduce(function(e,t){return e+parseInt(t.get("cotizacion2_viaticos"))},0)},subtotal:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("cotizacion2_precio_total"))+parseFloat(t.get("cotizacion2_viaticos"))+parseFloat(t.get("cotizacion2_transporte"))},0)},totalize:function(){var e=this.unidades(),t=this.facturado(),o=this.transporte(),i=this.viaticos(),r=this.subtotal();return{unidades:e,facturado:t,subtotal:r,transporte:o,viaticos:i}}})}(this,this.document),app||(app={}),function(e,t,o){app.DetalleFactura2List=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturas.facturado.index"))},model:app.Factura2Model,initialize:function(){},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("factura2_cantidad"))},0)},validar:function(e){var t={success:!1,error:""},o=_.find(this.models,function(t){return t.get("id")==e.factura1_orden});return o instanceof Backbone.Model?(t.error="La orden No. "+e.factura1_orden+" ya se encuentra registrada.",t):(t.success=!0,t)},renderSubtotal:function(){_.each(this.models,function(t){var o=parseInt(t.get("factura2_cantidad"))*parseFloat(t.get("orden2_precio_venta"));$("#subtotal_"+t.get("id")).html(e.Misc.currency(o))})},totalize:function(){var e=this.facturado();return this.renderSubtotal(),{facturado:e}}})}(this,this.document),app||(app={}),function(e,t,o){app.DetalleFactura4List=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturas.detalle.index"))},model:app.Factura4Model,initialize:function(){},valor:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("factura4_saldo"))},0)},calculate:function(e){var t=_.reduce(e,function(e,t){return e+parseFloat(t.get("factura4_saldo"))},0),o=e.length;return{saldo:t,count:o}},matchPorvencer:function(){var e=_.filter(this.models,function(e){return e.get("days")>0});return this.calculate(e)},matchMayor360:function(){var e=_.filter(this.models,function(e){return e.get("days")<-360});return this.calculate(e)},matchMenor360:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-181&&e.get("days")>=-360});return this.calculate(e)},matchMenor180:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-91&&e.get("days")>=-180});return this.calculate(e)},matchMenor90:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-61&&e.get("days")>=-90});return this.calculate(e)},matchMenor60:function(){var e=_.filter(this.models,function(e){return e.get("days")<=-31&&e.get("days")>=-60});return this.calculate(e)},matchMenor30:function(){var e=_.filter(this.models,function(e){return e.get("days")<=0&&e.get("days")>=-30});return this.calculate(e)},totalize:function(){var e=this.valor(),t=this.matchPorvencer(),o=this.matchMayor360(),i=this.matchMenor360(),r=this.matchMenor180(),n=this.matchMenor90(),a=this.matchMenor60(),s=this.matchMenor30(),c=t.count+s.count+a.count+n.count+r.count+i.count+o.count;return{valor:e,porvencer:t,mayor360:o,menor360:i,menor180:r,menor90:n,menor60:a,menor30:s,tcount:c}}})}(this,this.document),app||(app={}),function(e,t,o){app.CuotasFPList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturap.cuotas.index"))},model:app.Facturap2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AcabadosProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.acabados.index"))},model:app.Ordenp5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.DespachospPendientesOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.pendientes"))},model:app.Ordenp2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.DespachopOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.despachos.index"))},model:app.DespachopModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.MaquinasProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.maquinas.index"))},model:app.Ordenp3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.MaterialesProductopList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.materiales.index"))},model:app.Ordenp4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductopOrdenList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ordenes.productos.index"))},model:app.Ordenp2Model,initialize:function(){},unidades:function(){return this.reduce(function(e,t){return e+parseInt(t.get("orden2_cantidad"))},0)},facturado:function(){return this.reduce(function(e,t){return e+parseInt(t.get("orden2_facturado"))},0)},subtotal:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("orden2_precio_total"))},0)},totalize:function(){var e=this.unidades(),t=this.facturado(),o=this.subtotal();return{unidades:e,facturado:t,subtotal:o}}})}(this,this.document),app||(app={}),function(e,t,o){app.ItemRolloINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},model:app.ItemRolloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ProductoSeriesINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.index"))},model:app.ProductoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AcabadosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.acabados.index"))},model:app.Productop6Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.AreasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.areas.index"))},model:app.Productop3Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.MaquinasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.maquinas.index"))},model:app.Productop4Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.MaterialesList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.materiales.index"))},model:app.Productop5Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.TipsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productosp.tips.index"))},model:app.Productop2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.PermisosRolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("roles.permisos.index"))},model:app.ModuloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.ContactsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},model:app.ContactoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.FacturaptList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.facturap"))},model:app.Facturap2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.RolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},model:app.UsuarioRolModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o){app.TrasladoProductosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("traslados.detalle.index"))},model:app.Traslado2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,o,i){app.CreateAcabadospView=Backbone.View.extend({el:"#acabadosp-create",template:_.template(e("#add-acabadop-tpl").html()||""),events:{"submit #form-acabadosp":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-acabadop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("acabadosp.show",{acabadosp:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainAcabadospView=Backbone.View.extend({el:"#acabadosp-main",initialize:function(){this.$acabadospSearchTable=this.$("#acabadosp-search-table"),this.$acabadospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("acabadosp.index")),columns:[{data:"id",name:"id"},{data:"acabadop_nombre",name:"acabadop_nombre"},{data:"acabadop_descripcion",name:"acabadop_descripcion"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo acabado',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("acabadosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("acabadosp.show",{acabadosp:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateActividadView=Backbone.View.extend({el:"#actividad-create",template:_.template(e("#add-actividad-tpl").html()||""),
events:{"submit #form-actividad":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-actividad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.show",{actividades:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainActividadView=Backbone.View.extend({el:"#actividades-main",initialize:function(){this.$actividadesSearchTable=this.$("#actividades-search-table"),this.$actividadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("actividades.index")),data:function(e){e.datatables=!0}},columns:[{data:"actividad_codigo",name:"actividad_codigo"},{data:"actividad_nombre",name:"actividad_nombre"},{data:"actividad_categoria",name:"actividad_categoria"},{data:"actividad_tarifa",name:"actividad_tarifa"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva actividad',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("actividades.show",{actividades:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateAreapView=Backbone.View.extend({el:"#areasp-create",template:_.template(e("#add-areap-tpl").html()||""),events:{"submit #form-areasp":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-areap"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("areasp.show",{areasp:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainAreaspView=Backbone.View.extend({el:"#areasp-main",initialize:function(){this.$areaspSearchTable=this.$("#areasp-search-table"),this.$areaspSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("areasp.index")),columns:[{data:"id",name:"id"},{data:"areap_nombre",name:"areap_nombre"},{data:"areap_valor",name:"areap_valor"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva area',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("areasp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("areasp.show",{areasp:i.id}))+'">'+e+"</a>"}},{targets:2,render:function(e){return t.Misc.currency(e)}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsientoActionView=Backbone.View.extend({el:"#asiento-content",templateOrdenp:_.template(e("#searchordenp-asiento-tpl").html()||""),templateFacturap:_.template(e("#rfacturap-asiento-tpl").html()||""),templateAddFacturap:_.template(e("#add-rfacturap-asiento-tpl").html()||""),templateCuotasFacturap:_.template(e("#add-rfacturap2-asiento-tpl").html()||""),templateCartera:_.template(e("#rcartera-asiento-tpl").html()||""),templateCommentsFactura:_.template(e("#add-comments-tpl").html()||""),templateInventario:_.template(e("#add-inventario-asiento-tpl").html()||""),templateAddItemRollo:_.template(e("#add-itemrollo-asiento-tpl").html()||""),templateChooseItemsRollo:_.template(e("#choose-itemrollo-asiento-tpl").html()||""),templateAddSeries:_.template(e("#add-series-asiento-tpl").html()||""),events:{"submit #form-create-ordenp-asiento-component-source":"onStoreItemOrdenp","submit #form-create-asiento-component-source":"onStoreItemFacturap","change input#facturap1_factura":"facturapChanged","submit #form-create-cartera-component-source":"onStoreItemFactura","change .factura-koi-component":"facturaChange","submit #form-create-inventario-asiento-component-source":"onStoreItemInventario","change .evaluate-producto-movimiento-asiento":"evaluateProductoInventario"},parameters:{data:{},actions:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalOp=this.$("#modal-asiento-ordenp-component"),this.$modalFp=this.$("#modal-asiento-facturap-component"),this.$modalIn=this.$("#modal-asiento-inventario-component"),this.$modalCt=this.$("#modal-asiento-cartera-component"),this.cuotasFPList=new app.CuotasFPList,this.itemRolloINList=new app.ItemRolloINList,this.productoSeriesINList=new app.ProductoSeriesINList,this.detalleFactura4List=new app.DetalleFactura4List,this.listenTo(this.cuotasFPList,"reset",this.addAllCuotasFacturap),this.listenTo(this.detalleFactura4List,"reset",this.addAllFactura),this.listenTo(this.itemRolloINList,"reset",this.addAllItemRolloInventario),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){this.runAction()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},runAction:function(){var e=this.evaluateNextAction(),t=this,o={facturap:function(){t.$modalFp.find(".content-modal").empty().html(t.templateFacturap(t.parameters.data)),t.referenceFacturap()},cartera:function(){t.$modalCt.find(".content-modal").empty().html(t.templateCartera(t.parameters.data)),t.referenceCartera()},ordenp:function(){t.$modalOp.find(".content-modal").empty().html(t.templateOrdenp(t.parameters.data)),t.referenceOrdenp()},inventario:function(){t.$modalIn.find(".content-modal").empty().html(t.templateInventario(t.parameters.data)),t.referenceInventario()},store:function(){t.onStoreItem()}};o[e.action]&&o[e.action]()},evaluateNextAction:function(){var e;for(e=this.parameters.actions.length-1;e>=0;--e)if(action=this.parameters.actions[e],0==action.success)return action;return{action:"store"}},setSuccessAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)item=this.parameters.actions[t],item.action==e&&(item.success=!0)},isLastAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)if(item=this.parameters.actions[t],0==item.success&&item.action!=e)return!1;return!0},validateAction:function(o){o||(o={});var i={callback:null,action:null},r={},n={};_this=this,n=e.extend({},i,o),r.action=n.action,r=e.extend({},this.parameters.data,r),e.ajax({url:t.Misc.urlFull(Route.route("asientos.detalle.validate")),type:"POST",data:r,beforeSend:function(){t.Misc.setSpinner(_this.$wraper)}}).done(function(e){if(t.Misc.removeSpinner(_this.$wraper),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);"Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e)}}).fail(function(e,o,i){t.Misc.removeSpinner(n.wrap),alertify.error(i)})},referenceFacturap:function(){this.$wraper=this.$("#modal-asiento-wrapper-facturap"),this.$wraperFormFp=this.$("#content-invoice"),this.$wraperErrorFp=this.$("#error-eval-facturap"),this.$wraperErrorFp.hide().empty(),this.$modalFp.modal("show")},referenceCartera:function(){this.$wraper=this.$("#modal-asiento-wrapper-cartera"),this.$wraperFormCt=this.$("#content-cartera"),this.$wraperErrorCt=this.$("#error-eval-cartera"),this.$wraperErrorCt.hide().empty(),this.$modalCt.modal("show")},referenceOrdenp:function(){this.$wraper=this.$("#modal-asiento-wrapper-ordenp"),this.$wraperFormOp=this.$modalOp.find(".content-modal"),this.$wraperErrorOp=this.$("#error-search-orden-asiento2"),this.$wraperErrorOp.hide().empty(),this.$modalOp.modal("show")},referenceInventario:function(){this.$wraper=this.$("#modal-asiento-wrapper-inventario"),this.$wraperFormIn=this.$modalIn.find(".content-modal"),this.$wraperDetailIn=this.$modalIn.find("#content-detail-inventory"),this.$wraperErrorIn=this.$("#error-inventario-asiento2"),this.$inputInProducto=this.$("#producto_codigo"),this.$inputInUnidades=this.$("#movimiento_cantidad"),this.$inputInSucursal=this.$("#movimiento_sucursal"),this.$wraperErrorIn.hide().empty(),this.$modalIn.modal("show")},onStoreItemOrdenp:function(o){o.isDefaultPrevented()||(o.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(o.target)),this.validateAction({action:"ordenp",callback:function(e){return function(t){t.success&&(e.setSuccessAction("ordenp",e.parameters.actions),e.isLastAction("ordenp")||e.$modalOp.modal("hide"),e.runAction())}}(this)}))},facturapChanged:function(o){this.$wraperErrorFp.hide().empty(),this.$wraperFormFp.empty(),t.Misc.evaluateFacturap({facturap:e(o.currentTarget).val(),naturaleza:this.parameters.data.asiento2_naturaleza,tercero:this.parameters.data.tercero_nit,wrap:this.$wraperFormFp,callback:function(e){return function(t){if(t.actions){var o={add:function(){e.$wraperFormFp.html(e.templateAddFacturap()),e.ready()},quota:function(){e.$wraperFormFp.html(e.templateCuotasFacturap()),e.$wraperCuotasFp=e.$("#browse-rfacturap2-list"),e.cuotasFPList.fetch({reset:!0,data:{facturap1:t.facturap}})}};o[t.action]&&o[t.action]()}else _.isUndefined(t.message)||_.isNull(t.message)||""==t.message||(e.$wraperErrorFp.empty().append(t.message),e.$wraperErrorFp.show())}}(this)})},addOneCuotaFacturap:function(e){var t=new app.CuotasFPListView({model:e});this.$wraperCuotasFp.append(t.render().el),this.ready()},addAllCuotasFacturap:function(){this.cuotasFPList.forEach(this.addOneCuotaFacturap,this)},onStoreItemFacturap:function(o){o.isDefaultPrevented()||(o.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(o.target)),this.validateAction({action:"facturap",callback:function(e){return function(t){t.success&&(e.setSuccessAction("facturap",e.parameters.actions),e.isLastAction("facturap")||e.$modalFp.modal("hide"),e.runAction())}}(this)}))},addOneItemRolloInventario:function(e,t){t||(t=!1);var o=new app.ItemRolloINListView({model:e,parameters:{choose:t}});this.$wraperItemRollo.append(o.render().el),this.ready()},addAllItemRolloInventario:function(){var e=this;this.itemRolloINList.forEach(function(t,o){e.addOneItemRolloInventario(t,!0)})},addOneSerieInventario:function(e){var t=new app.ProductoSeriesINListView({model:e});this.$wraperSeries.append(t.render().el),this.ready()},evaluateProductoInventario:function(o){var i=this,r=this.$inputInProducto.val(),n=this.$inputInSucursal.val(),a=this.$inputInUnidades.val();this.$wraperDetailIn.empty(),r&&n&&a&&e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_codigo:r},beforeSend:function(){i.$wraperErrorIn.hide().empty(),t.Misc.setSpinner(i.$wraperFormIn)}}).done(function(e){if(t.Misc.removeSpinner(i.$wraperFormIn),e.success){if(!parseInt(e.producto_unidades))return i.$wraperErrorIn.empty().append("No es posible realizar movimientos para productos que no manejan unidades"),void i.$wraperErrorIn.show();if(parseInt(e.producto_metrado))if("D"==i.parameters.data.asiento2_naturaleza){i.$wraperDetailIn.html(i.templateAddItemRollo()),i.$wraperItemRollo=i.$("#browse-itemtollo-list");for(var o=1;o<=a;o++)i.addOneItemRolloInventario(new app.ItemRolloModel({id:o}))}else i.$wraperDetailIn.html(i.templateChooseItemsRollo()),i.$wraperItemRollo=i.$("#browse-chooseitemtollo-list"),i.itemRolloINList.fetch({reset:!0,data:{producto:e.id,sucursal:n}});else if(parseInt(e.producto_serie)&&"D"==i.parameters.data.asiento2_naturaleza){i.$wraperDetailIn.html(i.templateAddSeries()),i.$wraperSeries=i.$("#browse-series-list");for(var o=1;o<=a;o++)i.addOneSerieInventario(new app.ProductoModel({id:o}))}}}).fail(function(e,t,o){i.$wraperErrorIn.empty().append(o),i.$wraperErrorIn.show()})},onStoreItemInventario:function(o){o.isDefaultPrevented()||(o.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(o.target)),this.validateAction({action:"inventario",callback:function(e){return function(t){t.success&&(e.setSuccessAction("inventario",e.parameters.actions),e.isLastAction("inventario")||e.$modalIn.modal("hide"),_.isUndefined(t.asiento2_valor)||_.isNull(t.asiento2_valor)||t.asiento2_valor==e.parameters.data.asiento2_valor||(e.parameters.data.asiento2_valor=t.asiento2_valor),e.runAction())}}(this)}))},onStoreItemFactura:function(o){o.isDefaultPrevented()||(o.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(o.target)),this.validateAction({action:"cartera",callback:function(e){return function(t){t.success&&(e.setSuccessAction("cartera",e.parameters.actions),e.isLastAction("cartera")||e.$modalCt.modal("hide"),e.runAction())}}(this)}))},facturaChange:function(e){var t=this.$(e.currentTarget).val();this.$("#wrapper-table-factura").removeAttr("hidden"),this.detalleFactura4List.reset(),this.detalleFactura4List.fetch({reset:!0,data:{factura1_id:t}}),this.$wraper=this.$("#browse-factura-list")},addOneFactura:function(e){var t=new app.FacturaPendienteOrdenItemView({model:e});this.$wraper.append(t.render().el),this.ready()},addAllFactura:function(){this.$wraper.find("tbody").html(""),this.detalleFactura4List.forEach(this.addOneFactura,this)},onStoreItem:function(e){this.model.id!=i?this.collection.trigger("store",this.parameters.data):this.model.save(this.parameters.data,{patch:!0,silent:!0})},responseServer:function(o,i,r){_.isUndefined(i.success)||i.success&&(this.$modalOp.modal("hide"),this.$modalIn.modal("hide"),this.$modalFp.modal("hide"),this.$modalCt.modal("hide"),t.Misc.clearForm(e("#form-item-asiento")))}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsientoCuentasListView=Backbone.View.extend({el:"#browse-detalle-asiento-list",events:{"click .item-asiento2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$debitos=this.$("#total-debitos"),this.$creditos=this.$("#total-creditos"),this.$diferencia=this.$("#total-diferencia"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.asiento)||_.isNull(this.parameters.dataFilter.asiento)||(this.confCollection.data.asiento=this.parameters.dataFilter.asiento,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.AsientoCuentasItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper);var i=new app.Asiento2Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove(),n.collection.remove(e),n.totalize()}}})},totalize:function(){var e=this.collection.totalize();this.$debitos.length&&this.$debitos.html(t.Misc.currency(e.debitos)),this.$creditos.length&&this.$creditos.html(t.Misc.currency(e.creditos)),this.$diferencia.length&&this.$diferencia.html(t.Misc.currency(e.diferencia))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsientoCuentasItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-asiento2-item-tpl").html()||""),templateInfo:_.template(e("#show-info-asiento2-tpl").html()||""),templateInfoFacturaItem:_.template(e("#add-info-factura-item").html()||""),templateInfoFacturapItem:_.template(e("#add-info-facturap-item").html()||""),templateInfoInventarioItem:_.template(e("#add-info-inventario-item").html()||""),events:{"click .item-asiento2-show-info":"showInfo"},parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-asiento-show-info-component"),this.asientoMovimientosList=new app.AsientoMovimientosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.asientoMovimientosList,"request",this.loadSpinner),this.listenTo(this.asientoMovimientosList,"sync",this.responseServer),this.listenTo(this.asientoMovimientosList,"reset",this.addAll)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$tercero={tercero_nit:e.tercero_nit,tercero_nombre:e.tercero_nombre},this.$naturaleza=e.asiento2_naturaleza,this.$el.html(this.template(e)),this},showInfo:function(){var e=this.model.toJSON();this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(e)),this.$wrapGeneral=this.$modalInfo.find("#render-info-modal"),this.count=0,this.asientoMovimientosList.fetch({reset:!0,data:{asiento2:this.model.get("id")}}),this.$modalInfo.modal("show")},addOne:function(e){var t=e.toJSON();if(t.tercero=this.$tercero,t.naturaleza=this.$naturaleza,"F"==t.movimiento_tipo)this.$wrapGeneral.empty().html(this.templateInfoFacturaItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-factura-list");else if("FP"==t.movimiento_tipo){if(t.movimiento_nuevo)return void this.$wrapGeneral.empty().html(this.templateInfoFacturapItem(t));0==this.count&&(this.$wrapGeneral.empty().html(this.templateInfoFacturapItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-facturap-list"),this.count=this.count+1)}else"IP"==t.movimiento_tipo&&(this.$wrapGeneral.empty().html(this.templateInfoInventarioItem(t)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-asiento-list"));var o=new app.AsientoMovimientosItemView({model:e});this.$wrapperList.append(o.render().el)},addAll:function(){this.asientoMovimientosList.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wrapperList)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.$wrapperList)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AsientoMovimientosItemView=Backbone.View.extend({tagName:"tr",templateDetalleInventario:_.template(e("#show-info-detalle-inventario").html()||""),templateDetalleFactura:_.template(e("#show-info-detalle-factura").html()||""),templateDetalleFacturap:_.template(e("#show-info-detalle-facturap").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var t=this.model.toJSON();return"FH"==t.movimiento_tipo?this.$el.html(this.templateDetalleFactura(t)):"IH"==t.movimiento_tipo?("IH"!=t.movimiento_tipo||_.isNull(t.movimiento_serie)?(e(".first-row").text("Item"),e(".second-row").text("Metros (m)")):(e(".first-row").text("Item"),e(".second-row").text("Series")),this.$el.html(this.templateDetalleInventario(t))):"FP"==t.movimiento_tipo&&this.$el.html(this.templateDetalleFacturap(t)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),templateFp:_.template(e("#add-rfacturap-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","change input#asiento2_base":"baseChanged","submit #form-asientos":"onStore"},initialize:function(){this.$modalFactura=e("#modal-facturap-component"),this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(o){var i=this,r=e(o.currentTarget).val();i.$numero.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:r})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(i.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?i.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&i.$numero.prop("readonly",!0)))}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.tercero_nit=o.tercero_nit?o.tercero_nit:o.asiento1_beneficiario,o.tercero_nombre=o.tercero_nombre?o.tercero_nombre:o.asiento1_beneficiario_nombre,t.Misc.evaluateActionsAccount({data:o,wrap:this.spinner,callback:function(e){return function(t){Array.isArray(t)&&t.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:o,actions:t}}),e.asientoActionView.render()):e.model.save(o,{patch:!0,silent:!0})}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),o=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*o/100):this.$inputValor.val("")},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createFacturapView instanceof Backbone.View&&(this.createFacturapView.stopListening(),this.createFacturapView.undelegateEvents()),this.asientoActionView instanceof Backbone.View&&(this.asientoActionView.stopListening(),this.asientoActionView.undelegateEvents()),Backbone.history.navigate(Route.route("asientos.edit",{asientos:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.EditAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),templateFp:_.template(e("#add-rfacturap-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","submit #form-item-asiento":"onStoreItem","change input#asiento2_base":"baseChanged","click .submit-asiento":"submitAsiento","submit #form-asientos":"onStore"},initialize:function(){this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.$inputDocumento=this.$("#asiento1_documento"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready(),"A"==this.model.get("documento_tipo_consecutivo")&&this.$inputDocumento.change()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.spinner,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(o){var i=this,r=e(o.currentTarget).val();i.$numero.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:r})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(i.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?i.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&i.$numero.prop("readonly",!0)))}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},submitAsiento:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.asiento1_id=this.model.get("id"),o.tercero_nit=o.tercero_nit?o.tercero_nit:this.model.get("tercero_nit"),o.tercero_nombre=o.tercero_nombre?o.tercero_nombre:this.model.get("tercero_nombre"),t.Misc.evaluateActionsAccount({data:o,wrap:this.spinner,callback:function(e){return function(i){Array.isArray(i)&&i.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:o,actions:i}}),e.asientoActionView.render()):(e.asientoCuentasList.trigger("store",o),t.Misc.clearForm(e.$formItem))}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),o=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*o/100):this.$inputValor.val("")},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.edit",{asientos:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.FacturaCommentsListView=Backbone.View.extend({el:null,parameters:{edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.$modalCtComments=e("#modal-comments-component"),this.$el=this.parameters.el,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.orden_id)||_.isNull(this.parameters.dataFilter.orden_id)||(this.confCollection.data.orden_id=this.parameters.dataFilter.orden_id,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.FacturaCommentItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper);var i=new app.Factura3Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper),this.$modalCtComments.modal("hide")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.FacturaCommentItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-comments-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.FacturaPendienteOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#factura-item-list-tpl").html()||""),
parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CuotasFPListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-rfacturap2-item-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ItemRolloINListView=Backbone.View.extend({tagName:"tr",template:null,initialize:function(t){t.parameters.choose?this.template=_.template(e("#choose-itemrollo-tpl").html()||""):this.template=_.template(e("#add-itemrollo-tpl").html()||""),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainAsientosView=Backbone.View.extend({el:"#asientos-main",initialize:function(){this.$asientosSearchTable=this.$("#asientos-search-table"),this.$asientosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("asientos.index")),columns:[{data:"asiento1_numero",name:"asiento1_numero"},{data:"asiento1_ano",name:"asiento1_ano"},{data:"asiento1_mes",name:"asiento1_mes"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"},{data:"asiento1_preguardado",name:"asiento1_preguardado"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva asiento',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return parseInt(i.asiento1_preguardado)?'<a href="'+t.Misc.urlFull(Route.route("asientos.edit",{asientos:i.id}))+'">'+e+' <span class="label label-warning">PRE</span></a>':'<a href="'+t.Misc.urlFull(Route.route("asientos.show",{asientos:i.id}))+'">'+e+"</a>"}},{targets:[1,2],width:"10%"},{targets:3,width:"15%"},{targets:4,searchable:!1},{targets:[5,6,7,8,9],visible:!1},{targets:10,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductoSeriesINListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-serie-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowAsientoView=Backbone.View.extend({el:"#asientos-show",initialize:function(){this.model.id!=i&&(this.asientoCuentasList=new app.AsientoCuentasList,this.referenceViews())},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,dataFilter:{asiento:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateCentroCostoView=Backbone.View.extend({el:"#centrocosto-create",template:_.template(e("#add-centrocosto-tpl").html()||""),events:{"submit #form-centrocosto":"onStore"},parameters:{callback:""},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Centro de costo guardado con exito!",this.$wraperForm=this.$("#render-form-centrocosto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);var n=this,a={toShow:function(){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:o.id})))},"default":function(){alertify.success(n.msgSuccess)}};a[this.parameters.callback]?a[this.parameters.callback]():a["default"]()}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainCentrosCostoView=Backbone.View.extend({el:"#centroscosto-main",initialize:function(){this.$centroscostoSearchTable=this.$("#centroscosto-search-table"),this.$centroscostoSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("centroscosto.index")),columns:[{data:"centrocosto_codigo",name:"centrocosto_codigo"},{data:"centrocosto_centro",name:"centrocosto_centro"},{data:"centrocosto_nombre",name:"centrocosto_nombre"},{data:"centrocosto_estructura",name:"centrocosto_estructura"},{data:"centrocosto_activo",name:"centrocosto_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo centro de costo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:i.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,o,i){return"S"==e?"Si":"No"}},{targets:[4],width:"10%",render:function(e,t,o,i){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentAddressView=Backbone.View.extend({el:"body",template:_.template(e("#koi-address-component-tpl").html()||""),templateSelect:_.template(e("#koi-component-select-tpl").html()||""),events:{"focus input.address-koi-component":"addressChanged","click .btn-address-koi-component":"focusComponent","submit #form-address-component":"addAddress","change #component-select":"ChangeSelect","click .koi-component-remove-last":"removeLastItem","click .koi-component-remove":"removeItem","click .koi-component-add":"listeningAddress"},initialize:function(){this.$modalComponent=this.$("#modal-address-component"),this.$modalComponentValidacion=this.$("#modal-address-component-validacion")},focusComponent:function(t){e("#"+e(t.currentTarget).attr("data-field")).focus()},addressChanged:function(o){this.inputContent=e(o.currentTarget),this.inputContentNm=this.$("#"+this.inputContent.attr("data-nm-name")),this.inputContentNmValue=this.$("#"+this.inputContent.attr("data-nm-value")),this.$modalComponent.find(".content-modal").html(this.template({})),this.$addressField=this.$modalComponent.find("#koi_direccion"),this.$addressNomenclaturaField=this.$modalComponent.find("#koi_direccion_nm"),this.$formComponent=this.$modalComponent.find("#form-address-component"),this.addressData=new Array,this.addressDataNm=new Array,this.num=new Array,this.validaciones=["Agencia","Agrupación","Almacen","Autopista","Avenida","Avenida Carrera","Barrio","Boulevar","Calle","Camino","Carrera","Carretera","Casa","Celula","Centro Comercial","Ciudadela","Conjunto","Conjunto Residencial","Corregimiento","Departamento","Deposito","Edificio","Entrada","Etapa","Finca","Hacienda","Lote","Modulo","Municipio","Parcela","Parque","Parqueadero","Pasaje","Paseo","Predio","Puente","Puesto","Salón","Salón Comunal","Sector","Suite","Terminal","Terraza","Torre","Unidad","Unidad Residencial","Urbanización","Variante","Vereda","Zona","Zona Franca"],"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initAlertify&&t.initComponent.initAlertify(),this.$formComponent.validator(),this.$modalComponent.modal("show")},addAddress:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.inputContent.val(this.$addressField.val()),this.inputContentNm.text(this.$addressNomenclaturaField.val()),this.inputContentNmValue.val(this.$addressNomenclaturaField.val()),this.$modalComponent.modal("hide"))},listeningAddress:function(t){if(parseInt(e(t.target).text().trim())>0||parseInt(e(t.target).text().trim())<9)this.num=e(t.target).text().trim(),parseInt(this.addressData[this.addressData.length-1])>0||parseInt(this.addressData[this.addressData.length-1])<9?(this.addressData[this.addressData.length-1]+=this.num,this.addressDataNm[this.addressDataNm.length-1]+=this.num):(this.addressData.push(this.num),this.addressDataNm.push(this.num));else if(this.num=[],this.addressData[this.addressData.length-1]!=e(t.target).text().trim()){for(var o=0;o<this.validaciones.length;o++)e(t.target).text().trim()==this.validaciones[o]&&(this.$modalComponentValidacion.find(".modal-content").html(this.templateSelect({})),this.$modalComponentValidacion.find(".modal-title").text(e(t.target).text().trim()),this.$modalComponentValidacion.modal("show"));"#"==e(t.target).text().trim()||"-"==e(t.target).text().trim()?(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(" ")):(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(e(t.target).attr("data-key")))}else alertify.error("No puede seleccionar dos nomenclaturas iguales ni más de dos letras seguidas");this.buildAddress()},ChangeSelect:function(t){var o=this;this.$component=this.$("#component-input").hide();var i="";if("si"==e(t.target).val())o.$component.show(),e("input#component-input-text").change(function(){for(var t=e(this).val(e(this).val().toUpperCase()),r=/[^A-Za-z0-9&ÑñáéíóúÁÉÍÓÚ\/\s\/]/i,n=0;n<=t.val().length-1;n++)r.test(t.val().charAt(n))||(t.val().replace(r,""),i+=t.val().charAt(n));o.addressData.push(i),o.addressDataNm.push(i),o.buildAddress(),o.$modalComponentValidacion.modal("hide")});else{if("no"!=e(t.target).val())return!1;o.$modalComponentValidacion.modal("hide")}},removeLastItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.pop(),this.addressDataNm.pop(),this.buildAddress())},removeItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.length=0,this.addressDataNm.length=0,this.num.length=0,this.buildAddress())},buildAddress:function(){var t=e.grep(this.addressData,Boolean).join(" ").trim();this.$addressField.val(t);var o=e.grep(this.addressDataNm,Boolean).join(" ").trim();this.$addressNomenclaturaField.val(o)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ConfirmWindow=Backbone.View.extend({el:"#modal-confirm-component",parameters:{template:null,titleConfirm:"",onConfirm:null,callBack:null,dataFilter:{}},initialize:function(e){e!=i&&_.isObject(e.parameters)&&(this.parameters=_.extend({},this.parameters,e.parameters))},render:function(){var t={};return _.extend(t,this.parameters.dataFilter),this.$el.find(".content-modal").html(this.parameters.template(t)),this.$el.find(".inner-title-modal").html(this.parameters.titleConfirm),this.$el.modal("show"),e(this.el).off("click",".confirm-action"),this.undelegateEvents(),this.delegateEvents({"click .confirm-action":"onConfirm"}),this},onConfirm:function(e){e.preventDefault();this.$el.modal("hide"),"function"==typeof this.parameters.onConfirm&&this.parameters.onConfirm.call(null,this.parameters.dataFilter)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentConsecutiveView=Backbone.View.extend({el:"body",events:{"change .change-sucursal-consecutive-koi-component":"sucursalChange"},initialize:function(){},sucursalChange:function(o){var i=this;module=e(o.currentTarget).attr("data-module"),sucursal=e(o.currentTarget).val(),this.$consecutive=e("#"+e(o.currentTarget).attr("data-field")),this.$wrapperContent=e("#"+e(o.currentTarget).attr("data-wrapper")),e.ajax({url:t.Misc.urlFull(Route.route("sucursales.show",{sucursales:sucursal})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.$wrapperContent)}}).done(function(e){t.Misc.removeSpinner(i.$wrapperContent);var o=0;"traslados"==module&&(o=e.sucursal_traslado),i.$consecutive.val(o+1)}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wrapperContent),alertify.error(r)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentCreateResourceView=Backbone.View.extend({el:"body",events:{"click .btn-add-resource-koi-component":"addResource","submit #form-create-resource-component":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperError=this.$("#error-resource-component"),this.$wraperContent=this.$("#content-create-resource-component").find(".modal-body")},addResource:function(t){if(this.resource=e(t.currentTarget).attr("data-resource"),this.$resourceField=e("#"+e(t.currentTarget).attr("data-field")),this.parameters={},"contacto"==this.resource){var o=null,i=null,r=null;if(this.$inputPhone=this.$("#"+e(t.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(t.currentTarget).attr("data-address")),this.$inputCity=this.$("#"+e(t.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(t.currentTarget).attr("data-email")),this.parameters.tcontacto_tercero=e(t.currentTarget).attr("data-tercero"),_.isUndefined(this.parameters.tcontacto_tercero)||_.isNull(this.parameters.tcontacto_tercero)||""==this.parameters.tcontacto_tercero)return void alertify.error("Por favor ingrese cliente antes agregar contacto.");o=e(t.currentTarget).attr("data-address-default"),i=e(t.currentTarget).attr("data-address-nomenclatura-default"),r=e(t.currentTarget).attr("data-municipio-default")}var n=this,a={centrocosto:function(){n.$modalComponent.find(".inner-title-modal").html("Centros de costo"),n.model=new app.CentroCostoModel;var t=_.template(e("#add-centrocosto-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},folder:function(){n.$modalComponent.find(".inner-title-modal").html("Folder"),n.model=new app.FolderModel;var t=_.template(e("#add-folder-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},tercero:function(){n.$modalComponent.find(".inner-title-modal").html("Tercero"),n.model=new app.TerceroModel;var t=_.template(e("#add-tercero-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON())),n.$formAccounting=n.$modalComponent.find("#form-accounting")},grupo:function(){n.$modalComponent.find(".inner-title-modal").html("Grupo inventario"),n.model=new app.GrupoModel;var t=_.template(e("#add-grupo-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},subgrupo:function(){n.$modalComponent.find(".inner-title-modal").html("Subrupo inventario"),n.model=new app.SubGrupoModel;var t=_.template(e("#add-subgrupo-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},unidadmedida:function(){n.$modalComponent.find(".inner-title-modal").html("Unidad de medida"),n.model=new app.UnidadModel;var t=_.template(e("#add-unidad-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},producto:function(){n.$modalComponent.find(".inner-title-modal").html("Producto"),n.model=new app.ProductoModel;var t=_.template(e("#add-producto-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},contacto:function(){n.$resourceName=e("#"+e(t.currentTarget).attr("data-name")),n.$modalComponent.find(".inner-title-modal").html("Contacto"),n.model=new app.ContactoModel({tcontacto_direccion:o,tcontacto_direccion_nomenclatura:i,tcontacto_municipio:r});var a=_.template(e("#add-contacto-tpl").html());n.$modalComponent.find(".content-modal").html(a(n.model.toJSON()))},areap:function(){n.$modalComponent.find(".inner-title-modal").html("Área de producción"),n.model=new app.AreapModel;var t=_.template(e("#add-areap-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},maquinap:function(){n.$modalComponent.find(".inner-title-modal").html("Máquina de producción"),n.model=new app.MaquinapModel;var t=_.template(e("#add-maquinap-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},materialp:function(){n.$modalComponent.find(".inner-title-modal").html("Material de producción"),n.model=new app.MaterialpModel;var t=_.template(e("#add-materialp-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))},acabadop:function(){n.$modalComponent.find(".inner-title-modal").html("Acabado de producción"),n.model=new app.AcabadopModel;var t=_.template(e("#add-acabadop-tpl").html());n.$modalComponent.find(".content-modal").html(t(n.model.toJSON()))}};a[this.resource]&&(a[this.resource](),this.$wraperError.hide().empty(),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready(),this.$modalComponent.modal("show"))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(o){if(!o.isDefaultPrevented()){this.$wraperError.hide().empty(),o.preventDefault();var i=e.extend({},this.parameters,t.Misc.formToJson(o.target));"tercero"==this.resource&&(i=e.extend({},i,t.Misc.formToJson(this.$formAccounting))),this.model.save(i,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.$wraperContent);var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return this.$wraperError.empty().append(r),void this.$wraperError.show();var n=this,a={centrocosto:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("centrocosto_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},folder:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("folder_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},tercero:function(){n.$resourceField.val(n.model.get("tercero_nit")).trigger("change")},grupo:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("grupo_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},subgrupo:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("subgrupo_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},unidadmedida:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("unidadmedida_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},producto:function(){n.$resourceField.val(n.model.get("producto_codigo")).trigger("change")},contacto:function(){n.$resourceField.val(n.model.get("id")),n.$resourceName.val(n.model.get("tcontacto_nombre")),n.$inputPhone.length&&n.$inputPhone.val(n.model.get("tcontacto_telefono")),n.$inputAddress.length&&n.$inputAddress.val(n.model.get("tcontacto_direccion")),n.$inputEmail.length&&n.$inputEmail.val(n.model.get("tcontacto_email")),n.$inputCity.length&&n.$inputCity.val(n.model.get("tcontacto_municipio")).trigger("change")},areap:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("areap_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},maquinap:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("maquinap_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},materialp:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("materialp_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")},acabadop:function(){n.$resourceField.select2({data:[{id:n.model.get("id"),text:n.model.get("acabadop_nombre")}]}).trigger("change"),n.$resourceField.val(n.model.get("id")).trigger("change")}};a[this.resource]&&(a[this.resource](),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),this.$modalComponent.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentDocumentView=Backbone.View.extend({el:"body",events:{"change .select-filter-document-koi-component":"folderChanged"},initialize:function(){},folderChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper")),this.$inputDocument=this.$("#"+e(o.currentTarget).attr("data-documents"));var r=this.$inputContent.val();this.$inputDocument.find("option:gt(0)").remove(),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("documentos.filter")),type:"GET",data:{folder:r},beforeSend:function(){t.Misc.setSpinner(i.$wraperConten)}}).done(function(o){t.Misc.removeSpinner(i.$wraperConten),o.success&&_.isObject(o.documents)&&(e.each(o.documents,function(t,o){i.$inputDocument.append(e("<option></option>").attr("value",o.id).text(o.documento_nombre))}),i.$inputDocument.change())}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentGlobalView=Backbone.View.extend({el:"body",events:{"click .sidebar-toggle":"clickSidebar","click .history-back":"clickHistoryBack","hidden.bs.modal":"multiModal"},initialize:function(){},clickSidebar:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),o.cookie="sidebar_toggle="+(this.$el.hasClass("sidebar-collapse")?"":"sidebar-collapse")+"; path=/; expires="+t.toUTCString()},clickHistoryBack:function(e){e.preventDefault(),t.history.back()},multiModal:function(){e(".modal.in").length>0&&e("body").addClass("modal-open")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentReportView=Backbone.View.extend({el:"body",events:{"click .btn-export-pdf-koi-component":"onPdf","click .btn-export-xls-koi-component":"onXls"},initialize:function(){},onPdf:function(e){this.$("#type-report-koi-component").val("pdf")},onXls:function(e){this.$("#type-report-koi-component").val("xls")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchContactoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-contacto-component-tpl").html()||""),events:{"click .btn-koi-search-contacto-component-table":"searchOrden","click .btn-search-koi-search-contacto-component":"search","click .btn-clear-koi-search-contacto-component":"clear","click .a-koi-search-contacto-component-table":"setContacto"},initialize:function(){this.$modalComponent=this.$("#modal-search-contacto-component")},searchOrden:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchContactoNombres=this.$("#koi_search_contacto_nombres"),this.$searchContactoApellidos=this.$("#koi_search_contacto_apellidos"),this.$resourceTercero=this.$("#"+e(o.currentTarget).attr("data-tercero"));var r=this.$resourceTercero.attr("data-tercero");return _.isUndefined(r)||_.isNull(r)||""==r?void alertify.error("Por favor ingrese cliente antes agregar contacto."):(this.$contactoSearchTable=this.$modalComponent.find("#koi-search-contacto-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$inputPhone=this.$("#"+e(o.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(o.currentTarget).attr("data-address")),this.$inputNomenclatura=this.$("#"+e(o.currentTarget).attr("data-nomenclatura")),this.$labelNomenclatura=this.$("#"+e(o.currentTarget).attr("data-name-nomenclatura")),this.$inputCity=this.$("#"+e(o.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(o.currentTarget).attr("data-email")),this.contactoSearchTable=this.$contactoSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.contactos.index")),data:function(e){e.tcontacto_nombres=i.$searchContactoNombres.val(),e.tcontacto_apellidos=i.$searchContactoApellidos.val(),e.tcontacto_tercero=r}},columns:[{data:"id",name:"id"},{data:"tcontacto_nombres",name:"tcontacto_nombres"},{data:"tcontacto_apellidos",name:"tcontacto_apellidos"},{data:"tcontacto_nombre",name:"tcontacto_nombre"},{data:"tcontacto_telefono",name:"tcontacto_telefono"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"tcontacto_direccion",name:"tcontacto_direccion"},{data:"tcontacto_municipio",name:"tcontacto_municipio"},{data:"tcontacto_email",name:"tcontacto_email"}],columnDefs:[{targets:3,width:"40%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-contacto-component-table">'+e+"</a>"}},{targets:[0,1,2,7,8],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setContacto:function(t){t.preventDefault();var o=this.contactoSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.id),this.$inputName.val(o.tcontacto_nombre),this.$inputPhone.length&&this.$inputPhone.val(o.tcontacto_telefono),this.$inputAddress.length&&this.$inputAddress.val(o.tcontacto_direccion),this.$inputNomenclatura.length&&this.$inputNomenclatura.val(o.tcontacto_direccion_nomenclatura),this.$labelNomenclatura.length&&this.$labelNomenclatura.text(o.tcontacto_direccion_nomenclatura),this.$inputCity.length&&this.$inputCity.val(o.tcontacto_municipio).trigger("change"),this.$inputEmail.length&&this.$inputEmail.val(o.tcontacto_email),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.contactoSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchContactoNombres.val(""),this.$searchContactoApellidos.val(""),this.contactoSearchTable.ajax.reload()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchCuentaView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-plancuenta-component-tpl").html()||""),events:{"change input.plancuenta-koi-component":"cuentaChanged","click .btn-koi-search-plancuenta-component":"searchCuenta","click .btn-search-koi-search-plancuenta-component":"search","click .btn-clear-koi-search-plancuenta-component":"clear","click .a-koi-search-plancuenta-component-table":"setCuenta"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchCuenta:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCuenta=this.$("#koi_search_plancuentas_cuenta"),this.$searchName=this.$("#koi_search_plancuentas_nombre"),this.$plancuentasSearchTable=this.$modalComponent.find("#koi-search-plancuenta-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$inputCentro=this.$("#"+this.$inputContent.attr("data-centro")),this.$inputBase=this.$("#"+this.$inputContent.attr("data-base")),this.$inputValor=this.$("#"+this.$inputContent.attr("data-valor")),this.$inputTasa=this.$("#"+this.$inputContent.attr("data-tasa")),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(e){e.plancuentas_cuenta=i.$searchCuenta.val(),e.plancuentas_nombre=i.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-plancuenta-component-table">'+e+"</a>"}},{targets:1,width:"10%",searchable:!1},{targets:3,width:"10%",searchable:!1,render:function(e,t,o,i){return"D"==e?"Débito":"Crédito"}},{targets:4,width:"10%",searchable:!1,render:function(e,t,o,i){return e?"Si":"No"}}]}),this.ready(),this.$modalComponent.modal("show")},setCuenta:function(t){t.preventDefault();var o=this.plancuentasSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.plancuentas_cuenta),this.$inputName.val(o.plancuentas_nombre),this.$inputName.val(o.plancuentas_nombre),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$modalComponent.modal("hide"),this.actions(o)},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()},cuentaChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$inputBase=this.$("#"+e(o.currentTarget).attr("data-base")),this.$inputTasa=this.$("#"+e(o.currentTarget).attr("data-tasa")),this.$inputValor=this.$("#"+e(o.currentTarget).attr("data-valor")),this.$inputCentro=this.$("#"+e(o.currentTarget).attr("data-centro")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper"));var r=this.$inputContent.val();this.$inputName.val(""),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$inputTasa.length&&this.$inputTasa.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.search")),type:"GET",data:{plancuentas_cuenta:r},beforeSend:function(){t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.plancuentas_nombre)||_.isNull(e.plancuentas_nombre)||i.$inputName.val(e.plancuentas_nombre),i.actions(e))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},actions:function(e){if(this.$inputBase.length)if(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0){this.$inputBase.prop("readonly",!1);var t=this.$inputBase.inputmask("unmaskedvalue");this.$inputValor.val(e.plancuentas_tasa*t/100)}else this.$inputBase.val("");this.$inputCentro.length&&!_.isUndefined(e.plancuentas_centro)&&!_.isNull(e.plancuentas_centro)&&e.plancuentas_centro>0&&this.$inputCentro.val(e.plancuentas_centro).trigger("change"),this.$inputTasa.length&&(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0?this.$inputTasa.val(e.plancuentas_tasa):this.$inputTasa.val(""))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchFacturaView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-factura-component-tpl").html()||""),
events:{"change input.factura-koi-component":"facturaChanged","click .btn-koi-search-factura-component-table":"searchFactura","click .btn-search-koi-search-factura-component":"search","click .btn-clear-koi-search-factura-component":"clear","click .a-koi-search-factura-component-table":"setFactura"},initialize:function(){this.$modalComponent=this.$("#modal-search-factura-component")},searchFactura:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchfacturaNumero=this.$("#searchfactura_numero"),this.$searchfacturaTercero=this.$("#searchfactura_tercero"),this.$searchfacturaTerceroNombre=this.$("#searchfactura_tercero_nombre"),this.$facturaSearchTable=this.$modalComponent.find("#koi-search-factura-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$factura=this.$inputContent.attr("data-factura"),this.facturaSearchTable=this.$facturaSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturas.index")),data:function(e){e.id=i.$searchfacturaNumero.val(),e.tercero_nit=i.$searchfacturaTercero.val()}},columns:[{data:"id",name:"id"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-factura-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setFactura:function(t){t.preventDefault();var o=this.facturaSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.id),this.$inputName.val(o.tercero_nombre),"true"==this.$factura&&this.$inputContent.trigger("change"),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.facturaSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturaNumero.val(""),this.$searchfacturaTercero.val(""),this.$searchfacturaTerceroNombre.val(""),this.facturaSearchTable.ajax.reload()},facturaChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper"));var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("facturas.search")),type:"GET",data:{factura_numero:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||i.$inputName.val(e.tercero_nombre))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchOrdenPView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-ordenp-component-tpl").html()||""),events:{"change input.ordenp-koi-component":"ordenpChanged","click .btn-koi-search-orden-component-table":"searchOrden","click .btn-search-koi-search-ordenp-component":"search","click .btn-clear-koi-search-ordenp-component":"clear","click .a-koi-search-ordenp-component-table":"setOrden"},initialize:function(){this.$modalComponent=this.$("#modal-search-ordenp-component")},searchOrden:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchordenpOrden=this.$("#searchordenp_ordenp_numero"),this.$searchordenpTercero=this.$("#searchordenp_tercero"),this.$searchordenpTerceroNombre=this.$("#searchordenp_tercero_nombre"),this.$ordersSearchTable=this.$modalComponent.find("#koi-search-ordenp-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$factura=this.$inputContent.attr("data-factura"),this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.index")),data:function(e){e.factura=i.$factura,e.orden_numero=i.$searchordenpOrden.val(),e.orden_tercero_nit=i.$searchordenpTercero.val()}},columns:[{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"orden_fecha",name:"orden_fecha"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-ordenp-component-table">'+e+"</a>"}},{targets:[1,2],visible:!1},{targets:4,render:function(e,o,i,r){return t.moment(e).format("YYYY-MM-DD")}}]}),this.ready(),this.$modalComponent.modal("show")},setOrden:function(t){t.preventDefault();var o=this.ordersSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.orden_codigo),this.$inputName.val(o.tercero_nombre),"true"==this.$factura&&this.$inputContent.trigger("change"),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchordenpOrden.val(""),this.$searchordenpTercero.val(""),this.$searchordenpTerceroNombre.val(""),this.ordersSearchTable.ajax.reload()},ordenpChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper"));var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("ordenes.search")),type:"GET",data:{orden_codigo:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||i.$inputName.val(e.tercero_nombre))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchOrdenP2View=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-ordenp2-component-tpl").html()||""),events:{"change input.ordenp2-koi-component":"ordenpChanged","click .btn-koi-search-orden2-component-table":"searchOrden","click .btn-search-koi-search-ordenp2-component":"search","click .btn-clear-koi-search-ordenp2-component":"clear","click .a-koi-search-ordenp2-component-table":"setOrden"},initialize:function(){this.$modalComponent=this.$("#modal-search-ordenp2-component")},searchOrden:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchOrdenp=this.$("#search_ordenp"),this.$searchOrdenpNombre=this.$("#search_ordenpnombre"),this.$ordersSearchTable=this.$modalComponent.find("#koi-search-ordenp2-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name"));var r=this.$inputContent.attr("data-tercero");return _.isUndefined(r)||_.isNull(r)||""==r?void alertify.error("Por favor ingrese cliente antes agregar una orden."):(this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.productos.index")),data:function(e){e.datatables=!0,e.search_ordenp=i.$searchOrdenp.val(),e.search_ordenpnombre=i.$searchOrdenpNombre.val()}},columns:[{data:"id",name:"id"},{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"productop_nombre",name:"productop_nombre"},{data:"orden2_cantidad",name:"orden2_cantidad"},{data:"orden2_facturado",name:"orden2_facturado"}],order:[[2,"desc"],[3,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-ordenp2-component-table">'+e+"</a>"}},{targets:[2,3],visible:!1}]}),this.ready(),void this.$modalComponent.modal("show"))},setOrden:function(t){t.preventDefault();var o=this.ordersSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.id),this.$inputName.val(o.productop_nombre),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchOrdenp.val(""),this.$searchOrdenpNombre.val(""),this.ordersSearchTable.ajax.reload()},ordenpChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper"));var r=this.$inputContent.val(),n=this.$inputContent.attr("data-tercero");return _.isUndefined(n)||_.isNull(n)||""==n?void alertify.error("Por favor ingrese cliente antes agregar una orden."):(this.$inputName.val(""),void(_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("ordenes.productos.search")),type:"GET",data:{orden2_id:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.productop_nombre)||_.isNull(e.productop_nombre)||i.$inputName.val(e.productop_nombre))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchProductoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-producto-component-tpl").html()||""),events:{"change input.producto-koi-component":"productoChanged","click .btn-koi-search-producto-component":"searchProducto","click .btn-search-koi-search-producto-component":"search","click .btn-clear-koi-search-producto-component":"clear","click .a-koi-search-producto-component-table":"setProducto"},initialize:function(){this.$modalComponent=this.$("#modal-search-producto-component")},searchProducto:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCodigo=this.$("#koi_search_producto_codigo"),this.$searchNombre=this.$("#koi_search_producto_nombre"),this.$productosSearchTable=this.$modalComponent.find("#koi-search-producto-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(e){e.producto_codigo=i.$searchCodigo.val(),e.producto_nombre=i.$searchNombre.val()}},columns:[{data:"producto_codigo",name:"producto_codigo"},{data:"producto_nombre",name:"producto_nombre"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-producto-component-table">'+e+"</a>"}}]}),this.ready(),this.$modalComponent.modal("show")},setProducto:function(t){t.preventDefault();var o=this.productosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.producto_codigo),this.$inputName.val(o.producto_nombre),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCodigo.val(""),this.$searchNombre.val(""),this.productosSearchTable.ajax.reload()},productoChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper"));var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_codigo:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.producto_nombre)||_.isNull(e.producto_nombre)||i.$inputName.val(e.producto_nombre))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-tercero-component-tpl").html()||""),events:{"change input.tercero-koi-component":"terceroChanged","click .btn-koi-search-tercero-component-table":"searchTercero","click .btn-search-koi-search-tercero-component":"search","click .btn-clear-koi-search-tercero-component":"clear","click .a-koi-search-tercero-component-table":"setTercero"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchTercero:function(o){o.preventDefault();var i=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchNit=this.$("#koi_search_tercero_nit"),this.$searchName=this.$("#koi_search_tercero_nombre"),this.$tercerosSearchTable=this.$modalComponent.find("#koi-search-tercero-component-table"),this.$inputContent=this.$("#"+e(o.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$inputOrden=this.$("#"+this.$inputContent.attr("data-orden2")),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(e){e.tercero_nit=i.$searchNit.val(),e.tercero_nombre=i.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,o,i){return'<a href="#" class="a-koi-search-tercero-component-table">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1,searchable:!1}]}),this.ready(),this.$modalComponent.modal("show")},setTercero:function(t){t.preventDefault();var o=this.tercerosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(o.tercero_nit),this.$inputName.val(o.tercero_nombre),this.$inputOrden.length>0&&this.$inputOrden.attr("data-tercero",o.id),this.$btnContact.length>0&&(this.$btnContact.attr("data-tercero",o.id),this.$btnContact.attr("data-address-default",o.tercero_direccion),this.$btnContact.attr("data-address-nomenclatura-default",o.tercero_dir_nomenclatura),this.$btnContact.attr("data-municipio-default",o.tercero_municipio)),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()},terceroChanged:function(o){var i=this;this.$inputContent=e(o.currentTarget),this.$inputName=this.$("#"+e(o.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(o.currentTarget).attr("data-wrapper")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$inputOrden=this.$("#"+this.$inputContent.attr("data-orden2")),this.$btnContact.length>0&&(this.$btnContact.attr("data-tercero",""),this.$btnContact.attr("data-address-default",""),this.$btnContact.attr("ata-address-nomenclatura-default",""),this.$btnContact.attr("data-municipio-default","")),this.$inputOrden.length>0&&this.$inputOrden.attr("data-tercero","");var r=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:r},beforeSend:function(){i.$inputName.val(""),t.Misc.setSpinner(i.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(i.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||i.$inputName.val(e.tercero_nombre),i.$btnContact.length>0&&(i.$btnContact.attr("data-tercero",e.id),i.$btnContact.attr("data-address-default",e.tercero_direccion),i.$btnContact.attr("data-address-nomenclatura-default",e.tercero_dir_nomenclatura),i.$btnContact.attr("data-municipio-default",e.tercero_municipio)),i.$inputOrden.length>0&&i.$inputOrden.attr("data-tercero",e.id))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperConten),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ComponentTerceroView=Backbone.View.extend({el:"body",templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change .change-nit-koi-component":"nitChanged","change .change-actividad-koi-component":"actividadChanged"},initialize:function(){},nitChanged:function(o){var i=this;this.$dv=e("#"+e(o.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(i.$wraperContent),e.success&&i.$dv.val(e.dv)}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperContent),alertify.error(r)})},actividadChanged:function(o){var i=this;this.$retecree=e("#"+e(o.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(i.$wraperContent),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||i.$retecree.html(e.rcree))}).fail(function(e,o,r){t.Misc.removeSpinner(i.$wraperContent),alertify.error(r)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadosProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-acabados-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadosProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadosProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-acabado-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AreasProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-areas-list",events:{"click .item-producto-areas-remove":"removeOne"},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$total=this.$("#total"),this.$infoareas=e("#info-areas"),this.$renderCot2=e("#total-price"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AreasProductopCotizacionItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this,i=this.collection.validar(e);if(!i.success)return void alertify.error(i.message);t.Misc.setSpinner(this.parameters.wrapper);var r=new app.Cotizacion6Model;r.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);if(_.isUndefined(this.parameters.dataFilter.cotizacion2))i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i),this.totalize());else{var r=/[A-Za-z]/;r.test(o)?i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i),this.totalize()):this.areaDelete(i)}},areaDelete:function(o,i){var r=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion6_nombre:o.get("cotizacion6_nombre"),cotizacion6_areap:o.get("areap_nombre")},template:_.template(e("#cotizacion-delete-confirm-tpl").html()||""),titleConfirm:"Eliminar área",onConfirm:function(){o instanceof Backbone.Model&&o.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(r.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove(),r.totalize()}}})}}});n.render()},totalize:function(){var o=parseFloat(e("#cotizacion2_precio_venta").inputmask("unmaskedvalue"))+parseFloat(e("#cotizacion2_viaticos").inputmask("unmaskedvalue"))+parseFloat(e("#cotizacion2_transporte").inputmask("unmaskedvalue")),i=this.collection.totalize(),r=this.collection.totalcotizacion(o,i.total);this.$total.empty().html(t.Misc.currency(i.total)),this.$infoareas.empty().html(t.Misc.currency(i.total)),this.$renderCot2.val(r)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-cotizacion6-producto"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AreasProductopCotizacionItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#cotizacion-producto-areas-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateCotizacionView=Backbone.View.extend({el:"#cotizaciones-create",template:_.template(e("#add-cotizacion-tpl").html()||""),events:{"click .submit-cotizacion":"submitCotizacion","submit #form-cotizaciones":"onStore"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$form=this.$("#form-cotizaciones"),this.spinner=this.$("#spinner-main"),this.ready()},submitCotizacion:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),Backbone.history.navigate(Route.route("cotizaciones.edit",{cotizaciones:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateCotizacion2View=Backbone.View.extend({el:"#cotizaciones-productos-create",template:_.template(e("#add-cotizacion-producto-tpl").html()||""),events:{"change #cotizacion2_precio_formula":"changeFormula","change #cotizacion2_round_formula":"changeFormula","ifChanged #cotizacion2_tiro":"changedTiro","ifChanged #cotizacion2_retiro":"changedRetiro","click .submit-cotizacion2":"submitCotizacion2","submit #form-cotizacion-producto":"onStore","click .submit-cotizacion6":"submitCotizacion6","change #cotizacion6_areap":"changeAreap","submit #form-cotizacion6-producto":"onStoreCotizacion6","change .event-price":"calculateCotizacion2"},parameters:{data:{cotizacion2_productop:null}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-cotizacion-producto"),this.maquinasProductopCotizacionList=new app.MaquinasProductopCotizacionList,this.materialesProductopCotizacionList=new app.MaterialesProductopCotizacionList,this.acabadosProductopCotizacionList=new app.AcabadosProductopCotizacionList,this.areasProductopCotizacionList=new app.AreasProductopCotizacionList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-cotizacion-producto"),this.$inputFormula=this.$("#cotizacion2_precio_formula"),this.$inputRound=this.$("#cotizacion2_round_formula"),this.$inputPrecio=this.$("#cotizacion2_precio_venta"),this.$inputYellow=this.$("#cotizacion2_yellow"),this.$inputMagenta=this.$("#cotizacion2_magenta"),this.$inputCyan=this.$("#cotizacion2_cyan"),this.$inputKey=this.$("#cotizacion2_key"),this.$inputYellow2=this.$("#cotizacion2_yellow2"),this.$inputMagenta2=this.$("#cotizacion2_magenta2"),this.$inputCyan2=this.$("#cotizacion2_cyan2"),this.$inputKey2=this.$("#cotizacion2_key2"),this.$formCotizacion6=this.$("#form-cotizacion6-producto"),this.$nombreC6=this.$("#cotizacion6_nombre"),this.$horasC6=this.$("#cotizacion6_horas"),this.$valorC6=this.$("#cotizacion6_valor"),this.$precioCot2=this.$("#total-price"),this.$precio=this.$("#cotizacion2_precio_venta"),this.$viaticos=this.$("#cotizacion2_viaticos"),this.$transporte=this.$("#cotizacion2_transporte"),this.totalAreap=0,this.totalCot=0,this.$infoprecio=this.$("#info-precio"),this.$infoviaticos=this.$("#info-viaticos"),this.$infotransporte=this.$("#info-transporte"),this.$infoareas=this.$("#info-areas"),this.calculateCotizacion2(),this.referenceViews(),this.ready()},referenceViews:function(){var e={productop:this.parameters.data.cotizacion2_productop};this.model.id!=i&&(e.cotizacion2=this.model.get("id"),e.productop=this.model.get("cotizacion2_productop")),this.maquinasProductopCotizacionListView=new app.MaquinasProductopCotizacionListView({collection:this.maquinasProductopCotizacionList,parameters:{dataFilter:e}}),this.materialesProductopCotizacionListView=new app.MaterialesProductopCotizacionListView({collection:this.materialesProductopCotizacionList,parameters:{dataFilter:e}}),this.acabadosProductopCotizacionListView=new app.AcabadosProductopCotizacionListView({collection:this.acabadosProductopCotizacionList,parameters:{dataFilter:e}}),this.areasProductopCotizacionListView=new app.AreasProductopCotizacionListView({collection:this.areasProductopCotizacionList,parameters:{dataFilter:e,edit:!0}})},changeFormula:function(){var o=this,i=this.$inputFormula.val(),r=this.$inputRound.val();i=i.replaceAll("(","n"),i=i.replaceAll(")","m"),i=i.replaceAll("+","t"),e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.productos.formula")),type:"GET",data:{equation:i,round:r},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),o.$inputPrecio.val(e.precio_venta),o.calculateCotizacion2()}).fail(function(e,i,r){o.$inputPrecio.val(0),t.Misc.removeSpinner(o.el),alertify.error(r)})},changedTiro:function(t){var o=e(t.target).is(":checked");o?(this.$inputYellow.iCheck("check"),this.$inputMagenta.iCheck("check"),this.$inputCyan.iCheck("check"),this.$inputKey.iCheck("check")):(this.$inputYellow.iCheck("uncheck"),this.$inputMagenta.iCheck("uncheck"),this.$inputCyan.iCheck("uncheck"),this.$inputKey.iCheck("uncheck"))},changedRetiro:function(t){var o=e(t.target).is(":checked");o?(this.$inputYellow2.iCheck("check"),this.$inputMagenta2.iCheck("check"),this.$inputCyan2.iCheck("check"),this.$inputKey2.iCheck("check")):(this.$inputYellow2.iCheck("uncheck"),this.$inputMagenta2.iCheck("uncheck"),this.$inputCyan2.iCheck("uncheck"),this.$inputKey2.iCheck("uncheck"))},submitCotizacion2:function(e){this.$form.submit()},onStore:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({},t.Misc.formToJson(o.target),this.parameters.data);i.cotizacion6=this.areasProductopCotizacionList.toJSON(),this.model.save(i,{silent:!0})}},calculateCotizacion2:function(){this.totalCot=parseFloat(this.$precio.inputmask("unmaskedvalue"))+parseFloat(this.$viaticos.inputmask("unmaskedvalue"))+parseFloat(this.$transporte.inputmask("unmaskedvalue")),this.$infoprecio.empty().html(t.Misc.currency(this.$precio.inputmask("unmaskedvalue"))),this.$infoviaticos.empty().html(t.Misc.currency(this.$viaticos.inputmask("unmaskedvalue"))),this.$infotransporte.empty().html(t.Misc.currency(this.$transporte.inputmask("unmaskedvalue"))),this.$precioCot2.val(this.totalCot);
},changeAreap:function(o){var i=this;id=this.$(o.currentTarget).val(),"undefined"==typeof id||_.isUndefined(id)||_.isNull(id)||""==id?(this.$nombreC6.val("").attr("readonly",!1),this.$valorC6.val(""),this.$horasC6.val("")):e.ajax({url:t.Misc.urlFull(Route.route("areasp.show",{areasp:id})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$nombreC6.val("").attr("readonly",!0),i.$horasC6.val(""),i.$valorC6.val(e.areap_valor)}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},submitCotizacion6:function(e){this.$formCotizacion6.submit()},onStoreCotizacion6:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({},t.Misc.formToJson(o.target),this.parameters.data);this.areasProductopCotizacionList.trigger("store",i)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:this.model.get("cotizacion2_cotizacion")})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.EditCotizacionView=Backbone.View.extend({el:"#cotizaciones-create",template:_.template(e("#add-cotizacion-tpl").html()||""),events:{"click .submit-cotizacion":"submitCotizacion","click .close-cotizacion":"closeCotizacion","click .clone-cotizacion":"cloneCotizacion","click .export-cotizacion":"exportCotizacion","change #typeproductop":"changeTypeProduct","change #subtypeproductop":"changeSubtypeProduct","submit #form-cotizaciones":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.productopCotizacionList=new app.ProductopCotizacionList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$product=this.$("#productop"),this.$subtypeproduct=this.$("#subtypeproductop"),this.$form=this.$("#form-cotizaciones"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready()},referenceViews:function(){this.productopCotizacionListView=new app.ProductopCotizacionListView({collection:this.productopCotizacionList,parameters:{edit:!0,iva:this.model.get("cotizacion1_iva"),wrapper:this.spinner,dataFilter:{cotizacion2_cotizacion:this.model.get("id")}}})},submitCotizacion:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},changeTypeProduct:function(o){var i=this;typeproduct=this.$(o.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?(this.$subtypeproduct.empty().val(0).attr("disabled","disabled"),this.$product.empty().val(0).attr("disabled","disabled")):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$product.empty().val(0).attr("disabled","disabled"),i.$subtypeproduct.empty().val(0).removeAttr("disabled"),i.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){i.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},changeSubtypeProduct:function(o){var i=this;subtypeproduct=this.$(o.currentTarget).val(),typeproduct=this.$("#typeproductop").val(),"undefined"==typeof subtypeproduct||_.isUndefined(subtypeproduct)||_.isNull(subtypeproduct)||""==subtypeproduct||e.ajax({url:t.Misc.urlFull(Route.route("productosp.index")),data:{subtypeproduct:subtypeproduct,typeproduct:typeproduct},type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$product.empty().val(0).removeAttr("disabled"),i.$product.append("<option value=></option>"),_.each(e,function(e){i.$product.append("<option value="+e.id+">"+e.productop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},exportCotizacion:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("cotizaciones.exportar",{cotizaciones:this.model.get("id")})),"_blank")},closeCotizacion:function(o){o.preventDefault();var i=this,r=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion_codigo:i.model.get("cotizacion_codigo")},template:_.template(e("#cotizacion-close-confirm-tpl").html()||""),titleConfirm:"Cerrar cotización",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.cerrar",{cotizaciones:i.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){if(t.Misc.removeSpinner(i.spinner),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.show",{cotizaciones:i.model.get("id")})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})}}});r.render()},cloneCotizacion:function(o){o.preventDefault();var i=this;data={cotizacion_codigo:i.model.get("id")};var r=new t.app.ConfirmWindow({parameters:{dataFilter:data,template:_.template(e("#cotizacion-clone-confirm-tpl").html()||""),titleConfirm:"Clonar cotización",onConfirm:function(){t.Misc.cloneCotizacion({data:data,wrap:i.spinner,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:e.id})))}}(i)})}}});r.render()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:o.id}),{trigger:!0}))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainCotizacionesView=Backbone.View.extend({el:"#cotizaciones-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var o=this;this.$cotizacionesSearchTable=this.$("#cotizaciones-search-table"),this.$searchcotizacionCotizacion=this.$("#searchcotizacion_numero"),this.$searchcotizacionTercero=this.$("#searchcotizacion_tercero"),this.$searchcotizacionTerceroName=this.$("#searchcotizacion_tercero_nombre"),this.$searchcotizacionEstado=this.$("#searchcotizacion_estado"),this.$searchcotizacionReferencia=this.$("#searchcotizacion_referencia"),this.$searchcotizacionProductop=this.$("#searchcotizacion_productop"),this.cotizacionesSearchTable=this.$cotizacionesSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("cotizaciones.index")),data:function(e){e.persistent=!0,e.cotizacion_numero=o.$searchcotizacionCotizacion.val(),e.cotizacion_tercero_nit=o.$searchcotizacionTercero.val(),e.cotizacion_tercero_nombre=o.$searchcotizacionTerceroName.val(),e.cotizacion_estado=o.$searchcotizacionEstado.val(),e.cotizacion_referencia=o.$searchcotizacionReferencia.val(),e.cotizacion_productop=o.$searchcotizacionProductop.val()}},columns:[{data:"cotizacion_codigo",name:"cotizacion_codigo"},{data:"cotizacion1_ano",name:"cotizacion1_ano"},{data:"cotizacion1_numero",name:"cotizacion1_numero"},{data:"cotizacion1_fecha_inicio",name:"cotizacion1_fecha_inicio"},{data:"tercero_nombre",name:"tercero_nombre"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("cotizaciones.show",{cotizaciones:i.id}))+'">'+e+"</a>"}},{targets:[1,2],visible:!1,width:"10%"},{targets:3,width:"10%"}],fnRowCallback:function(t,o){parseInt(o.cotizacion1_abierta)?e(t).css({color:"#00a65a"}):parseInt(o.cotizacion1_anulada)?e(t).css({color:"red"}):e(t).css({color:"black"})}})},search:function(e){e.preventDefault(),this.cotizacionesSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchcotizacionCotizacion.val(""),this.$searchcotizacionTercero.val(""),this.$searchcotizacionTerceroName.val(""),this.$searchcotizacionEstado.val(""),this.$searchcotizacionReferencia.val(""),this.$searchcotizacionProductop.val("").trigger("change"),this.cotizacionesSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinasProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-maquinas-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinasProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinasProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-maquina-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialesProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-producto-materiales-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialesProductopCotizacionItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialesProductopCotizacionItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#cotizacion-producto-material-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductopCotizacionListView=Backbone.View.extend({el:"#browse-cotizacion-productop-list",events:{"click .item-cotizacion-producto-remove":"removeOne","click .item-cotizacion-producto-clone":"cloneOne"},parameters:{wrapper:null,edit:!1,iva:0,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$unidades=this.$("#subtotal-cantidad"),this.$viaticos=this.$("#subtotal-viaticos"),this.$transporte=this.$("#subtotal-transporte"),this.$facturado=this.$("#subtotal-facturado"),this.$subtotal=this.$("#subtotal-total"),this.$iva=this.$("#iva-total"),this.$total=this.$("#total-total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{cotizacion2_cotizacion:this.parameters.dataFilter.cotizacion2_cotizacion},reset:!0})},render:function(){},addOne:function(e){var t=new app.ProductopCotizacionItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove(),n.collection.remove(e),n.totalize()}}})},cloneOne:function(o){o.preventDefault();var i=this,r=e(o.currentTarget).attr("data-resource"),n=this.collection.get(r),a={cotizacion2_codigo:n.get("id"),productop_nombre:n.get("productop_nombre")},s=new t.app.ConfirmWindow({parameters:{dataFilter:a,template:_.template(e("#cotizacion-productop-clone-confirm-tpl").html()||""),titleConfirm:"Clonar producto cotización",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.productos.clonar",{productos:a.cotizacion2_codigo})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.parameters.wrapper)}}).done(function(e){if(t.Misc.removeSpinner(i.parameters.wrapper),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.productos.show",{productos:e.id})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(r)})}}});s.render()},totalize:function(){var e=this.collection.totalize();this.$unidades.length&&this.$unidades.html(e.unidades),this.$facturado.length&&this.$facturado.html(e.facturado),this.$subtotal.length&&this.$subtotal.html(t.Misc.currency(e.subtotal)),this.$viaticos.length&&this.$viaticos.html(t.Misc.currency(e.viaticos)),this.$transporte.length&&this.$transporte.html(t.Misc.currency(e.transporte));var o=e.subtotal*(this.parameters.iva/100);this.$iva.length&&this.$iva.html(t.Misc.currency(o));var i=e.subtotal+o;this.$total.length&&this.$total.html(t.Misc.currency(i))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductopCotizacionItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#cotizacion-producto-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowCotizacionView=Backbone.View.extend({el:"#cotizaciones-show",events:{"click .export-cotizacion":"exportCotizacion","click .open-cotizacion":"openCotizacion","click .clone-cotizacion":"cloneCotizacion"},initialize:function(){this.$iva=this.$("#cotizacion1_iva"),this.productopCotizacionList=new app.ProductopCotizacionList,this.referenceViews()},referenceViews:function(){this.productopCotizacionListView=new app.ProductopCotizacionListView({collection:this.productopCotizacionList,parameters:{wrapper:this.$("#wrapper-productop-cotizacion"),iva:this.$iva.val(),dataFilter:{cotizacion2_cotizacion:this.model.get("id")}}})},openCotizacion:function(o){o.preventDefault();var i=this,r=new t.app.ConfirmWindow({parameters:{dataFilter:{cotizacion_codigo:i.model.get("cotizacion_codigo")},template:_.template(e("#cotizacion-open-confirm-tpl").html()||""),titleConfirm:"Reabir cotización",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.abrir",{cotizaciones:i.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:i.model.get("id")})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.el),alertify.error(r)})}}});r.render()},cloneCotizacion:function(o){o.preventDefault();var i=this,r={cotizacion_codigo:this.model.get("id")},n=new t.app.ConfirmWindow({parameters:{dataFilter:r,template:_.template(e("#cotizacion-clone-confirm-tpl").html()||""),titleConfirm:"Clonar cotización",onConfirm:function(){t.Misc.cloneCotizacion({data:r,wrap:i.$el,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("cotizaciones.edit",{cotizaciones:e.id})))}}(i)})}}});n.render()},exportCotizacion:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("cotizaciones.exportar",{cotizaciones:this.model.get("id")})),"_blank")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainDepartamentoView=Backbone.View.extend({el:"#departamentos-main",initialize:function(){this.$departamentosSearchTable=this.$("#departamentos-search-table"),this.$departamentosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("departamentos.index")),columns:[{data:"departamento_codigo",name:"departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateDocumentoView=Backbone.View.extend({el:"#documento-create",template:_.template(e("#add-documento-tpl").html()||""),events:{"submit #form-documento":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-documento"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.show",{documentos:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainDocumentosView=Backbone.View.extend({el:"#documentos-main",initialize:function(){this.$documentosSearchTable=this.$("#documentos-search-table"),this.$documentosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("documentos.index")),columns:[{data:"documento_codigo",name:"documento_codigo"},{data:"documento_nombre",name:"documento_nombre"},{data:"folder_codigo",name:"folder_codigo"},{data:"folder_id",name:"folder_id"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo documento',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("documentos.show",{documentos:i.id}))+'">'+e+"</a>"}},{targets:1,width:"70%"},{targets:2,width:"15%",render:function(e,o,i,r){return _.isNull(i.folder_codigo)||_.isUndefined(i.folder_codigo)?"":'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:i.folder_id}))+'">'+e+"</a>"}},{targets:3,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateEmpresaView=Backbone.View.extend({el:"#empresa-create",template:_.template(e("#add-company-tpl").html()||""),templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change input#tercero_nit":"nitChanged","change select#tercero_persona":"personaChanged","change select#tercero_actividad":"actividadChanged","submit #form-create-empresa":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-empresa"),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:tercero_persona",this.renderName),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$dv=this.$("#tercero_digito"),this.$retecree=this.$("#tercero_retecree"),this.ready()},renderName:function(e,t,o){this.$("#content-render-name").html(this.templateName(this.model.toJSON())),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},nitChanged:function(o){var i=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){t.Misc.removeSpinner(i.el),e.success&&i.$dv.val(e.dv)}).fail(function(e,o,r){t.Misc.removeSpinner(i.el),alertify.error(r)})},personaChanged:function(t){this.model.set({tercero_persona:e(t.currentTarget).val()})},actividadChanged:function(o){var i=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(o.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){t.Misc.removeSpinner(i.el),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||i.$retecree.html(e.rcree))}).fail(function(e,o,r){t.Misc.removeSpinner(i.el),alertify.error(r)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);alertify.success("Empresa fue actualizada con éxito.")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateFacturaView=Backbone.View.extend({el:"#factura-create",template:_.template(e("#add-facturas-tpl").html()||""),templateDetail:_.template(e("#add-detail-factura").html()||""),events:{"click .submit-factura":"submitFactura","submit #form-factura":"onStore","submit #form-detail-factura":"onStoreItem"},parameters:{},initialize:function(){this.$wraperForm=this.$("#render-form-factura"),this.detalleFactura2List=new app.DetalleFactura2List,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$renderDetail=this.$("#render-detail"),this.$renderDetail.html(this.templateDetail({})),this.$form=this.$("#form-factura"),this.$formDetail=this.$("#form-detail-factura"),this.referenceView(),this.ready()},submitFactura:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.detail=t.Misc.formToJson(this.$formDetail),this.model.save(o,{patch:!0,silent:!0})}},referenceView:function(){this.detalleFacturaView=new app.DetalleFacturaView({collection:this.detalleFactura2List,parameters:{edit:!1,dataFilter:{factura1_orden:this.model.get("id")}}})},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.detalleFactura2List.trigger("store",o)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createFacturaView instanceof Backbone.View&&(this.createFacturaView.stopListening(),this.createFacturaView.undelegateEvents()),t.Misc.redirect(t.Misc.urlFull(Route.route("facturas.show",{facturas:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DetalleFacturaItemView=Backbone.View.extend({tagName:"tr",className:"form-group",template:_.template(e("#facturado-item-list-tpl").html()||""),parameters:{call:null},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),"show"==this.parameters.call&&(this.template=_.template(e("#add-factura-item-tpl").html()||"")),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DetalleFacturaView=Backbone.View.extend({el:"#browse-detalle-factura-list",events:{"click .item-detail-factura-remove":"removeOne"},parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.$facturado=this.$("#subtotal-facturado"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.DetalleFacturaItemView({model:e,parameters:{call:this.parameters.call}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this,i=this.collection.validar(e);if(!i.success)return void alertify.error(i.error);t.Misc.setSpinner(this.el);var r=new app.Factura2Model;r.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.el);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.el),alertify.error(i.statusText)}})},removeOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i))},totalize:function(){var e=this.collection.totalize();this.$facturado.length&&this.$facturado.html(e.facturado)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);e("#factura1_orden").val(""),e("#factura1_orden_beneficiario").val("")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainFacturasView=Backbone.View.extend({el:"#facturas-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$facturasSearchTable=this.$("#facturas-search-table"),this.$searchfacturaNumero=this.$("#searchfactura_numero"),this.$searchfacturaTercero=this.$("#searchfactura_tercero"),this.$searchfacturaTerceroNombre=this.$("#searchfactura_tercero_nombre"),this.facturasSearchTable=this.$facturasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturas.index")),data:function(t){t.persistent=!0,t.id=e.$searchfacturaNumero.val(),t.tercero_nit=e.$searchfacturaTercero.val(),t.tercero_nombre=e.$searchfacturaTerceroNombre.val()}},columns:[{data:"id",name:"id"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"factura1_tercero"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"}],columnDefs:[{targets:0,width:"5%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("facturas.show",{facturas:i.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.facturasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturaNumero.val(""),this.$searchfacturaTercero.val(""),this.$searchfacturaTerceroNombre.val(""),this.facturasSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowFacturaView=Backbone.View.extend({el:"#factura-show",events:{"click .export-factura":"exportFactura"},initialize:function(){this.model.id!=i&&(this.detalleFactura2List=new app.DetalleFactura2List,this.referenceViews())},referenceViews:function(){this.detalleFacturaView=new app.DetalleFacturaView({collection:this.detalleFactura2List,parameters:{edit:!1,call:"show",dataFilter:{factura2:this.model.get("id")
}}})},exportFactura:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("facturas.exportar",{facturas:this.model.get("id")})))}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DetalleFacturapItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#facturap-item-list-tpl").html()||""),parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DetalleFacturapView=Backbone.View.extend({el:"#browse-detalle-facturap-list",parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter)||_.isNull(this.parameters.dataFilter)||(this.confCollection.data=this.parameters.dataFilter,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.DetalleFacturapItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainFacturaspView=Backbone.View.extend({el:"#facturasp-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$facturaspSearchTable=this.$("#facturasp-search-table"),this.$searchfacturapReferencia=this.$("#searchfacturap_referencia"),this.$searchfacturapFecha=this.$("#searchfacturap_fecha"),this.$searchfacturapTercero=this.$("#searchfacturap_tercero"),this.$searchfacturapTerceroNombre=this.$("#searchfacturap_tercero_nombre"),this.facturaspSearchTable=this.$facturaspSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("facturap.index")),data:function(t){t.persistent=!0,t.referencia=e.$searchfacturapReferencia.val(),t.facturap_fecha=e.$searchfacturapFecha.val(),t.tercero_nit=e.$searchfacturapTercero.val(),t.tercero_nombre=e.$searchfacturapTerceroNombre.val()}},columns:[{data:"id",name:"id"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"facturap1_factura",name:"facturap1_factura"},{data:"facturap1_fecha",name:"facturap1_fecha"}],columnDefs:[{targets:0,width:"5%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("facturap.show",{facturap:i.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.facturaspSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchfacturapReferencia.val(""),this.$searchfacturapFecha.val(""),this.$searchfacturapTercero.val(""),this.$searchfacturapTerceroNombre.val(""),this.facturaspSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowFacturapView=Backbone.View.extend({el:"#facturap-show",initialize:function(){this.model.id!=i&&(this.cuotasFPList=new app.CuotasFPList,this.referenceViews())},referenceViews:function(){this.detalleFacturapView=new app.DetalleFacturapView({collection:this.cuotasFPList,parameters:{edit:!1,dataFilter:{facturap1:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateFolderView=Backbone.View.extend({el:"#folder-create",template:_.template(e("#add-folder-tpl").html()||""),events:{"submit #form-folder":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-folder"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("folders.show",{folders:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainFoldersView=Backbone.View.extend({el:"#folders-main",initialize:function(){this.$foldersSearchTable=this.$("#folders-search-table"),this.$foldersSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("folders.index")),columns:[{data:"folder_codigo",name:"folder_codigo"},{data:"folder_nombre",name:"folder_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Agregar Folder',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("folders.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateGrupoView=Backbone.View.extend({el:"#grupos-create",template:_.template(e("#add-grupo-tpl").html()||""),events:{"submit #form-grupos":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-grupo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("grupos.show",{grupos:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainGruposView=Backbone.View.extend({el:"#grupos-main",initialize:function(){this.$gruposSearchTable=this.$("#grupos-search-table"),this.$gruposSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("grupos.index")),columns:[{data:"grupo_codigo",name:"grupo_codigo"},{data:"grupo_nombre",name:"grupo_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo grupo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("grupos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("grupos.show",{grupos:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=e("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateMaquinapView=Backbone.View.extend({el:"#maquinasp-create",template:_.template(e("#add-maquinap-tpl").html()||""),events:{"submit #form-maquinasp":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-maquinap"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("maquinasp.show",{maquinasp:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainMaquinaspView=Backbone.View.extend({el:"#maquinasp-main",initialize:function(){this.$maquinaspSearchTable=this.$("#maquinasp-search-table"),this.$maquinaspSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("maquinasp.index")),columns:[{data:"id",name:"id"},{data:"maquinap_nombre",name:"maquinap_nombre"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva máquina',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("maquinasp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("maquinasp.show",{maquinasp:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateMaterialpView=Backbone.View.extend({el:"#materialesp-create",template:_.template(e("#add-materialp-tpl").html()||""),events:{"submit #form-materialesp":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-materialp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("materialesp.show",{materialesp:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainMaterialespView=Backbone.View.extend({el:"#materialesp-main",initialize:function(){this.$materialespSearchTable=this.$("#materialesp-search-table"),this.$materialespSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("materialesp.index")),columns:[{data:"id",name:"id"},{data:"materialp_nombre",name:"materialp_nombre"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo material',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("materialesp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("materialesp.show",{materialesp:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainModuloView=Backbone.View.extend({el:"#modulos-main",initialize:function(){this.$modulosSearchTable=this.$("#modulos-search-table"),this.$modulosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("modulos.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"}],columnDefs:[{targets:0,width:"25%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainMunicipioView=Backbone.View.extend({el:"#municipios-main",initialize:function(){this.$municipiosSearchTable=this.$("#municipios-search-table"),this.$municipiosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("municipios.index")),data:function(e){e.datatables=!0}},columns:[{data:"departamento_codigo",name:"koi_departamento.departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"},{data:"municipio_codigo",name:"municipio_codigo"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"departamento_id",name:"departamento_id"}],columnDefs:[{targets:0,width:"15%"},{targets:1,width:"35%"},{targets:2,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("departamentos.show",{departamentos:i.departamento_id}))+'">'+e+"</a>"}},{targets:3,width:"35%"},{targets:4,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadosProductopListView=Backbone.View.extend({el:"#browse-orden-producto-acabados-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadosProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadosProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-acabado-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateOrdenpView=Backbone.View.extend({el:"#ordenes-create",template:_.template(e("#add-ordenp-tpl").html()||""),events:{"click .submit-ordenp":"submitOrdenp","submit #form-ordenes":"onStore"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.$form=this.$("#form-ordenes"),this.spinner=this.$("#spinner-main"),this.ready()},submitOrdenp:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),Backbone.history.navigate(Route.route("ordenes.edit",{ordenes:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateOrdenp2View=Backbone.View.extend({el:"#ordenes-productos-create",template:_.template(e("#add-orden-producto-tpl").html()||""),events:{"change #orden2_precio_formula":"changeFormula","change #orden2_round_formula":"changeFormula","ifChanged #orden2_tiro":"changedTiro","ifChanged #orden2_retiro":"changedRetiro","click .submit-ordenp2":"submitOrdenp2","submit #form-orden-producto":"onStore"},parameters:{data:{orden2_productop:null}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-orden-producto"),this.maquinasProductopList=new app.MaquinasProductopList,this.materialesProductopList=new app.MaterialesProductopList,this.acabadosProductopList=new app.AcabadosProductopList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-orden-producto"),this.$inputFormula=this.$("#orden2_precio_formula"),this.$inputRound=this.$("#orden2_round_formula"),this.$inputPrecio=this.$("#orden2_precio_venta"),this.$inputYellow=this.$("#orden2_yellow"),this.$inputMagenta=this.$("#orden2_magenta"),this.$inputCyan=this.$("#orden2_cyan"),this.$inputKey=this.$("#orden2_key"),this.$inputYellow2=this.$("#orden2_yellow2"),this.$inputMagenta2=this.$("#orden2_magenta2"),this.$inputCyan2=this.$("#orden2_cyan2"),this.$inputKey2=this.$("#orden2_key2"),this.referenceViews(),this.ready()},referenceViews:function(){var e={productop:this.parameters.data.orden2_productop};this.model.id!=i&&(e.orden2=this.model.get("id"),e.productop=this.model.get("orden2_productop")),this.maquinasProductopListView=new app.MaquinasProductopListView({collection:this.maquinasProductopList,parameters:{dataFilter:e}}),this.materialesProductopListView=new app.MaterialesProductopListView({collection:this.materialesProductopList,parameters:{dataFilter:e}}),this.acabadosProductopListView=new app.AcabadosProductopListView({collection:this.acabadosProductopList,parameters:{dataFilter:e}})},changeFormula:function(){var o=this,i=this.$inputFormula.val(),r=this.$inputRound.val();i=i.replaceAll("(","n"),i=i.replaceAll(")","m"),i=i.replaceAll("+","t"),e.ajax({url:t.Misc.urlFull(Route.route("ordenes.productos.formula")),type:"GET",data:{equation:i,round:r},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),o.$inputPrecio.val(e.precio_venta)}).fail(function(e,i,r){o.$inputPrecio.val(0),t.Misc.removeSpinner(o.el),alertify.error(r)})},changedTiro:function(t){var o=e(t.target).is(":checked");o?(this.$inputYellow.iCheck("check"),this.$inputMagenta.iCheck("check"),this.$inputCyan.iCheck("check"),this.$inputKey.iCheck("check")):(this.$inputYellow.iCheck("uncheck"),this.$inputMagenta.iCheck("uncheck"),this.$inputCyan.iCheck("uncheck"),this.$inputKey.iCheck("uncheck"))},changedRetiro:function(t){var o=e(t.target).is(":checked");o?(this.$inputYellow2.iCheck("check"),this.$inputMagenta2.iCheck("check"),this.$inputCyan2.iCheck("check"),this.$inputKey2.iCheck("check")):(this.$inputYellow2.iCheck("uncheck"),this.$inputMagenta2.iCheck("uncheck"),this.$inputCyan2.iCheck("uncheck"),this.$inputKey2.iCheck("uncheck"))},submitOrdenp2:function(e){this.$form.submit()},onStore:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({},t.Misc.formToJson(o.target),this.parameters.data);this.model.save(i,{silent:!0})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:this.model.get("orden2_orden")})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DespachopOrdenListView=Backbone.View.extend({el:"#browse-orden-despachosp-list",events:{"click .item-orden-despacho-remove":"removeOne"},parameters:{wrapper:null,collectionPendientes:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{despachop1_orden:this.parameters.dataFilter.despachop1_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.DespachopOrdenItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper);var i=new app.DespachopModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e),o.parameters.collectionPendientes.fetch({data:{orden2_orden:o.parameters.dataFilter.despachop1_orden},reset:!0})}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove(),n.collection.remove(e),n.parameters.collectionPendientes.fetch({data:{orden2_orden:n.parameters.dataFilter.despachop1_orden},reset:!0})}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DespachopOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-despacho-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DespachospPendientesOrdenListView=Backbone.View.extend({el:"#browse-orden-despachosp-pendientes-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden2_orden:this.parameters.dataFilter.orden2_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.DespachopPendienteOrdenItemView({model:e});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.$el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.DespachopPendienteOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-despacho-pendiente-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.EditOrdenpView=Backbone.View.extend({el:"#ordenes-create",template:_.template(e("#add-ordenp-tpl").html()||""),events:{"click .submit-ordenp":"submitOrdenp","click .close-ordenp":"closeOrdenp","click .clone-ordenp":"cloneOrdenp","click .export-ordenp":"exportOrdenp","change #typeproductop":"changeTypeProduct","change #subtypeproductop":"changeSubtypeProduct","submit #form-ordenes":"onStore","submit #form-despachosp":"onStoreDespacho"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.productopOrdenList=new app.ProductopOrdenList,this.despachopOrdenList=new app.DespachopOrdenList,this.despachospPendientesOrdenList=new app.DespachospPendientesOrdenList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.$form=this.$("#form-ordenes"),this.$product=this.$("#productop"),this.$subtypeproduct=this.$("#subtypeproductop"),this.spinner=this.$("#spinner-main"),this.referenceViews(),this.ready()},referenceViews:function(){this.productopOrdenListView=new app.ProductopOrdenListView({collection:this.productopOrdenList,parameters:{edit:!0,iva:this.model.get("orden_iva"),wrapper:this.spinner,dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachospPendientesOrdenListView=new app.DespachospPendientesOrdenListView({collection:this.despachospPendientesOrdenList,parameters:{dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachopOrdenListView=new app.DespachopOrdenListView({collection:this.despachopOrdenList,parameters:{edit:!0,wrapper:this.spinner,collectionPendientes:this.despachospPendientesOrdenList,dataFilter:{despachop1_orden:this.model.get("id")}}})},submitOrdenp:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},onStoreDespacho:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.despachop1_orden=this.model.get("id"),this.despachopOrdenList.trigger("store",o)}},changeTypeProduct:function(o){var i=this,r=this.$(o.currentTarget).val();"undefined"==typeof r||_.isUndefined(r)||_.isNull(r)||""==r?(this.$subtypeproduct.empty().val(0).attr("disabled","disabled"),this.$product.empty().val(0).attr("disabled","disabled")):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:r})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$product.empty().val(0).attr("disabled","disabled"),i.$subtypeproduct.empty().val(0).removeAttr("disabled"),i.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){i.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},changeSubtypeProduct:function(o){var i=this,r=this.$(o.currentTarget).val(),n=this.$("#typeproductop").val();"undefined"==typeof r||_.isUndefined(r)||_.isNull(r)||""==r||e.ajax({url:t.Misc.urlFull(Route.route("productosp.index")),data:{subtypeproduct:r,typeproduct:n},type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$product.empty().val(0).removeAttr("disabled"),i.$product.append("<option value=></option>"),_.each(e,function(e){i.$product.append("<option value="+e.id+">"+e.productop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},exportOrdenp:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("ordenes.exportar",{ordenes:this.model.get("id")})),"_blank")},closeOrdenp:function(o){o.preventDefault();var i=this,r=new t.app.ConfirmWindow({parameters:{dataFilter:{orden_codigo:i.model.get("orden_codigo")},template:_.template(e("#ordenp-close-confirm-tpl").html()||""),titleConfirm:"Cerrar orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("ordenes.cerrar",{ordenes:i.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){if(t.Misc.removeSpinner(i.spinner),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.show",{ordenes:i.model.get("id")})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})}}});r.render()},cloneOrdenp:function(o){o.preventDefault();var i=this;data={orden_codigo:i.model.get("id")};var r=new t.app.ConfirmWindow({parameters:{dataFilter:data,template:_.template(e("#ordenp-clone-confirm-tpl").html()||""),titleConfirm:"Clonar orden de producción",onConfirm:function(){t.Misc.cloneOrden({data:data,wrap:i.spinner,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:e.id})))}}(i)})}}});r.render()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initTimePicker&&t.initComponent.initTimePicker(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),
!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:o.id}),{trigger:!0}))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainOrdenesView=Backbone.View.extend({el:"#ordenes-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var o=this;this.$ordersSearchTable=this.$("#ordenes-search-table"),this.$searchordenpOrden=this.$("#searchordenp_ordenp_numero"),this.$searchordenpTercero=this.$("#searchordenp_tercero"),this.$searchordenpTerceroName=this.$("#searchordenp_tercero_nombre"),this.$searchordenpEstado=this.$("#searchordenp_ordenp_estado"),this.$searchordenpReferencia=this.$("#searchordenp_ordenp_referencia"),this.$searchordenpProductop=this.$("#searchordenp_ordenp_productop"),this.ordersSearchTable=this.$ordersSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("ordenes.index")),data:function(e){e.persistent=!0,e.orden_numero=o.$searchordenpOrden.val(),e.orden_tercero_nit=o.$searchordenpTercero.val(),e.orden_tercero_nombre=o.$searchordenpTerceroName.val(),e.orden_estado=o.$searchordenpEstado.val(),e.orden_referencia=o.$searchordenpReferencia.val(),e.orden_productop=o.$searchordenpProductop.val()}},columns:[{data:"orden_codigo",name:"orden_codigo"},{data:"orden_ano",name:"orden_ano"},{data:"orden_numero",name:"orden_numero"},{data:"orden_fecha_inicio",name:"orden_fecha_inicio"},{data:"orden_fecha_entrega",name:"orden_fecha_entrega"},{data:"orden_hora_entrega",name:"orden_hora_entrega"},{data:"tercero_nombre",name:"tercero_nombre"}],order:[[1,"desc"],[2,"desc"]],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("ordenes.show",{ordenes:i.id}))+'">'+e+"</a>"}},{targets:[1,2],visible:!1,width:"10%"},{targets:3,width:"10%"}],fnRowCallback:function(t,o){parseInt(o.orden_abierta)?e(t).css({color:"#00a65a"}):parseInt(o.orden_anulada)&&e(t).css({color:"red"})}})},search:function(e){e.preventDefault(),this.ordersSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchordenpOrden.val(""),this.$searchordenpTercero.val(""),this.$searchordenpTerceroName.val(""),this.$searchordenpEstado.val(""),this.$searchordenpReferencia.val(""),this.$searchordenpProductop.val("").trigger("change"),this.ordersSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinasProductopListView=Backbone.View.extend({el:"#browse-orden-producto-maquinas-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinasProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinasProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-maquina-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialesProductopListView=Backbone.View.extend({el:"#browse-orden-producto-materiales-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialesProductopItemView({model:e});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$el)},responseServer:function(e,o,i){this.ready(),t.Misc.removeSpinner(this.$el)},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialesProductopItemView=Backbone.View.extend({tagName:"div",className:"row",template:_.template(e("#orden-producto-material-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductopOrdenListView=Backbone.View.extend({el:"#browse-orden-productop-list",events:{"click .item-orden-producto-remove":"removeOne","click .item-orden-producto-clone":"cloneOne"},parameters:{wrapper:null,edit:!1,iva:0,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$unidades=this.$("#subtotal-cantidad"),this.$facturado=this.$("#subtotal-facturado"),this.$subtotal=this.$("#subtotal-total"),this.$iva=this.$("#iva-total"),this.$total=this.$("#total-total"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{orden2_orden:this.parameters.dataFilter.orden2_orden},reset:!0})},render:function(){},addOne:function(e){var t=new app.ProductopOrdenItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove(),n.collection.remove(e),n.totalize()}}})},cloneOne:function(o){o.preventDefault();var i=this,r=e(o.currentTarget).attr("data-resource"),n=this.collection.get(r),a={orden2_codigo:n.get("id"),productop_nombre:n.get("productop_nombre")},s=new t.app.ConfirmWindow({parameters:{dataFilter:a,template:_.template(e("#ordenp-productop-clone-confirm-tpl").html()||""),titleConfirm:"Clonar producto orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("ordenes.productos.clonar",{productos:a.orden2_codigo})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.parameters.wrapper)}}).done(function(e){if(t.Misc.removeSpinner(i.parameters.wrapper),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.productos.show",{productos:e.id})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(r)})}}});s.render()},totalize:function(){var e=this.collection.totalize();this.$unidades.length&&this.$unidades.html(e.unidades),this.$facturado.length&&this.$facturado.html(e.facturado),this.$subtotal.length&&this.$subtotal.html(t.Misc.currency(e.subtotal));var o=e.subtotal*(this.parameters.iva/100);this.$iva.length&&this.$iva.html(t.Misc.currency(o));var i=e.subtotal+o;this.$total.length&&this.$total.html(t.Misc.currency(i))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ProductopOrdenItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#ordenp-producto-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowOrdenesView=Backbone.View.extend({el:"#ordenes-show",events:{"click .export-ordenp":"exportOrdenp","click .open-ordenp":"openOrdenp","click .clone-ordenp":"cloneOrdenp"},initialize:function(){this.$iva=this.$("#orden_iva"),this.productopOrdenList=new app.ProductopOrdenList,this.despachopOrdenList=new app.DespachopOrdenList,this.referenceViews()},referenceViews:function(){this.productopOrdenListView=new app.ProductopOrdenListView({collection:this.productopOrdenList,parameters:{wrapper:this.$("#wrapper-productop-orden"),iva:this.$iva.val(),dataFilter:{orden2_orden:this.model.get("id")}}}),this.despachopOrdenListView=new app.DespachopOrdenListView({collection:this.despachopOrdenList,parameters:{wrapper:this.$el,dataFilter:{despachop1_orden:this.model.get("id")}}})},openOrdenp:function(o){o.preventDefault();var i=this,r=new t.app.ConfirmWindow({parameters:{dataFilter:{orden_codigo:i.model.get("orden_codigo")},template:_.template(e("#ordenp-open-confirm-tpl").html()||""),titleConfirm:"Reabir orden de producción",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("ordenes.abrir",{ordenes:i.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.el)}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:i.model.get("id")})))}}).fail(function(e,o,r){t.Misc.removeSpinner(i.el),alertify.error(r)})}}});r.render()},cloneOrdenp:function(o){o.preventDefault();var i=this,r={orden_codigo:this.model.get("id")},n=new t.app.ConfirmWindow({parameters:{dataFilter:r,template:_.template(e("#ordenp-clone-confirm-tpl").html()||""),titleConfirm:"Clonar orden de producción",onConfirm:function(){t.Misc.cloneOrden({data:r,wrap:i.$el,callback:function(e){return function(e){t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("ordenes.edit",{ordenes:e.id})))}}(i)})}}});n.render()},exportOrdenp:function(e){e.preventDefault(),t.open(t.Misc.urlFull(Route.route("ordenes.exportar",{ordenes:this.model.get("id")})),"_blank")}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainPermisoView=Backbone.View.extend({el:"#permisos-main",initialize:function(){this.$permisosSearchTable=this.$("#permisos-search-table"),this.$permisosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("permisos.index")),columns:[{data:"name",name:"name"},{data:"display_name",name:"display_name"},{data:"description",name:"description"}],columnDefs:[{targets:0,width:"15%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreatePlanCuentaView=Backbone.View.extend({el:"#plancuentas-create",template:_.template(e("#add-plancuentas-tpl").html()||""),events:{"change input#plancuentas_cuenta":"cuentaChanged","submit #form-plancuentas":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-plancuentas"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$nivel=this.$("#plancuentas_nivel"),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},cuentaChanged:function(o){var i=this;e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.nivel")),type:"GET",data:{plancuentas_cuenta:e(o.currentTarget).val()},beforeSend:function(){i.$nivel.val(""),t.Misc.setSpinner(i.el)}}).done(function(e){t.Misc.removeSpinner(i.el),e.success&&((_.isUndefined(e.nivel)||_.isNull(e.nivel)||!_.isNumber(e.nivel))&&alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."),i.$nivel.val(e.nivel))}).fail(function(e,o,r){t.Misc.removeSpinner(i.el),alertify.error(r)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainPlanCuentasView=Backbone.View.extend({el:"#plancuentas-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$plancuentasSearchTable=this.$("#plancuentas-search-table"),this.$searchCuenta=this.$("#plancuentas_cuenta"),this.$searchName=this.$("#plancuentas_nombre"),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(t){t.persistent=!0,t.plancuentas_cuenta=e.$searchCuenta.val(),t.plancuentas_nombre=e.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:i.id}))+'">'+e+"</a>"}},{targets:1,width:"10%"},{targets:3,width:"10%",render:function(e,t,o,i){return"D"==e?"Débito":"Crédito"}},{targets:4,width:"10%",render:function(e,t,o,i){return parseInt(e)?"Si":"No"}}]})},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateProductoView=Backbone.View.extend({el:"#productos-create",template:_.template(e("#add-producto-tpl").html()||""),events:{"ifChecked #producto_serie":"serieChange","ifChecked #producto_metrado":"metradoChange","submit #form-productos":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-producto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$inputSerie=this.$("#producto_serie"),this.$inputMetrado=this.$("#producto_metrado"),this.ready()},serieChange:function(t){var o=e(t.target).is(":checked");o&&this.$inputMetrado.iCheck("uncheck")},metradoChange:function(t){var o=e(t.target).is(":checked");o&&this.$inputSerie.iCheck("uncheck")},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("productos.show",{productos:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainProductosView=Backbone.View.extend({el:"#productos-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productosSearchTable=this.$("#productos-search-table"),this.$searchCod=this.$("#producto_codigo"),this.$searchName=this.$("#producto_nombre"),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(t){t.persistent=!0,t.producto_codigo=e.$searchCod.val(),t.producto_nombre=e.$searchName.val()}},columns:[{data:"producto_codigo",name:"producto_codigo"},{data:"producto_nombre",name:"producto_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("productos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("productos.show",{productos:i.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCod.val(""),this.$searchName.val(""),this.productosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadoItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-acabado-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AcabadosListView=Backbone.View.extend({el:"#browse-acabados-productop-list",events:{"click .item-productop6-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.AcabadoItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop6_productop=this.parameters.dataFilter.productop_id;var i=new app.Productop6Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-productosp6"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AreaItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-area-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.AreasListView=Backbone.View.extend({el:"#browse-areas-productop-list",events:{"click .item-productop3-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.AreaItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop3_productop=this.parameters.dataFilter.productop_id;var i=new app.Productop3Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-productosp3"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateProductopView=Backbone.View.extend({el:"#productosp-create",template:_.template(e("#add-productop-tpl").html()||""),events:{"ifChanged .change-productop-abierto-koi-component":"changedAbierto","ifChanged .change-productop-cerrado-koi-component":"changedCerrado","ifChanged .change-productop-3d-koi-component":"changed3d","change #productop_tipoproductop":"changeTypeProduct","click .submit-productosp":"submitProductop","submit #form-productosp":"onStore"},parameters:{},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();t.edit=!1,this.$el.html(this.template(t)),this.$inputAbierto=e("#productop_abierto"),this.$inputAbiertoAncho=e("#productop_ancho_med"),this.$inputAbiertoAlto=e("#productop_alto_med"),this.$inputCerrado=e("#productop_cerrado"),this.$inputCerradoAncho=e("#productop_c_med_ancho"),this.$inputCerradoAlto=e("#productop_c_med_alto"),this.$input3d=e("#productop_3d"),this.$input3dAncho=e("#productop_3d_ancho_med"),this.$input3dAlto=e("#productop_3d_alto_med"),this.$input3dProfundidad=e("#productop_3d_profundidad_med"),this.$form=this.$("#form-productosp"),this.$subtypeproduct=this.$("#productop_subtipoproductop"),this.spinner=this.$("#spinner-main"),this.ready()},submitProductop:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},changedAbierto:function(t){var o=e(t.target).is(":checked");o?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changedCerrado:function(t){var o=e(t.target).is(":checked");o?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changed3d:function(t){var o=e(t.target).is(":checked");o?(this.$inputAbierto.iCheck("uncheck"),this.$inputAbierto.iCheck("disable"),this.$inputAbiertoAncho.prop("disabled",!0).val(""),this.$inputAbiertoAlto.prop("disabled",!0).val(""),this.$inputCerrado.iCheck("uncheck"),this.$inputCerrado.iCheck("disable"),this.$inputCerradoAncho.prop("disabled",!0).val(""),this.$inputCerradoAlto.prop("disabled",!0).val("")):(this.$inputAbierto.iCheck("enable"),this.$inputAbiertoAncho.prop("disabled",!1),this.$inputAbiertoAlto.prop("disabled",!1),this.$inputCerrado.iCheck("enable"),this.$inputCerradoAncho.prop("disabled",!1),this.$inputCerradoAlto.prop("disabled",!1))},changeTypeProduct:function(o){var i=this;typeproduct=this.$(o.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?this.$subtypeproduct.empty().val(0):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$subtypeproduct.empty().val(0),i.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){i.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),Backbone.history.navigate(Route.route("productosp.edit",{productosp:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.EditProductopView=Backbone.View.extend({el:"#productosp-create",template:_.template(e("#add-productop-tpl").html()||""),events:{"ifChanged .change-productop-abierto-koi-component":"changedAbierto","ifChanged .change-productop-cerrado-koi-component":"changedCerrado","ifChanged .change-productop-3d-koi-component":"changed3d","change #productop_tipoproductop":"changeTypeProduct","click .submit-productosp":"submitProductop","submit #form-productosp":"onStore","submit #form-productosp2":"onStoreTip","submit #form-productosp3":"onStoreArea","submit #form-productosp4":"onStoreMaquina","submit #form-productosp5":"onStoreMaterial","submit #form-productosp6":"onStoreAcabado"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.tipsList=new app.TipsList,this.areasList=new app.AreasList,this.maquinasList=new app.MaquinasList,this.materialesList=new app.MaterialesList,this.acabadosList=new app.AcabadosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();t.edit=!0,this.$el.html(this.template(t)),this.$form=this.$("#form-productosp"),this.spinner=this.$("#spinner-main"),this.$inputAbierto=e("#productop_abierto"),this.$inputAbiertoAncho=e("#productop_ancho_med"),this.$inputAbiertoAlto=e("#productop_alto_med"),this.$inputCerrado=e("#productop_cerrado"),this.$inputCerradoAncho=e("#productop_c_med_ancho"),this.$inputCerradoAlto=e("#productop_c_med_alto"),this.$input3d=e("#productop_3d"),this.$input3dAncho=e("#productop_3d_ancho_med"),this.$input3dAlto=e("#productop_3d_alto_med"),this.$input3dProfundidad=e("#productop_3d_profundidad_med"),this.$subtypeproduct=this.$("#productop_subtipoproductop"),this.referenceViews(),this.ready()},referenceViews:function(){this.tipsListView=new app.TipsListView({collection:this.tipsList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-tips"),dataFilter:{productop_id:this.model.get("id")}}}),this.areasListView=new app.AreasListView({collection:this.areasList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-areas"),dataFilter:{productop_id:this.model.get("id")}}}),this.maquinasListView=new app.MaquinasListView({collection:this.maquinasList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-maquinas"),dataFilter:{productop_id:this.model.get("id")}}}),this.materialesListView=new app.MaterialesListView({collection:this.materialesList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-materiales"),dataFilter:{productop_id:this.model.get("id")}}}),this.acabadosListView=new app.AcabadosListView({collection:this.acabadosList,parameters:{edit:!0,wrapper:this.$("#wrapper-productop-acabados"),dataFilter:{productop_id:this.model.get("id")}}})},submitProductop:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},changedAbierto:function(t){var o=e(t.target).is(":checked");o?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),
this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changedCerrado:function(t){var o=e(t.target).is(":checked");o?(this.$input3d.iCheck("uncheck"),this.$input3d.iCheck("disable"),this.$input3dAncho.prop("disabled",!0).val(""),this.$input3dAlto.prop("disabled",!0).val(""),this.$input3dProfundidad.prop("disabled",!0).val("")):(this.$input3d.iCheck("enable"),this.$input3dAncho.prop("disabled",!1),this.$input3dAlto.prop("disabled",!1),this.$input3dProfundidad.prop("disabled",!1))},changed3d:function(t){var o=e(t.target).is(":checked");o?(this.$inputAbierto.iCheck("uncheck"),this.$inputAbierto.iCheck("disable"),this.$inputAbiertoAncho.prop("disabled",!0).val(""),this.$inputAbiertoAlto.prop("disabled",!0).val(""),this.$inputCerrado.iCheck("uncheck"),this.$inputCerrado.iCheck("disable"),this.$inputCerradoAncho.prop("disabled",!0).val(""),this.$inputCerradoAlto.prop("disabled",!0).val("")):(this.$inputAbierto.iCheck("enable"),this.$inputAbiertoAncho.prop("disabled",!1),this.$inputAbiertoAlto.prop("disabled",!1),this.$inputCerrado.iCheck("enable"),this.$inputCerradoAncho.prop("disabled",!1),this.$inputCerradoAlto.prop("disabled",!1))},changeTypeProduct:function(o){var i=this;typeproduct=this.$(o.currentTarget).val(),"undefined"==typeof typeproduct||_.isUndefined(typeproduct)||_.isNull(typeproduct)||""==typeproduct?this.$subtypeproduct.empty().val(0):e.ajax({url:t.Misc.urlFull(Route.route("subtipoproductosp.index",{typeproduct:typeproduct})),type:"GET",beforeSend:function(){t.Misc.setSpinner(i.spinner)}}).done(function(e){t.Misc.removeSpinner(i.spinner),i.$subtypeproduct.empty().val(0),i.$subtypeproduct.append("<option value=></option>"),_.each(e,function(e){i.$subtypeproduct.append("<option value="+e.id+">"+e.subtipoproductop_nombre+"</option>")})}).fail(function(e,o,r){t.Misc.removeSpinner(i.spinner),alertify.error(r)})},onStoreTip:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.tipsList.trigger("store",o)}},onStoreArea:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.areasList.trigger("store",o)}},onStoreMaquina:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.maquinasList.trigger("store",o)}},onStoreMaterial:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.materialesList.trigger("store",o)}},onStoreAcabado:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.acabadosList.trigger("store",o)}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("productosp.show",{productosp:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainProductospView=Backbone.View.extend({el:"#productosp-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productospSearchTable=this.$("#productosp-search-table"),this.$searchCod=this.$("#productop_codigo"),this.$searchName=this.$("#productop_nombre"),this.productospSearchTable=this.$productospSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productosp.index")),data:function(t){t.persistent=!0,t.datatables=!0,t.productop_codigo=e.$searchCod.val(),t.productop_nombre=e.$searchName.val()}},columns:[{data:"productop_codigo",name:"productop_codigo"},{data:"productop_nombre",name:"productop_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("productosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("productosp.show",{productosp:i.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productospSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCod.val(""),this.$searchName.val(""),this.productospSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinaItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-maquina-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaquinasListView=Backbone.View.extend({el:"#browse-maquinas-productop-list",events:{"click .item-productop4-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.MaquinaItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop4_productop=this.parameters.dataFilter.productop_id;var i=new app.Productop4Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-productosp4"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialesListView=Backbone.View.extend({el:"#browse-materiales-productop-list",events:{"click .item-productop5-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.MaterialItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop5_productop=this.parameters.dataFilter.productop_id;var i=new app.Productop5Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-productosp5"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MaterialItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-material-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowProductopView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.model.id!=i&&(this.tipsList=new app.TipsList,this.areasList=new app.AreasList,this.maquinasList=new app.MaquinasList,this.materialesList=new app.MaterialesList,this.acabadosList=new app.AcabadosList,this.referenceViews())},referenceViews:function(){this.tipsListView=new app.TipsListView({collection:this.tipsList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-tips"),dataFilter:{productop_id:this.model.get("id")}}}),this.areasListView=new app.AreasListView({collection:this.areasList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-areas"),dataFilter:{productop_id:this.model.get("id")}}}),this.maquinasListView=new app.MaquinasListView({collection:this.maquinasList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-maquinas"),dataFilter:{productop_id:this.model.get("id")}}}),this.materialesListView=new app.MaterialesListView({collection:this.materialesList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-materiales"),dataFilter:{productop_id:this.model.get("id")}}}),this.acabadosListView=new app.AcabadosListView({collection:this.acabadosList,parameters:{edit:!1,wrapper:this.$("#wrapper-productop-acabados"),dataFilter:{productop_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.TipItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#productop-tip-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.TipsListView=Backbone.View.extend({el:"#browse-tips-productop-list",events:{"click .item-productop2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.parameters.wrapper,this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{productop_id:this.parameters.dataFilter.productop_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.TipItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.productop2_productop=this.parameters.dataFilter.productop_id;var i=new app.Productop2Model;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(o,i,r){if(t.Misc.removeSpinner(this.parameters.wrapper),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.clearForm(e("#form-productosp2"))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreatePuntoventaView=Backbone.View.extend({el:"#puntosventa-create",template:_.template(e("#add-puntoventa-tpl").html()||""),events:{"submit #form-puntosventa":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-puntosventa"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.show",{puntosventa:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainPuntoventaView=Backbone.View.extend({el:"#puntosventa-main",initialize:function(){this.$puntosventaSearchTable=this.$("#puntosventa-search-table"),this.$puntosventaSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("puntosventa.index")),columns:[{data:"puntoventa_nombre",name:"puntoventa_nombre"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"},{data:"puntoventa_resolucion_dian",name:"puntoventa_resolucion_dian"},{data:"puntoventa_numero",name:"puntoventa_numero"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo punto de venta',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.create")))}}],columnDefs:[{targets:0,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("puntosventa.show",{puntosventa:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore"},initialize:function(){this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);Backbone.history.navigate(Route.route("roles.edit",{roles:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreatePermisoRolView=Backbone.View.extend({el:"#modal-permisorol-component",template:_.template(e("#edit-permissions-tpl").html()||""),events:{"submit #form-permisorol-component":"onStore"},parameters:{permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$el.find(".inner-title-modal").empty().html(this.model.get("display_name")),this.$wraperContent=this.$el.find(".modal-body"),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();return e.permissions=this.parameters.permissions,this.$el.find(".content-modal").empty().html(this.template(e)),this.ready(),this.$el.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.role_id=this.parameters.dataFilter.role_id,this.model.save(o,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.collection.fetch({data:this.parameters.dataFilter,reset:!0}),this.$el.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.EditRolView=Backbone.View.extend({el:"#rol-create",template:_.template(e("#add-rol-tpl").html()||""),events:{"submit #form-roles":"onStore","click .toggle-children":"toggleChildren","click .btn-set-permission":"changePermissions"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.stuffToDo={},this.stuffToVw={},this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$el.html(this.template(e)),this.spinner=this.$("#spinner-main")},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},toggleChildren:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),r=e(t.currentTarget).attr("data-nivel1"),n=e(t.currentTarget).attr("data-nivel2");this.stuffToVw[o]instanceof Backbone.View==0&&(this.stuffToDo[o]=new app.PermisosRolList,this.stuffToVw[o]=new app.PermisosRolListView({el:"#wrapper-permisions-"+o,collection:this.stuffToDo[o],parameters:{wrapper:this.$("#wrapper-father-"+i),permissions:this.model.get("permissions"),father:o,dataFilter:{role_id:this.model.get("id"),nivel1:r,nivel2:n}}}))},changePermissions:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=e(t.currentTarget).attr("data-father"),r=this.stuffToDo[i],n=r.get(o);this.createPermisoRolView instanceof Backbone.View&&(this.createPermisoRolView.stopListening(),this.createPermisoRolView.undelegateEvents()),this.createPermisoRolView=new app.CreatePermisoRolView({model:n,collection:r,parameters:{permissions:this.model.get("permissions"),dataFilter:{role_id:this.model.get("id"),nivel1:n.get("nivel1"),nivel2:n.get("nivel2")}}}),this.createPermisoRolView.render()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.spinner)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.spinner),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("roles.edit",{roles:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainRolesView=Backbone.View.extend({el:"#roles-main",initialize:function(){this.$rolesSearchTable=this.$("#roles-search-table"),this.$rolesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("roles.index")),columns:[{data:"display_name",name:"display_name"},{data:"name",name:"name"},{data:"description",name:"description"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Rol',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("roles.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("roles.show",{roles:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.PermisosRolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#permissions-rol-list-tpl").html()||""),parameters:{father:null,permissions:[],edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,e.father=this.parameters.father,e.permissions=this.parameters.permissions,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.PermisosRolListView=Backbone.View.extend({events:{},parameters:{wrapper:null,father:null,edit:!1,permissions:[],dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:this.parameters.dataFilter,reset:!0})},render:function(){},addOne:function(e){var t=new app.PermisosRolItemView({model:e,parameters:{father:this.parameters.father,permissions:this.parameters.permissions,edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.$el.find("tbody").html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateSubGrupoView=Backbone.View.extend({el:"#subgrupos-create",template:_.template(e("#add-subgrupo-tpl").html()||""),events:{"submit #form-subgrupos":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subgrupo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("subgrupos.show",{subgrupos:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainSubGruposView=Backbone.View.extend({el:"#subgrupos-main",initialize:function(){this.$subgruposSearchTable=this.$("#subgrupos-search-table"),this.$subgruposSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("subgrupos.index")),columns:[{data:"subgrupo_codigo",name:"subgrupo_codigo"},{data:"subgrupo_nombre",name:"subgrupo_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo subgrupo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("subgrupos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("subgrupos.show",{subgrupos:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateSubtipoProductopView=Backbone.View.extend({el:"#subtipoproductop-create",template:_.template(e("#add-subtipoproductop-tpl").html()||""),events:{"submit #form-subtipoproductop":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subtipoproductop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("subtipoproductosp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainSubtipoProductospView=Backbone.View.extend({el:"#subtipoproductosp-main",initialize:function(){this.$subtipoproductospSearchTable=this.$("#subtipoproductosp-search-table"),this.$subtipoproductospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("subtipoproductosp.index")),data:function(e){e.datatables=!0}},columns:[{data:"id",name:"id"},{data:"subtipoproductop_nombre",name:"subtipoproductop_nombre"},{data:"tipoproductop_nombre",name:"tipoproductop_nombre"},{data:"subtipoproductop_activo",name:"subtipoproductop_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Subtipo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("subtipoproductosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("subtipoproductosp.show",{subtipoproductosp:i.id}))+'">'+e+"</a>"}},{targets:[3],width:"10%",render:function(e,t,o,i){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateSucursalView=Backbone.View.extend({el:"#sucursales-create",template:_.template(e("#add-sucursal-tpl").html()||""),events:{"submit #form-sucursales":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-sucursal"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.show",{sucursales:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainSucursalesView=Backbone.View.extend({el:"#sucursales-main",initialize:function(){this.$sucursalesSearchTable=this.$("#sucursales-search-table"),this.$sucursalesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("sucursales.index")),columns:[{data:"sucursal_nombre",name:"sucursal_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva sucursal',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.create")))}}],columnDefs:[{targets:0,render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("sucursales.show",{sucursales:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContactItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contact-item-list-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ContactsListView=Backbone.View.extend({el:"#browse-contact-list",events:{"click .btn-edit-tcontacto":"editOne"},parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.on("createOne",this.createOne,this),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContactItemView({model:e});this.$el.append(t.render().el)},addAll:function(){
this.collection.forEach(this.addOne,this)},editOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:i}),this.createTContactoView.render()},createOne:function(e,t,o,i){var r=this;this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:new app.ContactoModel({tcontacto_direccion:t,tcontacto_direccion_nomenclatura:o,tcontacto_municipio:i}),collection:r.collection,parameters:{tercero_id:e}}),this.createTContactoView.render()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTerceroView=Backbone.View.extend({el:"#tercero-create",template:_.template(e("#add-tercero-tpl").html()||""),events:{"submit #form-tercero":"onStore","submit #form-item-roles":"onStoreRol","submit #form-changed-password":"onStorePassword","ifChanged .change_employee":"changedEmployee","ifChanged #tercero_tecnico":"changedTechnical","ifChanged #tercero_coordinador":"changedCoordinador","click .btn-add-tcontacto":"addContacto"},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Tercero guardado con exito!",this.$wraperForm=this.$("#render-form-tercero"),this.model.id!=i&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-tercero"),this.$formAccounting=this.$("#form-accounting"),this.$formEmployee=this.$("#form-employee"),this.$checkEmployee=this.$("#tercero_empleado"),this.$checkInternal=this.$("#tercero_interno"),this.$coordinador_por=this.$("#tercero_coordinador_por"),this.$username=this.$("#username"),this.$password=this.$("#password"),this.$password_confirmation=this.$("#password_confirmation"),this.$wrapperEmployes=this.$("#wrapper-empleados"),this.$wrapperCoordinador=this.$("#wrapper-coordinador"),this.model.id!=i&&this.referenceViews(),this.ready()},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{edit:!0,wrapper:this.$("#wrapper-tcontacto"),dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!0,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})},onStore:function(o){if(!o.isDefaultPrevented()){o.preventDefault();var i=e.extend({},t.Misc.formToJson(o.target),t.Misc.formToJson(this.$formAccounting),t.Misc.formToJson(this.$formEmployee));this.model.save(i,{patch:!0,silent:!0})}},onStoreRol:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.rolList.trigger("store",o)}},addContacto:function(){this.contactsListView.trigger("createOne",this.model.get("id"),this.model.get("tercero_direccion"),this.model.get("tercero_dir_nomenclatura"),this.model.get("tercero_municipio"))},changedTechnical:function(t){var o=e(t.target).is(":checked");o?this.$wrapperCoordinador.removeClass("hide"):this.$wrapperCoordinador.addClass("hide")},changedCoordinador:function(t){var o=e(t.target).is(":checked"),i=this.model.get("tercero_nombre1")+" "+this.model.get("tercero_nombre2")+" "+this.model.get("tercero_apellido1")+" "+this.model.get("tercero_apellido2"),r=[{id:this.model.get("id"),text:i}];o?(this.$coordinador_por.select2({data:r}).trigger("change"),this.$coordinador_por.select2({language:"es",placeholder:"Seleccione",allowClear:!1})):this.$coordinador_por.find("option[value="+this.model.get("id")+"]").remove()},changedEmployee:function(e){this.$checkInternal.is(":checked")||this.$checkEmployee.is(":checked")?this.$wrapperEmployes.removeClass("hide"):this.$wrapperEmployes.addClass("hide")},onStorePassword:function(o){var i=this;if(!o.isDefaultPrevented()){o.preventDefault();var r=t.Misc.formToJson(o.target);r.id=this.model.get("id"),e.ajax({type:"POST",url:t.Misc.urlFull(Route.route("terceros.setpassword")),data:r,beforeSend:function(){t.Misc.setSpinner(i.$("#wrapper-password"))}}).done(function(e){if(t.Misc.removeSpinner(i.el),!_.isUndefined(e.success)){var o=e.success?"":e.errors;if(_.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(o);alertify.success(e.message)}}).fail(function(e,o,r){t.Misc.removeSpinner(i.$("#wrapper-password")),alertify.error(r)})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),Backbone.history.navigate(Route.route("terceros.edit",{terceros:o.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTContactoView=Backbone.View.extend({el:"body",template:_.template(e("#add-contacto-tpl").html()||""),events:{"submit #form-tcontacto-component":"onStore"},parameters:{tercero_id:null},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.$modalComponent=this.$("#modal-tcontacto-component")},render:function(){var e=this.model.toJSON();return this.$modalComponent.find(".content-modal").html("").html(this.template(e)),this.$wraperContent=this.$("#content-tcontacto-component").find(".modal-body"),this.ready(),this.$modalComponent.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);_.isUndefined(this.parameters.tercero_id)||_.isNull(this.parameters.tercero_id)||""==this.parameters.tercero_id||(o.tcontacto_tercero=this.parameters.tercero_id),this.model.save(o,{patch:!0})}},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);this.collection instanceof Backbone.Collection&&this.collection.add(e),this.$modalComponent.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.Factura4ListView=Backbone.View.extend({el:"#browse-factura4-list",parameters:{edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$valor=this.$(".total"),this.$totalCount=this.$("#total_count"),this.$porvencer=this.$("#porvencer"),this.$porvencer_saldo=this.$("#porvencer_saldo"),this.$menor30=this.$("#menor30"),this.$menor30_saldo=this.$("#menor30_saldo"),this.$menor60=this.$("#menor60"),this.$menor60_saldo=this.$("#menor60_saldo"),this.$menor90=this.$("#menor90"),this.$menor90_saldo=this.$("#menor90_saldo"),this.$menor180=this.$("#menor180"),this.$menor180_saldo=this.$("#menor180_saldo"),this.$menor360=this.$("#menor360"),this.$menor360_saldo=this.$("#menor360_saldo"),this.$mayor360=this.$("#mayor360"),this.$mayor360_saldo=this.$("#mayor360_saldo"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero:this.parameters.dataFilter.tercero,factura1:this.parameters.dataFilter.factura1},reset:!0})},render:function(){},addOne:function(e){var t=new app.Factura4ItemView({model:e,parameters:{edit:this.parameters.edit,call:this.parameters.call,template:this.parameters.template}});e.view=t,this.$el.prepend(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},totalize:function(){var e=this.collection.totalize();this.$valor.length&&this.$valor.html(t.Misc.currency(e.valor)),this.$porvencer.length&&(this.$totalCount.html(e.tcount),this.$porvencer.html(e.porvencer.count),this.$porvencer_saldo.html(t.Misc.currency(e.porvencer.saldo))),this.$menor30.length&&(this.$menor30.html(e.menor30.count),this.$menor30_saldo.html(t.Misc.currency(e.menor30.saldo))),this.$menor60.length&&(this.$menor60.html(e.menor60.count),this.$menor60_saldo.html(t.Misc.currency(e.menor60.saldo))),this.$menor90.length&&(this.$menor90.html(e.menor90.count),this.$menor90_saldo.html(t.Misc.currency(e.menor90.saldo))),this.$menor180.length&&(this.$menor180.html(e.menor180.count),this.$menor180_saldo.html(t.Misc.currency(e.menor180.saldo))),this.$menor360.length&&(this.$menor360.html(e.menor360.count),this.$menor360_saldo.html(t.Misc.currency(e.menor360.saldo))),this.$mayor360.length&&(this.$mayor360.html(e.mayor360.count),this.$mayor360_saldo.html(t.Misc.currency(e.mayor360.saldo)))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.Factura4ItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-tercero-cartera-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,e.days<=0&&e.days>=-30?this.$el.addClass("bg-menor30"):e.days<=-31&&e.days>=-60?this.$el.addClass("bg-menor60"):e.days<=-61&&e.days>=-90?this.$el.addClass("bg-menor90"):e.days<=-91&&e.days>=-180?this.$el.addClass("bg-menor180"):e.days<=-181&&e.days>=-360?this.$el.addClass("bg-menor360"):e.days<-360&&this.$el.addClass("bg-mayor360"),this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.FacturaptListView=Backbone.View.extend({el:"#browse-facturap-list",events:{},parameters:{dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.FacturaptItemView({model:e});this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.FacturaptItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#facturapt-item-list-tpl").html()||""),events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTerceroView=Backbone.View.extend({el:"#terceros-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$tercerosSearchTable=this.$("#terceros-search-table"),this.$searchNit=this.$("#tercero_nit"),this.$searchName=this.$("#tercero_nombre"),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(t){t.persistent=!0,t.tercero_nit=e.$searchNit.val(),t.tercero_nombre=e.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("terceros.show",{terceros:i.id}))+'">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1}]})},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.RolesListView=Backbone.View.extend({el:"#browse-roles-list",events:{"click .item-roles-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.RolItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this;t.Misc.setSpinner(this.parameters.wrapper),e.user_id=this.parameters.dataFilter.tercero_id;var i=new app.UsuarioRolModel;i.save(e,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(o){o.preventDefault();var i=e(o.currentTarget).attr("data-resource"),r=this.collection.get(i),n=this;r instanceof Backbone.Model&&r.destroy({data:{user_id:this.parameters.dataFilter.tercero_id},processData:!0,success:function(e,o){if(!_.isUndefined(o.success)){if(t.Misc.removeSpinner(n.parameters.wrapper),!o.success)return void alertify.error(o.errors);e.view.remove()}}})},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.RolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#roles-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowTerceroView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.model.id!=i&&(this.contactsList=new app.ContactsList,this.facturaptList=new app.FacturaptList,this.rolList=new app.RolList,this.detalleFacturaList=new app.DetalleFactura4List,this.referenceViews())},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!1,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}}),this.facturaptListView=new app.FacturaptListView({collection:this.facturaptList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.factura4ListView=new app.Factura4ListView({collection:this.detalleFacturaList,parameters:{edit:!1,dataFilter:{tercero:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTipoProductopView=Backbone.View.extend({el:"#tipoproductop-create",template:_.template(e("#add-tipoproductop-tpl").html()||""),events:{"submit #form-tipoproductop":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipoproductop"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("tipoproductosp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTipoProductospView=Backbone.View.extend({el:"#tipoproductosp-main",initialize:function(){this.$tipoproductospSearchTable=this.$("#tipoproductosp-search-table"),this.$tipoproductospSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tipoproductosp.index")),columns:[{data:"id",name:"id"},{data:"tipoproductop_nombre",name:"tipoproductop_nombre"},{data:"tipoproductop_activo",name:"tipoproductop_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo tipo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("tipoproductosp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("tipoproductosp.show",{tipoproductosp:i.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,o,i){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTipoMaterialpView=Backbone.View.extend({el:"#tiposmaterialp-create",template:_.template(e("#add-tipomaterialp-tpl").html()||""),events:{"submit #form-tipomaterialp":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipomaterialp"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.clearForm(this.$("#form-tipomaterialp")),t.Misc.redirect(t.Misc.urlFull(Route.route("tiposmaterialp.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTiposMaterialpView=Backbone.View.extend({el:"#tiposmaterialp-main",initialize:function(){this.$tiposmaterialpSearchTable=this.$("#tiposmaterialp-search-table"),this.$tiposmaterialpSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tiposmaterialp.index")),columns:[{data:"id",name:"id"},{data:"tipomaterial_nombre",name:"tipomaterial_nombre"},{data:"tipomaterial_activo",name:"tipomaterial_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva tipo',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("tiposmaterialp.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("tiposmaterialp.show",{tiposmaterialp:i.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,o,i){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateTrasladoView=Backbone.View.extend({el:"#traslados-create",template:_.template(e("#add-traslado-tpl").html()||""),events:{"click .submit-traslado":"submitTraslado","submit #form-item-traslado":"onStoreItem","submit #form-traslado":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-traslado"),this.trasladoProductosList=new app.TrasladoProductosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-traslado"),this.$formItem=this.$("#form-item-traslado"),this.referenceViews()},referenceViews:function(){this.productosListView=new app.TrasladoProductosListView({collection:this.trasladoProductosList,parameters:{wrapper:this.el,edit:!0}})},submitTraslado:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);o.detalle=this.trasladoProductosList.toJSON(),this.model.save(o,{patch:!0,silent:!0})}},onStoreItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.trasladoProductosList.trigger("store",this.$(e.target)))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("traslados.show",{traslados:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainTrasladosView=Backbone.View.extend({el:"#traslados-main",initialize:function(){this.$trasladosSearchTable=this.$("#traslados-search-table"),this.$trasladosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("traslados.index")),columns:[{data:"traslado1_numero",name:"traslado1_numero"},{data:"sucursa_origen",name:"sucursa_origen"},{data:"sucursa_destino",name:"sucursa_destino"},{data:"traslado1_fecha",name:"traslado1_fecha"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo traslado',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("traslados.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("traslados.show",{traslados:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.ShowTrasladoView=Backbone.View.extend({el:"#traslados-show",initialize:function(){this.model.id!=i&&(this.trasladoProductosList=new app.TrasladoProductosList,this.referenceViews())},referenceViews:function(){this.productosListView=new app.TrasladoProductosListView({collection:this.trasladoProductosList,parameters:{wrapper:this.el,edit:!1,dataFilter:{traslado:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.TrasladoProductosListView=Backbone.View.extend({el:"#browse-detalle-traslado-list",events:{"click .item-traslado2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$costoTotal=this.$("#total-costo"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.traslado)||_.isNull(this.parameters.dataFilter.traslado)||(this.confCollection.data.traslado=this.parameters.dataFilter.traslado,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.TrasladoProductosItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var o=this,i=t.Misc.formToJson(e);t.Misc.setSpinner(this.parameters.wrapper);var r=new app.Traslado2Model;r.save(i,{success:function(e,i){if(!_.isUndefined(i.success)){t.Misc.removeSpinner(o.parameters.wrapper);var r=i.success?"":i.errors;if(_.isObject(i.errors)&&(r=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(r);o.collection.add(e)}},error:function(e,i){t.Misc.removeSpinner(o.parameters.wrapper),alertify.error(i.statusText)}})},removeOne:function(t){t.preventDefault();var o=e(t.currentTarget).attr("data-resource"),i=this.collection.get(o);i instanceof Backbone.Model&&(i.view.remove(),this.collection.remove(i))},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,o,i){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.TrasladoProductosItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-traslado2-item-tpl").html()||""),events:{},parameters:{edit:!1},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.CreateUnidadView=Backbone.View.extend({el:"#unidades-create",template:_.template(e("#add-unidad-tpl").html()||""),events:{"submit #form-unidades":"onStore"},parameters:{},initialize:function(t){t!==i&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-unidad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var o=t.Misc.formToJson(e.target);this.model.save(o,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,o,i){t.Misc.setSpinner(this.el)},responseServer:function(e,o,i){if(t.Misc.removeSpinner(this.el),!_.isUndefined(o.success)){var r=o.success?"":o.errors;if(_.isObject(o.errors)&&(r=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(r);t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.show",{unidades:o.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,o,i){app.MainUnidadesView=Backbone.View.extend({el:"#unidades-main",initialize:function(){this.$unidadesSearchTable=this.$("#unidades-search-table"),this.$unidadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("unidades.index")),columns:[{data:"unidadmedida_sigla",name:"unidadmedida_sigla"},{data:"unidadmedida_nombre",name:"unidadmedida_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo unidad',className:"btn-sm",action:function(e,o,i,r){t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,o,i,r){return'<a href="'+t.Misc.urlFull(Route.route("unidades.show",{unidades:i.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),function(e,t,o,i){var r=function(e){};r.prototype={initialize:function(){},formToJson:function(t){var o={},r=[];return r=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(r,function(){o[this.name]!==i?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(o.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),o.url+e},parseErrors:function(t){var o="";if(_.isObject(t)){var i="<ul>";e.each(t,function(e,t){i+="<li>"+t[0]+"</li>"}),i+="</ul>",o=i}return o},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var o=e(t).find(".overlay");o.length&&o.remove()},clearForm:function(t){t.find(":input").each(function(){if(field_type=e(this),""!=field_type.attr("data-currency")&&""!=field_type.attr("data-currency-negative")||field_type.val(""),field_type.attr("checked")?field_type.iCheck("check"):field_type.iCheck("uncheck"),field_type.hasClass("select2-default-clear")||field_type.hasClass("select2-default")){var t=field_type.attr("id");field_type.val("").trigger("change"),e("#select2-"+t+"-container").removeAttr("title")}else field_type.hasClass("choice-select-autocomplete")&&(field_type.empty(),id=field_type.attr("id"),e("#select2-"+id+"-container").removeAttr("title"))}),t.trigger("reset")},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",
sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(e){e!==i&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,o){alertify.success(e),setTimeout(function(){t.Misc.redirect(o)},500)},currency:function(e){return accounting.formatMoney(e,"",2,".",",")},evaluateActionsAccount:function(o){o||(o={});var i={callback:null,wrap:"body",data:null},r={};r=e.extend({},i,o),e.ajax({url:t.Misc.urlFull(Route.route("asientos.detalle.evaluate")),type:"POST",data:r.data,beforeSend:function(){t.Misc.setSpinner(r.wrap)}}).done(function(e){t.Misc.removeSpinner(r.wrap);var o=e.success?"":e.errors;return _.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(r.callback).slice(8,-1)&&r.callback(e.actions)):void alertify.error(o)}).fail(function(e,o,i){t.Misc.removeSpinner(r.wrap),alertify.error(i)})},evaluateFacturap:function(o){o||(o={});var i={callback:null,wrap:"body",facturap:null,tercero:null,naturaleza:null},r={};r=e.extend({},i,o),e.ajax({url:t.Misc.urlFull(Route.route("facturap.search")),type:"GET",data:{facturap1_factura:r.facturap,tercero_nit:r.tercero},beforeSend:function(){t.Misc.setSpinner(r.wrap)}}).done(function(e){t.Misc.removeSpinner(r.wrap);var o={actions:!1};e.success?(o.actions=!0,o.facturap=e.id,o.action="quota"):"C"==r.naturaleza?(o.actions=!0,o.action="add"):"D"==r.naturaleza&&(o.message="Para realizar movimientos de naturaleza débito de ingresar un numero de factura existente."),"Function"==={}.toString.call(r.callback).slice(8,-1)&&r.callback(o)}).fail(function(e,o,i){t.Misc.removeSpinner(r.wrap),alertify.error(i)})},cloneOrden:function(o){o||(o={});var i={callback:null,wrap:"body",data:null},r={};r=e.extend({},i,o),e.ajax({url:t.Misc.urlFull(Route.route("ordenes.clonar",{ordenes:r.data.orden_codigo})),type:"GET",beforeSend:function(){t.Misc.setSpinner(r.wrap)}}).done(function(e){t.Misc.removeSpinner(r.wrap);var o=e.success?"":e.errors;return _.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(r.callback).slice(8,-1)&&r.callback(e)):void alertify.error(o)}).fail(function(e,o,i){t.Misc.removeSpinner(r.wrap),alertify.error(i)})},cloneCotizacion:function(o){o||(o={});var i={callback:null,wrap:"body",data:null},r={};r=e.extend({},i,o),e.ajax({url:t.Misc.urlFull(Route.route("cotizaciones.clonar",{cotizaciones:r.data.cotizacion_codigo})),type:"GET",beforeSend:function(){t.Misc.setSpinner(r.wrap)}}).done(function(e){t.Misc.removeSpinner(r.wrap);var o=e.success?"":e.errors;return _.isObject(e.errors)&&(o=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(r.callback).slice(8,-1)&&r.callback(e)):void alertify.error(o)}).fail(function(e,o,i){t.Misc.removeSpinner(r.wrap),alertify.error(i)})}},t.Misc=new r,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["POST"],uri:"auth/login",name:"auth.login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"auth/logout",name:"auth.logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"auth/integrate",name:"auth.integrate",action:"AppHttpControllersAuthAuthController@integrate"},{host:null,methods:["GET","HEAD"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/dv",name:"terceros.dv",action:"AppHttpControllersAdminTerceroController@dv"},{host:null,methods:["GET","HEAD"],uri:"terceros/rcree",name:"terceros.rcree",action:"AppHttpControllersAdminTerceroController@rcree"},{host:null,methods:["GET","HEAD"],uri:"terceros/search",name:"terceros.search",action:"AppHttpControllersAdminTerceroController@search"},{host:null,methods:["GET","HEAD"],uri:"terceros/facturap",name:"terceros.facturap",action:"AppHttpControllersAdminTerceroController@facturap"},{host:null,methods:["POST"],uri:"terceros/setpassword",name:"terceros.setpassword",action:"AppHttpControllersAdminTerceroController@setpassword"},{host:null,methods:["GET","HEAD"],uri:"terceros/contactos",name:"terceros.contactos.index",action:"AppHttpControllersAdminContactoController@index"},{host:null,methods:["POST"],uri:"terceros/contactos",name:"terceros.contactos.store",action:"AppHttpControllersAdminContactoController@store"},{host:null,methods:["PUT"],uri:"terceros/contactos/{contactos}",name:"terceros.contactos.update",action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["PATCH"],uri:"terceros/contactos/{contactos}",name:null,action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros/roles",name:"terceros.roles.index",action:"AppHttpControllersAdminUsuarioRolController@index"},{host:null,methods:["POST"],uri:"terceros/roles",name:"terceros.roles.store",action:"AppHttpControllersAdminUsuarioRolController@store"},{host:null,methods:["DELETE"],uri:"terceros/roles/{roles}",name:"terceros.roles.destroy",action:"AppHttpControllersAdminUsuarioRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"terceros",name:"terceros.index",action:"AppHttpControllersAdminTerceroController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/create",name:"terceros.create",action:"AppHttpControllersAdminTerceroController@create"},{host:null,methods:["POST"],uri:"terceros",name:"terceros.store",action:"AppHttpControllersAdminTerceroController@store"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}",name:"terceros.show",action:"AppHttpControllersAdminTerceroController@show"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}/edit",name:"terceros.edit",action:"AppHttpControllersAdminTerceroController@edit"},{host:null,methods:["PUT"],uri:"terceros/{terceros}",name:"terceros.update",action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["PATCH"],uri:"terceros/{terceros}",name:null,action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["GET","HEAD"],uri:"empresa",name:"empresa.index",action:"AppHttpControllersAdminEmpresaController@index"},{host:null,methods:["PUT"],uri:"empresa/{empresa}",name:"empresa.update",action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["PATCH"],uri:"empresa/{empresa}",name:null,action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["GET","HEAD"],uri:"municipios",name:"municipios.index",action:"AppHttpControllersAdminMunicipioController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades",name:"actividades.index",action:"AppHttpControllersAdminActividadController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades/create",name:"actividades.create",action:"AppHttpControllersAdminActividadController@create"},{host:null,methods:["POST"],uri:"actividades",name:"actividades.store",action:"AppHttpControllersAdminActividadController@store"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}",name:"actividades.show",action:"AppHttpControllersAdminActividadController@show"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}/edit",name:"actividades.edit",action:"AppHttpControllersAdminActividadController@edit"},{host:null,methods:["PUT"],uri:"actividades/{actividades}",name:"actividades.update",action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["PATCH"],uri:"actividades/{actividades}",name:null,action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["GET","HEAD"],uri:"departamentos",name:"departamentos.index",action:"AppHttpControllersAdminDepartamentoController@index"},{host:null,methods:["GET","HEAD"],uri:"departamentos/{departamentos}",name:"departamentos.show",action:"AppHttpControllersAdminDepartamentoController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales",name:"sucursales.index",action:"AppHttpControllersAdminSucursalController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales/create",name:"sucursales.create",action:"AppHttpControllersAdminSucursalController@create"},{host:null,methods:["POST"],uri:"sucursales",name:"sucursales.store",action:"AppHttpControllersAdminSucursalController@store"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}",name:"sucursales.show",action:"AppHttpControllersAdminSucursalController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}/edit",name:"sucursales.edit",action:"AppHttpControllersAdminSucursalController@edit"},{host:null,methods:["PUT"],uri:"sucursales/{sucursales}",name:"sucursales.update",action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["PATCH"],uri:"sucursales/{sucursales}",name:null,action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["GET","HEAD"],uri:"puntosventa",name:"puntosventa.index",action:"AppHttpControllersAdminPuntoVentaController@index"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/create",name:"puntosventa.create",action:"AppHttpControllersAdminPuntoVentaController@create"},{host:null,methods:["POST"],uri:"puntosventa",name:"puntosventa.store",action:"AppHttpControllersAdminPuntoVentaController@store"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}",name:"puntosventa.show",action:"AppHttpControllersAdminPuntoVentaController@show"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}/edit",name:"puntosventa.edit",action:"AppHttpControllersAdminPuntoVentaController@edit"},{host:null,methods:["PUT"],uri:"puntosventa/{puntosventa}",name:"puntosventa.update",action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["PATCH"],uri:"puntosventa/{puntosventa}",name:null,action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["GET","HEAD"],uri:"roles/permisos",name:"roles.permisos.index",action:"AppHttpControllersAdminPermisoRolController@index"},{host:null,methods:["PUT"],uri:"roles/permisos/{permisos}",name:"roles.permisos.update",action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["PATCH"],uri:"roles/permisos/{permisos}",name:null,action:"AppHttpControllersAdminPermisoRolController@update"},{host:null,methods:["DELETE"],uri:"roles/permisos/{permisos}",name:"roles.permisos.destroy",action:"AppHttpControllersAdminPermisoRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"roles",name:"roles.index",action:"AppHttpControllersAdminRolController@index"},{host:null,methods:["GET","HEAD"],uri:"roles/create",name:"roles.create",action:"AppHttpControllersAdminRolController@create"},{host:null,methods:["POST"],uri:"roles",name:"roles.store",action:"AppHttpControllersAdminRolController@store"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}",name:"roles.show",action:"AppHttpControllersAdminRolController@show"},{host:null,methods:["GET","HEAD"],uri:"roles/{roles}/edit",name:"roles.edit",action:"AppHttpControllersAdminRolController@edit"},{host:null,methods:["PUT"],uri:"roles/{roles}",name:"roles.update",action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["PATCH"],uri:"roles/{roles}",name:null,action:"AppHttpControllersAdminRolController@update"},{host:null,methods:["GET","HEAD"],uri:"permisos",name:"permisos.index",action:"AppHttpControllersAdminPermisoController@index"},{host:null,methods:["GET","HEAD"],uri:"modulos",name:"modulos.index",action:"AppHttpControllersAdminModuloController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/nivel",name:"plancuentas.nivel",action:"AppHttpControllersAccountingPlanCuentasController@nivel"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/search",name:"plancuentas.search",action:"AppHttpControllersAccountingPlanCuentasController@search"},{host:null,methods:["GET","HEAD"],uri:"plancuentas",name:"plancuentas.index",action:"AppHttpControllersAccountingPlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/create",name:"plancuentas.create",action:"AppHttpControllersAccountingPlanCuentasController@create"},{host:null,methods:["POST"],uri:"plancuentas",name:"plancuentas.store",action:"AppHttpControllersAccountingPlanCuentasController@store"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}",name:"plancuentas.show",action:"AppHttpControllersAccountingPlanCuentasController@show"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}/edit",name:"plancuentas.edit",action:"AppHttpControllersAccountingPlanCuentasController@edit"},{host:null,methods:["PUT"],uri:"plancuentas/{plancuentas}",name:"plancuentas.update",action:"AppHttpControllersAccountingPlanCuentasController@update"},{host:null,methods:["PATCH"],uri:"plancuentas/{plancuentas}",name:null,action:"AppHttpControllersAccountingPlanCuentasController@update"},{host:null,methods:["GET","HEAD"],uri:"documentos/filter",name:"documentos.filter",action:"AppHttpControllersAccountingDocumentoController@filter"},{host:null,methods:["GET","HEAD"],uri:"documentos",name:"documentos.index",action:"AppHttpControllersAccountingDocumentoController@index"},{host:null,methods:["GET","HEAD"],uri:"documentos/create",name:"documentos.create",action:"AppHttpControllersAccountingDocumentoController@create"},{host:null,methods:["POST"],uri:"documentos",name:"documentos.store",action:"AppHttpControllersAccountingDocumentoController@store"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}",name:"documentos.show",action:"AppHttpControllersAccountingDocumentoController@show"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}/edit",name:"documentos.edit",action:"AppHttpControllersAccountingDocumentoController@edit"},{host:null,methods:["PUT"],uri:"documentos/{documentos}",name:"documentos.update",action:"AppHttpControllersAccountingDocumentoController@update"},{host:null,methods:["PATCH"],uri:"documentos/{documentos}",name:null,action:"AppHttpControllersAccountingDocumentoController@update"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle",name:"asientos.detalle.index",action:"AppHttpControllersAccountingDetalleAsientoController@index"},{host:null,methods:["POST"],uri:"asientos/detalle",name:"asientos.detalle.store",action:"AppHttpControllersAccountingDetalleAsientoController@store"},{host:null,methods:["DELETE"],uri:"asientos/detalle/{detalle}",name:"asientos.detalle.destroy",action:"AppHttpControllersAccountingDetalleAsientoController@destroy"},{host:null,methods:["GET","HEAD"],uri:"asientos/exportar/{asientos}",name:"asientos.exportar",action:"AppHttpControllersAccountingAsientoController@exportar"},{host:null,methods:["POST"],uri:"asientos/detalle/evaluate",name:"asientos.detalle.evaluate",action:"AppHttpControllersAccountingDetalleAsientoController@evaluate"},{host:null,methods:["POST"],uri:"asientos/detalle/validate",name:"asientos.detalle.validate",action:"AppHttpControllersAccountingDetalleAsientoController@validation"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle/movimientos",name:"asientos.detalle.movimientos",action:"AppHttpControllersAccountingDetalleAsientoController@movimientos"},{host:null,methods:["GET","HEAD"],uri:"asientos",name:"asientos.index",action:"AppHttpControllersAccountingAsientoController@index"},{host:null,methods:["GET","HEAD"],uri:"asientos/create",name:"asientos.create",action:"AppHttpControllersAccountingAsientoController@create"},{host:null,methods:["POST"],uri:"asientos",name:"asientos.store",action:"AppHttpControllersAccountingAsientoController@store"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}",name:"asientos.show",action:"AppHttpControllersAccountingAsientoController@show"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}/edit",name:"asientos.edit",action:"AppHttpControllersAccountingAsientoController@edit"},{host:null,methods:["PUT"],uri:"asientos/{asientos}",name:"asientos.update",action:"AppHttpControllersAccountingAsientoController@update"},{host:null,methods:["PATCH"],uri:"asientos/{asientos}",name:null,action:"AppHttpControllersAccountingAsientoController@update"},{host:null,methods:["GET","HEAD"],uri:"centroscosto",name:"centroscosto.index",action:"AppHttpControllersAccountingCentroCostoController@index"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/create",name:"centroscosto.create",action:"AppHttpControllersAccountingCentroCostoController@create"},{host:null,methods:["POST"],uri:"centroscosto",name:"centroscosto.store",action:"AppHttpControllersAccountingCentroCostoController@store"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}",name:"centroscosto.show",action:"AppHttpControllersAccountingCentroCostoController@show"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}/edit",name:"centroscosto.edit",action:"AppHttpControllersAccountingCentroCostoController@edit"},{host:null,methods:["PUT"],uri:"centroscosto/{centroscosto}",name:"centroscosto.update",action:"AppHttpControllersAccountingCentroCostoController@update"},{host:null,methods:["PATCH"],uri:"centroscosto/{centroscosto}",name:null,action:"AppHttpControllersAccountingCentroCostoController@update"},{host:null,methods:["GET","HEAD"],uri:"folders",name:"folders.index",action:"AppHttpControllersAccountingFolderController@index"},{host:null,methods:["GET","HEAD"],uri:"folders/create",name:"folders.create",action:"AppHttpControllersAccountingFolderController@create"},{host:null,methods:["POST"],uri:"folders",name:"folders.store",action:"AppHttpControllersAccountingFolderController@store"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}",name:"folders.show",action:"AppHttpControllersAccountingFolderController@show"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}/edit",name:"folders.edit",action:"AppHttpControllersAccountingFolderController@edit"},{host:null,methods:["PUT"],uri:"folders/{folders}",name:"folders.update",action:"AppHttpControllersAccountingFolderController@update"},{host:null,methods:["PATCH"],uri:"folders/{folders}",name:null,action:"AppHttpControllersAccountingFolderController@update"},{host:null,methods:["GET","HEAD"],uri:"facturas/search",name:"facturas.search",action:"AppHttpControllersReceivableFactura1Controller@search"},{host:null,methods:["GET","HEAD"],uri:"facturas/exportar/{facturas}",name:"facturas.exportar",action:"AppHttpControllersReceivableFactura1Controller@exportar"},{host:null,methods:["GET","HEAD"],uri:"facturas/comentario",name:"facturas.comentario.index",action:"AppHttpControllersReceivableFactura3Controller@index"},{host:null,methods:["POST"],uri:"facturas/comentario",name:"facturas.comentario.store",action:"AppHttpControllersReceivableFactura3Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/facturado",name:"facturas.facturado.index",action:"AppHttpControllersReceivableFactura2Controller@index"},{host:null,methods:["POST"],uri:"facturas/facturado",name:"facturas.facturado.store",action:"AppHttpControllersReceivableFactura2Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/detalle",name:"facturas.detalle.index",action:"AppHttpControllersReceivableFactura4Controller@index"},{host:null,methods:["GET","HEAD"],uri:"facturas",name:"facturas.index",action:"AppHttpControllersReceivableFactura1Controller@index"},{host:null,methods:["GET","HEAD"],uri:"facturas/create",name:"facturas.create",action:"AppHttpControllersReceivableFactura1Controller@create"},{host:null,methods:["POST"],uri:"facturas",name:"facturas.store",action:"AppHttpControllersReceivableFactura1Controller@store"},{host:null,methods:["GET","HEAD"],uri:"facturas/{facturas}",name:"facturas.show",action:"AppHttpControllersReceivableFactura1Controller@show"},{host:null,methods:["GET","HEAD"],uri:"facturap/search",name:"facturap.search",action:"AppHttpControllersTreasuryFacturapController@search"},{host:null,methods:["GET","HEAD"],uri:"facturap/cuotas",name:"facturap.cuotas.index",action:"AppHttpControllersTreasuryFacturapCuotasController@index"},{host:null,methods:["GET","HEAD"],uri:"facturap",name:"facturap.index",action:"AppHttpControllersTreasuryFacturapController@index"},{host:null,methods:["GET","HEAD"],uri:"facturap/{facturap}",name:"facturap.show",action:"AppHttpControllersTreasuryFacturapController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/search",name:"ordenes.search",action:"AppHttpControllersProductionOrdenpController@search"},{host:null,methods:["GET","HEAD"],uri:"ordenes/exportar/{ordenes}",name:"ordenes.exportar",action:"AppHttpControllersProductionOrdenpController@exportar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/cerrar/{ordenes}",name:"ordenes.cerrar",action:"AppHttpControllersProductionOrdenpController@cerrar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/abrir/{ordenes}",name:"ordenes.abrir",action:"AppHttpControllersProductionOrdenpController@abrir"},{host:null,methods:["GET","HEAD"],uri:"ordenes/clonar/{ordenes}",name:"ordenes.clonar",action:"AppHttpControllersProductionOrdenpController@clonar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/formula",name:"ordenes.productos.formula",action:"AppHttpControllersProductionDetalleOrdenpController@formula"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/clonar/{productos}",name:"ordenes.productos.clonar",action:"AppHttpControllersProductionDetalleOrdenpController@clonar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/search",name:"ordenes.productos.search",action:"AppHttpControllersProductionDetalleOrdenpController@search"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/maquinas",name:"ordenes.productos.maquinas.index",action:"AppHttpControllersProductionDetalleMaquinasController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/materiales",name:"ordenes.productos.materiales.index",action:"AppHttpControllersProductionDetalleMaterialesController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/acabados",name:"ordenes.productos.acabados.index",action:"AppHttpControllersProductionDetalleAcabadosController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos",name:"ordenes.productos.index",action:"AppHttpControllersProductionDetalleOrdenpController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/create",name:"ordenes.productos.create",action:"AppHttpControllersProductionDetalleOrdenpController@create"},{host:null,methods:["POST"],uri:"ordenes/productos",name:"ordenes.productos.store",action:"AppHttpControllersProductionDetalleOrdenpController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.show",action:"AppHttpControllersProductionDetalleOrdenpController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/productos/{productos}/edit",name:"ordenes.productos.edit",action:"AppHttpControllersProductionDetalleOrdenpController@edit"},{host:null,methods:["PUT"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.update",action:"AppHttpControllersProductionDetalleOrdenpController@update"},{host:null,methods:["PATCH"],uri:"ordenes/productos/{productos}",name:null,action:"AppHttpControllersProductionDetalleOrdenpController@update"},{host:null,methods:["DELETE"],uri:"ordenes/productos/{productos}",name:"ordenes.productos.destroy",action:"AppHttpControllersProductionDetalleOrdenpController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos/exportar/{despachos}",name:"ordenes.despachos.exportar",action:"AppHttpControllersProductionDespachopController@exportar"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos/pendientes",name:"ordenes.despachos.pendientes",action:"AppHttpControllersProductionDespachopController@pendientes"},{host:null,methods:["GET","HEAD"],uri:"ordenes/despachos",name:"ordenes.despachos.index",action:"AppHttpControllersProductionDespachopController@index"},{host:null,methods:["POST"],uri:"ordenes/despachos",name:"ordenes.despachos.store",action:"AppHttpControllersProductionDespachopController@store"},{host:null,methods:["DELETE"],uri:"ordenes/despachos/{despachos}",name:"ordenes.despachos.destroy",action:"AppHttpControllersProductionDespachopController@destroy"},{host:null,methods:["GET","HEAD"],uri:"ordenes",name:"ordenes.index",action:"AppHttpControllersProductionOrdenpController@index"},{host:null,methods:["GET","HEAD"],uri:"ordenes/create",name:"ordenes.create",action:"AppHttpControllersProductionOrdenpController@create"},{host:null,methods:["POST"],uri:"ordenes",name:"ordenes.store",action:"AppHttpControllersProductionOrdenpController@store"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}",name:"ordenes.show",action:"AppHttpControllersProductionOrdenpController@show"},{host:null,methods:["GET","HEAD"],uri:"ordenes/{ordenes}/edit",name:"ordenes.edit",action:"AppHttpControllersProductionOrdenpController@edit"},{host:null,methods:["PUT"],uri:"ordenes/{ordenes}",name:"ordenes.update",action:"AppHttpControllersProductionOrdenpController@update"},{host:null,methods:["PATCH"],uri:"ordenes/{ordenes}",name:null,action:"AppHttpControllersProductionOrdenpController@update"},{host:null,methods:["GET","HEAD"],uri:"areasp",name:"areasp.index",action:"AppHttpControllersProductionAreaspController@index"},{host:null,methods:["GET","HEAD"],uri:"areasp/create",name:"areasp.create",action:"AppHttpControllersProductionAreaspController@create"},{host:null,methods:["POST"],uri:"areasp",name:"areasp.store",action:"AppHttpControllersProductionAreaspController@store"},{host:null,methods:["GET","HEAD"],uri:"areasp/{areasp}",name:"areasp.show",action:"AppHttpControllersProductionAreaspController@show"},{host:null,methods:["GET","HEAD"],uri:"areasp/{areasp}/edit",name:"areasp.edit",action:"AppHttpControllersProductionAreaspController@edit"},{host:null,methods:["PUT"],uri:"areasp/{areasp}",name:"areasp.update",action:"AppHttpControllersProductionAreaspController@update"},{host:null,methods:["PATCH"],uri:"areasp/{areasp}",name:null,action:"AppHttpControllersProductionAreaspController@update"},{host:null,methods:["GET","HEAD"],uri:"acabadosp",name:"acabadosp.index",action:"AppHttpControllersProductionAcabadospController@index"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/create",name:"acabadosp.create",action:"AppHttpControllersProductionAcabadospController@create"},{host:null,methods:["POST"],uri:"acabadosp",name:"acabadosp.store",action:"AppHttpControllersProductionAcabadospController@store"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/{acabadosp}",name:"acabadosp.show",action:"AppHttpControllersProductionAcabadospController@show"},{host:null,methods:["GET","HEAD"],uri:"acabadosp/{acabadosp}/edit",name:"acabadosp.edit",action:"AppHttpControllersProductionAcabadospController@edit"},{host:null,methods:["PUT"],uri:"acabadosp/{acabadosp}",name:"acabadosp.update",action:"AppHttpControllersProductionAcabadospController@update"},{host:null,methods:["PATCH"],uri:"acabadosp/{acabadosp}",name:null,action:"AppHttpControllersProductionAcabadospController@update"},{host:null,methods:["GET","HEAD"],uri:"maquinasp",name:"maquinasp.index",action:"AppHttpControllersProductionMaquinaspController@index"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/create",name:"maquinasp.create",action:"AppHttpControllersProductionMaquinaspController@create"},{host:null,methods:["POST"],uri:"maquinasp",name:"maquinasp.store",action:"AppHttpControllersProductionMaquinaspController@store"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/{maquinasp}",name:"maquinasp.show",action:"AppHttpControllersProductionMaquinaspController@show"},{host:null,methods:["GET","HEAD"],uri:"maquinasp/{maquinasp}/edit",name:"maquinasp.edit",action:"AppHttpControllersProductionMaquinaspController@edit"},{host:null,methods:["PUT"],uri:"maquinasp/{maquinasp}",name:"maquinasp.update",action:"AppHttpControllersProductionMaquinaspController@update"},{host:null,methods:["PATCH"],uri:"maquinasp/{maquinasp}",name:null,action:"AppHttpControllersProductionMaquinaspController@update"},{host:null,methods:["GET","HEAD"],uri:"materialesp",name:"materialesp.index",action:"AppHttpControllersProductionMaterialespController@index"},{host:null,methods:["GET","HEAD"],uri:"materialesp/create",name:"materialesp.create",action:"AppHttpControllersProductionMaterialespController@create"},{host:null,methods:["POST"],uri:"materialesp",name:"materialesp.store",action:"AppHttpControllersProductionMaterialespController@store"},{host:null,methods:["GET","HEAD"],uri:"materialesp/{materialesp}",name:"materialesp.show",action:"AppHttpControllersProductionMaterialespController@show"},{host:null,methods:["GET","HEAD"],uri:"materialesp/{materialesp}/edit",name:"materialesp.edit",action:"AppHttpControllersProductionMaterialespController@edit"},{host:null,methods:["PUT"],uri:"materialesp/{materialesp}",name:"materialesp.update",action:"AppHttpControllersProductionMaterialespController@update"},{host:null,methods:["PATCH"],uri:"materialesp/{materialesp}",name:null,action:"AppHttpControllersProductionMaterialespController@update"},{host:null,methods:["GET","HEAD"],uri:"tiposmaterialp",name:"tiposmaterialp.index",action:"AppHttpControllersProductionTiposMaterialController@index"},{host:null,methods:["GET","HEAD"],uri:"tiposmaterialp/create",name:"tiposmaterialp.create",action:"AppHttpControllersProductionTiposMaterialController@create"},{host:null,methods:["POST"],uri:"tiposmaterialp",name:"tiposmaterialp.store",action:"AppHttpControllersProductionTiposMaterialController@store"},{host:null,methods:["GET","HEAD"],uri:"tiposmaterialp/{tiposmaterialp}",name:"tiposmaterialp.show",action:"AppHttpControllersProductionTiposMaterialController@show"},{host:null,methods:["GET","HEAD"],uri:"tiposmaterialp/{tiposmaterialp}/edit",name:"tiposmaterialp.edit",action:"AppHttpControllersProductionTiposMaterialController@edit"},{host:null,methods:["PUT"],uri:"tiposmaterialp/{tiposmaterialp}",name:"tiposmaterialp.update",action:"AppHttpControllersProductionTiposMaterialController@update"},{host:null,methods:["PATCH"],uri:"tiposmaterialp/{tiposmaterialp}",name:null,action:"AppHttpControllersProductionTiposMaterialController@update"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp",name:"tipoproductosp.index",action:"AppHttpControllersProductionTipoProductopController@index"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/create",name:"tipoproductosp.create",action:"AppHttpControllersProductionTipoProductopController@create"},{host:null,methods:["POST"],uri:"tipoproductosp",name:"tipoproductosp.store",action:"AppHttpControllersProductionTipoProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/{tipoproductosp}",name:"tipoproductosp.show",action:"AppHttpControllersProductionTipoProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"tipoproductosp/{tipoproductosp}/edit",name:"tipoproductosp.edit",action:"AppHttpControllersProductionTipoProductopController@edit"},{host:null,methods:["PUT"],uri:"tipoproductosp/{tipoproductosp}",name:"tipoproductosp.update",action:"AppHttpControllersProductionTipoProductopController@update"},{host:null,methods:["PATCH"],uri:"tipoproductosp/{tipoproductosp}",name:null,action:"AppHttpControllersProductionTipoProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp",name:"subtipoproductosp.index",action:"AppHttpControllersProductionSubtipoProductopController@index"
},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/create",name:"subtipoproductosp.create",action:"AppHttpControllersProductionSubtipoProductopController@create"},{host:null,methods:["POST"],uri:"subtipoproductosp",name:"subtipoproductosp.store",action:"AppHttpControllersProductionSubtipoProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/{subtipoproductosp}",name:"subtipoproductosp.show",action:"AppHttpControllersProductionSubtipoProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"subtipoproductosp/{subtipoproductosp}/edit",name:"subtipoproductosp.edit",action:"AppHttpControllersProductionSubtipoProductopController@edit"},{host:null,methods:["PUT"],uri:"subtipoproductosp/{subtipoproductosp}",name:"subtipoproductosp.update",action:"AppHttpControllersProductionSubtipoProductopController@update"},{host:null,methods:["PATCH"],uri:"subtipoproductosp/{subtipoproductosp}",name:null,action:"AppHttpControllersProductionSubtipoProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/search",name:"cotizaciones.search",action:"AppHttpControllersProductionCotizacion1Controller@search"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/exportar/{cotizaciones}",name:"cotizaciones.exportar",action:"AppHttpControllersProductionCotizacion1Controller@exportar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/cerrar/{cotizaciones}",name:"cotizaciones.cerrar",action:"AppHttpControllersProductionCotizacion1Controller@cerrar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/abrir/{cotizaciones}",name:"cotizaciones.abrir",action:"AppHttpControllersProductionCotizacion1Controller@abrir"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/clonar/{cotizaciones}",name:"cotizaciones.clonar",action:"AppHttpControllersProductionCotizacion1Controller@clonar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/formula",name:"cotizaciones.productos.formula",action:"AppHttpControllersProductionCotizacion2Controller@formula"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/clonar/{productos}",name:"cotizaciones.productos.clonar",action:"AppHttpControllersProductionCotizacion2Controller@clonar"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/maquinas",name:"cotizaciones.productos.maquinas.index",action:"AppHttpControllersProductionCotizacion3Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/materiales",name:"cotizaciones.productos.materiales.index",action:"AppHttpControllersProductionCotizacion4Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/acabados",name:"cotizaciones.productos.acabados.index",action:"AppHttpControllersProductionCotizacion5Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/areas",name:"cotizaciones.productos.areas.index",action:"AppHttpControllersProductionCotizacion6Controller@index"},{host:null,methods:["POST"],uri:"cotizaciones/productos/areas",name:"cotizaciones.productos.areas.store",action:"AppHttpControllersProductionCotizacion6Controller@store"},{host:null,methods:["DELETE"],uri:"cotizaciones/productos/areas/{areas}",name:"cotizaciones.productos.areas.destroy",action:"AppHttpControllersProductionCotizacion6Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos",name:"cotizaciones.productos.index",action:"AppHttpControllersProductionCotizacion2Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/create",name:"cotizaciones.productos.create",action:"AppHttpControllersProductionCotizacion2Controller@create"},{host:null,methods:["POST"],uri:"cotizaciones/productos",name:"cotizaciones.productos.store",action:"AppHttpControllersProductionCotizacion2Controller@store"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.show",action:"AppHttpControllersProductionCotizacion2Controller@show"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/productos/{productos}/edit",name:"cotizaciones.productos.edit",action:"AppHttpControllersProductionCotizacion2Controller@edit"},{host:null,methods:["PUT"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.update",action:"AppHttpControllersProductionCotizacion2Controller@update"},{host:null,methods:["PATCH"],uri:"cotizaciones/productos/{productos}",name:null,action:"AppHttpControllersProductionCotizacion2Controller@update"},{host:null,methods:["DELETE"],uri:"cotizaciones/productos/{productos}",name:"cotizaciones.productos.destroy",action:"AppHttpControllersProductionCotizacion2Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones",name:"cotizaciones.index",action:"AppHttpControllersProductionCotizacion1Controller@index"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/create",name:"cotizaciones.create",action:"AppHttpControllersProductionCotizacion1Controller@create"},{host:null,methods:["POST"],uri:"cotizaciones",name:"cotizaciones.store",action:"AppHttpControllersProductionCotizacion1Controller@store"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/{cotizaciones}",name:"cotizaciones.show",action:"AppHttpControllersProductionCotizacion1Controller@show"},{host:null,methods:["GET","HEAD"],uri:"cotizaciones/{cotizaciones}/edit",name:"cotizaciones.edit",action:"AppHttpControllersProductionCotizacion1Controller@edit"},{host:null,methods:["PUT"],uri:"cotizaciones/{cotizaciones}",name:"cotizaciones.update",action:"AppHttpControllersProductionCotizacion1Controller@update"},{host:null,methods:["PATCH"],uri:"cotizaciones/{cotizaciones}",name:null,action:"AppHttpControllersProductionCotizacion1Controller@update"},{host:null,methods:["GET","HEAD"],uri:"productosp/tips",name:"productosp.tips.index",action:"AppHttpControllersProductionProductop2Controller@index"},{host:null,methods:["POST"],uri:"productosp/tips",name:"productosp.tips.store",action:"AppHttpControllersProductionProductop2Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/tips/{tips}",name:"productosp.tips.destroy",action:"AppHttpControllersProductionProductop2Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/areas",name:"productosp.areas.index",action:"AppHttpControllersProductionProductop3Controller@index"},{host:null,methods:["POST"],uri:"productosp/areas",name:"productosp.areas.store",action:"AppHttpControllersProductionProductop3Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/areas/{areas}",name:"productosp.areas.destroy",action:"AppHttpControllersProductionProductop3Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/maquinas",name:"productosp.maquinas.index",action:"AppHttpControllersProductionProductop4Controller@index"},{host:null,methods:["POST"],uri:"productosp/maquinas",name:"productosp.maquinas.store",action:"AppHttpControllersProductionProductop4Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/maquinas/{maquinas}",name:"productosp.maquinas.destroy",action:"AppHttpControllersProductionProductop4Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/materiales",name:"productosp.materiales.index",action:"AppHttpControllersProductionProductop5Controller@index"},{host:null,methods:["POST"],uri:"productosp/materiales",name:"productosp.materiales.store",action:"AppHttpControllersProductionProductop5Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/materiales/{materiales}",name:"productosp.materiales.destroy",action:"AppHttpControllersProductionProductop5Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp/acabados",name:"productosp.acabados.index",action:"AppHttpControllersProductionProductop6Controller@index"},{host:null,methods:["POST"],uri:"productosp/acabados",name:"productosp.acabados.store",action:"AppHttpControllersProductionProductop6Controller@store"},{host:null,methods:["DELETE"],uri:"productosp/acabados/{acabados}",name:"productosp.acabados.destroy",action:"AppHttpControllersProductionProductop6Controller@destroy"},{host:null,methods:["GET","HEAD"],uri:"productosp",name:"productosp.index",action:"AppHttpControllersProductionProductopController@index"},{host:null,methods:["GET","HEAD"],uri:"productosp/create",name:"productosp.create",action:"AppHttpControllersProductionProductopController@create"},{host:null,methods:["POST"],uri:"productosp",name:"productosp.store",action:"AppHttpControllersProductionProductopController@store"},{host:null,methods:["GET","HEAD"],uri:"productosp/{productosp}",name:"productosp.show",action:"AppHttpControllersProductionProductopController@show"},{host:null,methods:["GET","HEAD"],uri:"productosp/{productosp}/edit",name:"productosp.edit",action:"AppHttpControllersProductionProductopController@edit"},{host:null,methods:["PUT"],uri:"productosp/{productosp}",name:"productosp.update",action:"AppHttpControllersProductionProductopController@update"},{host:null,methods:["PATCH"],uri:"productosp/{productosp}",name:null,action:"AppHttpControllersProductionProductopController@update"},{host:null,methods:["GET","HEAD"],uri:"grupos",name:"grupos.index",action:"AppHttpControllersInventoryGrupoController@index"},{host:null,methods:["GET","HEAD"],uri:"grupos/create",name:"grupos.create",action:"AppHttpControllersInventoryGrupoController@create"},{host:null,methods:["POST"],uri:"grupos",name:"grupos.store",action:"AppHttpControllersInventoryGrupoController@store"},{host:null,methods:["GET","HEAD"],uri:"grupos/{grupos}",name:"grupos.show",action:"AppHttpControllersInventoryGrupoController@show"},{host:null,methods:["GET","HEAD"],uri:"grupos/{grupos}/edit",name:"grupos.edit",action:"AppHttpControllersInventoryGrupoController@edit"},{host:null,methods:["PUT"],uri:"grupos/{grupos}",name:"grupos.update",action:"AppHttpControllersInventoryGrupoController@update"},{host:null,methods:["PATCH"],uri:"grupos/{grupos}",name:null,action:"AppHttpControllersInventoryGrupoController@update"},{host:null,methods:["GET","HEAD"],uri:"subgrupos",name:"subgrupos.index",action:"AppHttpControllersInventorySubGrupoController@index"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/create",name:"subgrupos.create",action:"AppHttpControllersInventorySubGrupoController@create"},{host:null,methods:["POST"],uri:"subgrupos",name:"subgrupos.store",action:"AppHttpControllersInventorySubGrupoController@store"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/{subgrupos}",name:"subgrupos.show",action:"AppHttpControllersInventorySubGrupoController@show"},{host:null,methods:["GET","HEAD"],uri:"subgrupos/{subgrupos}/edit",name:"subgrupos.edit",action:"AppHttpControllersInventorySubGrupoController@edit"},{host:null,methods:["PUT"],uri:"subgrupos/{subgrupos}",name:"subgrupos.update",action:"AppHttpControllersInventorySubGrupoController@update"},{host:null,methods:["PATCH"],uri:"subgrupos/{subgrupos}",name:null,action:"AppHttpControllersInventorySubGrupoController@update"},{host:null,methods:["GET","HEAD"],uri:"unidades",name:"unidades.index",action:"AppHttpControllersInventoryUnidadesMedidaController@index"},{host:null,methods:["GET","HEAD"],uri:"unidades/create",name:"unidades.create",action:"AppHttpControllersInventoryUnidadesMedidaController@create"},{host:null,methods:["POST"],uri:"unidades",name:"unidades.store",action:"AppHttpControllersInventoryUnidadesMedidaController@store"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}",name:"unidades.show",action:"AppHttpControllersInventoryUnidadesMedidaController@show"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}/edit",name:"unidades.edit",action:"AppHttpControllersInventoryUnidadesMedidaController@edit"},{host:null,methods:["PUT"],uri:"unidades/{unidades}",name:"unidades.update",action:"AppHttpControllersInventoryUnidadesMedidaController@update"},{host:null,methods:["PATCH"],uri:"unidades/{unidades}",name:null,action:"AppHttpControllersInventoryUnidadesMedidaController@update"},{host:null,methods:["GET","HEAD"],uri:"traslados/detalle",name:"traslados.detalle.index",action:"AppHttpControllersInventoryDetalleTrasladoController@index"},{host:null,methods:["POST"],uri:"traslados/detalle",name:"traslados.detalle.store",action:"AppHttpControllersInventoryDetalleTrasladoController@store"},{host:null,methods:["GET","HEAD"],uri:"traslados",name:"traslados.index",action:"AppHttpControllersInventoryTrasladosController@index"},{host:null,methods:["GET","HEAD"],uri:"traslados/create",name:"traslados.create",action:"AppHttpControllersInventoryTrasladosController@create"},{host:null,methods:["POST"],uri:"traslados",name:"traslados.store",action:"AppHttpControllersInventoryTrasladosController@store"},{host:null,methods:["GET","HEAD"],uri:"traslados/{traslados}",name:"traslados.show",action:"AppHttpControllersInventoryTrasladosController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/search",name:"productos.search",action:"AppHttpControllersInventoryProductoController@search"},{host:null,methods:["GET","HEAD"],uri:"productos/rollos",name:"productos.rollos.index",action:"AppHttpControllersInventoryProdbodeRolloController@index"},{host:null,methods:["GET","HEAD"],uri:"productos",name:"productos.index",action:"AppHttpControllersInventoryProductoController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/create",name:"productos.create",action:"AppHttpControllersInventoryProductoController@create"},{host:null,methods:["POST"],uri:"productos",name:"productos.store",action:"AppHttpControllersInventoryProductoController@store"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}",name:"productos.show",action:"AppHttpControllersInventoryProductoController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}/edit",name:"productos.edit",action:"AppHttpControllersInventoryProductoController@edit"},{host:null,methods:["PUT"],uri:"productos/{productos}",name:"productos.update",action:"AppHttpControllersInventoryProductoController@update"},{host:null,methods:["PATCH"],uri:"productos/{productos}",name:null,action:"AppHttpControllersInventoryProductoController@update"},{host:null,methods:["GET","HEAD"],uri:"rplancuentas",name:"rplancuentas.index",action:"AppHttpControllersReportPlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"rmayorbalance",name:"rmayorbalance.index",action:"AppHttpControllersReportMayorBalanceController@index"}],prefix:"",route:function(e,t,o){if(o=o||this.getByName(e))return this.toRoute(o,t)},url:function(e,t){t=t||[];var o=e+"/"+t.join("/");return this.getCorrectUrl(o)},toRoute:function(e,t){var o=this.replaceNamedParameters(e.uri,t),i=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+o+i:this.getCorrectUrl(o+i)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,o){if(t.hasOwnProperty(o)){var i=t[o];return delete t[o],i}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o+"="+e[o]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o+'="'+e[o]+'"');return t.join(" ")},o=function(e,o,i){return o=o||e,i=t(i),'<a href="'+e+'" '+i+">"+o+"</a>"};return{action:function(t,o){return o=o||{},e.route(t,o,e.getByAction(t))},route:function(t,o){return o=o||{},e.route(t,o)},url:function(t,o){return o=o||{},e.url(t,o)},link_to:function(e,t,i){return e=this.url(e),o(e,t,i)},link_to_route:function(e,t,i,r){var n=this.route(e,i);return o(n,t,r)},link_to_action:function(e,t,i,r){var n=this.action(e,i);return o(n,t,r)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,o,i){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","terceros(/)":"getTercerosMain","terceros/create(/)":"getTercerosCreate","terceros/:tercero(/)":"getTercerosShow","terceros/:tercero/edit(/)":"getTercerosEdit","empresa(/)":"getEmpresaEdit","municipios(/)":"getMunicipiosMain","departamentos(/)":"getDepartamentosMain","actividades(/)":"getActividadesMain","actividades/create(/)":"getActividadesCreate","actividades/:actividad/edit(/)":"getActividadesEdit","sucursales(/)":"getSucursalesMain","sucursales/create(/)":"getSucursalesCreate","sucursales/:sucursal/edit(/)":"getSucursalesEdit","roles(/)":"getRolesMain","roles/create(/)":"getRolesCreate","roles/:rol/edit(/)":"getRolesEdit","permisos(/)":"getPermisosMain","modulos(/)":"getModulosMain","puntosventa(/)":"getPuntosVentaMain","puntosventa/create(/)":"getPuntosVentaCreate","puntosventa/:puntoventa/edit(/)":"getPuntosVentaEdit","facturas(/)":"getFacturasMain","facturas/create(/)":"getFacturaCreate","facturas/:facturas(/)":"getFacturaShow","plancuentas(/)":"getPlanCuentasMain","plancuentas/create(/)":"getPlanCuentasCreate","plancuentas/:plancuenta/edit(/)":"getPlanCuentasEdit","centroscosto(/)":"getCentrosCostoMain","centroscosto/create(/)":"getCentrosCostoCreate","centroscosto/:centrocosto/edit(/)":"getCentrosCostoEdit","asientos(/)":"getAsientosMain","asientos/create(/)":"getAsientosCreate","asientos/:asientos(/)":"getAsientosShow","asientos/:asiento/edit(/)":"getAsientosEdit","documentos(/)":"getDocumentosMain","documentos/create(/)":"getDocumentosCreate","documentos/:documento/edit(/)":"getDocumentosEdit","folders(/)":"getFoldersMain","folders/create(/)":"getFoldersCreate","folders/:folder/edit(/)":"getFoldersEdit","subgrupos(/)":"getSubGruposMain","subgrupos/create(/)":"getSubGruposCreate","subgrupos/:subgrupo/edit(/)":"getSubGruposEdit","grupos(/)":"getGruposMain","grupos/create(/)":"getGruposCreate","grupos/:grupo/edit(/)":"getGruposEdit","unidades(/)":"getUnidadesMain","unidades/create(/)":"getUnidadesCreate","unidades/:unidad/edit(/)":"getUnidadesEdit","productos(/)":"getProductosMain","productos/create(/)":"getProductosCreate","productos/:producto/edit(/)":"getProductosEdit","traslados(/)":"getTrasladosMain","traslados/create(/)":"getTrasladosCreate","traslados/:traslado(/)":"getTrasladosShow","areasp(/)":"getAreaspMain","areasp/create(/)":"getAreaspCreate","areasp/:areap/edit(/)":"getAreaspEdit","acabadosp(/)":"getAcabadospMain","acabadosp/create(/)":"getAcabadospCreate","acabadosp/:acabadop/edit(/)":"getAcabadospEdit","maquinasp(/)":"getMaquinaspMain","maquinasp/create(/)":"getMaquinaspCreate","maquinasp/:maquinap/edit(/)":"getMaquinaspEdit","materialesp(/)":"getMaterialespMain","materialesp/create(/)":"getMaterialespCreate","materialesp/:materialp/edit(/)":"getMaterialespEdit","tiposmaterialp(/)":"getTiposMaterialpMain","tiposmaterialp/create(/)":"getTiposMaterialpCreate","tiposmaterialp/:tiposmaterialp/edit(/)":"getTiposMaterialpEdit","tipoproductosp(/)":"getTipoProductopMain","tipoproductosp/create(/)":"getTipoProductopCreate","tipoproductosp/:tipoproductosp/edit(/)":"getTipoProductopEdit","subtipoproductosp(/)":"getSubtipoProductopMain","subtipoproductosp/create(/)":"getSubtipoProductopCreate","subtipoproductosp/:subtipoproductosp/edit(/)":"getSubtipoProductopEdit","ordenes(/)":"getOrdenesMain","ordenes/create(/)":"getOrdenesCreate","ordenes/:orden(/)":"getOrdenesShow","ordenes/:orden/edit(/)":"getOrdenesEdit","ordenes/productos/create(/)(?*queryString)":"getOrdenesProductoCreate","ordenes/productos/:producto/edit(/)":"getOrdenesProductoEdit","productosp(/)":"getProductospMain","productosp/create(/)":"getProductospCreate","productosp/:producto(/)":"getProductospShow","productosp/:producto/edit(/)":"getProductospEdit","cotizaciones(/)":"getCotizacionesMain","cotizaciones/create(/)":"getCotizacionesCreate","cotizaciones/:cotizaciones(/)":"getCotizacionesShow","cotizaciones/:cotizaciones/edit(/)":"getCotizacionesEdit","cotizaciones/productos/create(/)(?*queryString)":"getCotizacionesProductoCreate","cotizaciones/productos/:producto/edit(/)":"getCotizacionesProductoEdit","facturap(/)":"getFacturaspMain","facturap(/):facturap(/)":"getFacturaspShow"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var o=e.split("="),r={};if(o.length>=1){var n=i;2==o.length&&(n=o[1]),r[o[0]]=n}return r}),function(e){_.extend(t,e)}),t},initialize:function(e){this.componentGlobalView=new app.ComponentGlobalView,this.componentAddressView=new app.ComponentAddressView,this.componentCreateResourceView=new app.ComponentCreateResourceView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView,this.componentSearchCuentaView=new app.ComponentSearchCuentaView,this.componentDocumentView=new app.ComponentDocumentView,this.componentReportView=new app.ComponentReportView,this.componentTerceroView=new app.ComponentTerceroView,this.componentSearchFacturaView=new app.ComponentSearchFacturaView,this.componentSearchOrdenPView=new app.ComponentSearchOrdenPView,this.componentSearchOrdenP2View=new app.ComponentSearchOrdenP2View,this.componentSearchProductoView=new app.ComponentSearchProductoView,this.componentSearchContactoView=new app.ComponentSearchContactoView,this.componentConsecutiveView=new app.ComponentConsecutiveView},start:function(){var e={pushState:!0};"-1"!=o.domain.search(/(104.236.57.82|localhost)/gi)&&(e.root="/vaziko/public/"),Backbone.history.start(e)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getTercerosMain:function(){this.mainTerceroView instanceof Backbone.View&&(this.mainTerceroView.stopListening(),this.mainTerceroView.undelegateEvents()),this.mainTerceroView=new app.MainTerceroView},getTercerosCreate:function(){this.terceroModel=new app.TerceroModel,this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.createTerceroView.render()},getTercerosShow:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.showTerceroView instanceof Backbone.View&&(this.showTerceroView.stopListening(),this.showTerceroView.undelegateEvents()),this.showTerceroView=new app.ShowTerceroView({model:this.terceroModel})},getTercerosEdit:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.terceroModel.fetch()},getEmpresaEdit:function(){this.empresaModel=new app.EmpresaModel,this.createEmpresaView instanceof Backbone.View&&(this.createEmpresaView.stopListening(),this.createEmpresaView.undelegateEvents()),this.createEmpresaView=new app.CreateEmpresaView({model:this.empresaModel}),this.empresaModel.fetch()},getMunicipiosMain:function(){this.mainMunicipioView instanceof Backbone.View&&(this.mainMunicipioView.stopListening(),this.mainMunicipioView.undelegateEvents()),this.mainMunicipioView=new app.MainMunicipioView},getDepartamentosMain:function(){this.mainDepartamentoView instanceof Backbone.View&&(this.mainDepartamentoView.stopListening(),this.mainDepartamentoView.undelegateEvents()),this.mainDepartamentoView=new app.MainDepartamentoView},getActividadesMain:function(){this.mainActividadView instanceof Backbone.View&&(this.mainActividadView.stopListening(),this.mainActividadView.undelegateEvents()),this.mainActividadView=new app.MainActividadView},getActividadesCreate:function(){this.actividadModel=new app.ActividadModel,this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.createActividadView.render()},getActividadesEdit:function(e){this.actividadModel=new app.ActividadModel,this.actividadModel.set({id:e},{silent:!0}),this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.actividadModel.fetch()},getSucursalesMain:function(){this.mainSucursalesView instanceof Backbone.View&&(this.mainSucursalesView.stopListening(),this.mainSucursalesView.undelegateEvents()),this.mainSucursalesView=new app.MainSucursalesView},getSucursalesCreate:function(){this.sucursalModel=new app.SucursalModel,this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.createSucursalView.render()},getSucursalesEdit:function(e){this.sucursalModel=new app.SucursalModel,this.sucursalModel.set({id:e},{silent:!0}),this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.sucursalModel.fetch()},getRolesMain:function(){this.mainRolesView instanceof Backbone.View&&(this.mainRolesView.stopListening(),this.mainRolesView.undelegateEvents()),this.mainRolesView=new app.MainRolesView},getRolesCreate:function(){this.rolModel=new app.RolModel,this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.createRolView=new app.CreateRolView({model:this.rolModel}),this.createRolView.render()},getRolesEdit:function(e){this.rolModel=new app.RolModel,this.rolModel.set({id:e},{silent:!0}),this.editRolView instanceof Backbone.View&&(this.editRolView.stopListening(),this.editRolView.undelegateEvents()),this.createRolView instanceof Backbone.View&&(this.createRolView.stopListening(),this.createRolView.undelegateEvents()),this.editRolView=new app.EditRolView({model:this.rolModel}),this.rolModel.fetch()},getPermisosMain:function(){this.mainPermisoView instanceof Backbone.View&&(this.mainPermisoView.stopListening(),this.mainPermisoView.undelegateEvents()),this.mainPermisoView=new app.MainPermisoView},getModulosMain:function(){this.mainModuloView instanceof Backbone.View&&(this.mainModuloView.stopListening(),this.mainModuloView.undelegateEvents()),this.mainModuloView=new app.MainModuloView},getPuntosVentaMain:function(){this.mainPuntoventaView instanceof Backbone.View&&(this.mainPuntoventaView.stopListening(),this.mainPuntoventaView.undelegateEvents()),this.mainPuntoventaView=new app.MainPuntoventaView},getPuntosVentaCreate:function(){this.puntoVentaModel=new app.PuntoVentaModel,this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.createPuntoventaView.render()},getPuntosVentaEdit:function(e){this.puntoVentaModel=new app.PuntoVentaModel,this.puntoVentaModel.set({id:e},{silent:!0}),this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.puntoVentaModel.fetch()},getPlanCuentasMain:function(){this.mainPlanCuentasView instanceof Backbone.View&&(this.mainPlanCuentasView.stopListening(),this.mainPlanCuentasView.undelegateEvents()),this.mainPlanCuentasView=new app.MainPlanCuentasView},getPlanCuentasCreate:function(){this.planCuentaModel=new app.PlanCuentaModel,this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.createPlanCuentaView.render()},getPlanCuentasEdit:function(e){this.planCuentaModel=new app.PlanCuentaModel,this.planCuentaModel.set({id:e},{silent:!0}),this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.planCuentaModel.fetch()},getCentrosCostoMain:function(){this.mainCentrosCostoView instanceof Backbone.View&&(this.mainCentrosCostoView.stopListening(),this.mainCentrosCostoView.undelegateEvents()),this.mainCentrosCostoView=new app.MainCentrosCostoView},getCentrosCostoCreate:function(){this.centroCostoModel=new app.CentroCostoModel,this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.createCentroCostoView.render()},getCentrosCostoEdit:function(e){this.centroCostoModel=new app.CentroCostoModel,this.centroCostoModel.set({id:e},{silent:!0}),this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.centroCostoModel.fetch()},getAsientosMain:function(){this.mainAsientosView instanceof Backbone.View&&(this.mainAsientosView.stopListening(),this.mainAsientosView.undelegateEvents()),this.mainAsientosView=new app.MainAsientosView},getAsientosCreate:function(){this.asientoModel=new app.AsientoModel,this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.createAsientoView=new app.CreateAsientoView({model:this.asientoModel}),this.createAsientoView.render()},getAsientosShow:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.showAsientoView instanceof Backbone.View&&(this.showAsientoView.stopListening(),this.showAsientoView.undelegateEvents()),this.showAsientoView=new app.ShowAsientoView({model:this.asientoModel})},getAsientosEdit:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.editAsientoView instanceof Backbone.View&&(this.editAsientoView.stopListening(),this.editAsientoView.undelegateEvents()),this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.editAsientoView=new app.EditAsientoView({model:this.asientoModel}),this.asientoModel.fetch()},getFoldersMain:function(){this.mainFoldersView instanceof Backbone.View&&(this.mainFoldersView.stopListening(),this.mainFoldersView.undelegateEvents()),this.mainFoldersView=new app.MainFoldersView},getFoldersCreate:function(){this.folderModel=new app.FolderModel,this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.createFolderView.render()},getFoldersEdit:function(e){this.folderModel=new app.FolderModel,this.folderModel.set({id:e},{silent:!0}),this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.folderModel.fetch()},getDocumentosMain:function(){this.mainDocumentosView instanceof Backbone.View&&(this.mainDocumentosView.stopListening(),this.mainDocumentosView.undelegateEvents()),
this.mainDocumentosView=new app.MainDocumentosView},getDocumentosCreate:function(){this.documentoModel=new app.DocumentoModel,this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.createDocumentoView.render()},getDocumentosEdit:function(e){this.documentoModel=new app.DocumentoModel,this.documentoModel.set({id:e},{silent:!0}),this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.documentoModel.fetch()},getSubGruposMain:function(){this.mainSubGruposView instanceof Backbone.View&&(this.mainSubGruposView.stopListening(),this.mainSubGruposView.undelegateEvents()),this.mainSubGruposView=new app.MainSubGruposView},getSubGruposCreate:function(){this.subGrupoModel=new app.SubGrupoModel,this.createSubGrupoView instanceof Backbone.View&&(this.createSubGrupoView.stopListening(),this.createSubGrupoView.undelegateEvents()),this.createSubGrupoView=new app.CreateSubGrupoView({model:this.subGrupoModel}),this.createSubGrupoView.render()},getSubGruposEdit:function(e){this.subGrupoModel=new app.SubGrupoModel,this.subGrupoModel.set({id:e},{silent:!0}),this.createSubGrupoView instanceof Backbone.View&&(this.createSubGrupoView.stopListening(),this.createSubGrupoView.undelegateEvents()),this.createSubGrupoView=new app.CreateSubGrupoView({model:this.subGrupoModel}),this.subGrupoModel.fetch()},getGruposMain:function(){this.mainGruposView instanceof Backbone.View&&(this.mainGruposView.stopListening(),this.mainGruposView.undelegateEvents()),this.mainGruposView=new app.MainGruposView},getGruposCreate:function(){this.grupoModel=new app.GrupoModel,this.createGrupoView instanceof Backbone.View&&(this.createGrupoView.stopListening(),this.createGrupoView.undelegateEvents()),this.createGrupoView=new app.CreateGrupoView({model:this.grupoModel}),this.createGrupoView.render()},getGruposEdit:function(e){this.grupoModel=new app.GrupoModel,this.grupoModel.set({id:e},{silent:!0}),this.createGrupoView instanceof Backbone.View&&(this.createGrupoView.stopListening(),this.createGrupoView.undelegateEvents()),this.createGrupoView=new app.CreateGrupoView({model:this.grupoModel}),this.grupoModel.fetch()},getUnidadesMain:function(){this.mainUnidadesView instanceof Backbone.View&&(this.mainUnidadesView.stopListening(),this.mainUnidadesView.undelegateEvents()),this.mainUnidadesView=new app.MainUnidadesView},getUnidadesCreate:function(){this.unidadModel=new app.UnidadModel,this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.createUnidadView.render()},getUnidadesEdit:function(e){this.unidadModel=new app.UnidadModel,this.unidadModel.set({id:e},{silent:!0}),this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.unidadModel.fetch()},getProductosMain:function(){this.mainProductosView instanceof Backbone.View&&(this.mainProductosView.stopListening(),this.mainProductosView.undelegateEvents()),this.mainProductosView=new app.MainProductosView},getProductosCreate:function(){this.productoModel=new app.ProductoModel,this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.createProductoView.render()},getProductosEdit:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.productoModel.fetch()},getTrasladosMain:function(){this.mainTrasladosView instanceof Backbone.View&&(this.mainTrasladosView.stopListening(),this.mainTrasladosView.undelegateEvents()),this.mainTrasladosView=new app.MainTrasladosView},getTrasladosCreate:function(){this.trasladoModel=new app.TrasladoModel,this.createTrasladoView instanceof Backbone.View&&(this.createTrasladoView.stopListening(),this.createTrasladoView.undelegateEvents()),this.createTrasladoView=new app.CreateTrasladoView({model:this.trasladoModel}),this.createTrasladoView.render()},getTrasladosShow:function(e){this.trasladoModel=new app.TrasladoModel,this.trasladoModel.set({id:e},{silent:!0}),this.showTrasladoView instanceof Backbone.View&&(this.showTrasladoView.stopListening(),this.showTrasladoView.undelegateEvents()),this.showTrasladoView=new app.ShowTrasladoView({model:this.trasladoModel})},getAreaspMain:function(){this.mainAreaspView instanceof Backbone.View&&(this.mainAreaspView.stopListening(),this.mainAreaspView.undelegateEvents()),this.mainAreaspView=new app.MainAreaspView},getAreaspCreate:function(){this.areapModel=new app.AreapModel,this.createAreapView instanceof Backbone.View&&(this.createAreapView.stopListening(),this.createAreapView.undelegateEvents()),this.createAreapView=new app.CreateAreapView({model:this.areapModel}),this.createAreapView.render()},getAreaspEdit:function(e){this.areapModel=new app.AreapModel,this.areapModel.set({id:e},{silent:!0}),this.createAreapView instanceof Backbone.View&&(this.createAreapView.stopListening(),this.createAreapView.undelegateEvents()),this.createAreapView=new app.CreateAreapView({model:this.areapModel}),this.areapModel.fetch()},getAcabadospMain:function(){this.mainAcabadospView instanceof Backbone.View&&(this.mainAcabadospView.stopListening(),this.mainAcabadospView.undelegateEvents()),this.mainAcabadospView=new app.MainAcabadospView},getAcabadospCreate:function(){this.acabadopModel=new app.AcabadopModel,this.createAcabadospView instanceof Backbone.View&&(this.createAcabadospView.stopListening(),this.createAcabadospView.undelegateEvents()),this.createAcabadospView=new app.CreateAcabadospView({model:this.acabadopModel}),this.createAcabadospView.render()},getAcabadospEdit:function(e){this.acabadopModel=new app.AcabadopModel,this.acabadopModel.set({id:e},{silent:!0}),this.createAcabadospView instanceof Backbone.View&&(this.createAcabadospView.stopListening(),this.createAcabadospView.undelegateEvents()),this.createAcabadospView=new app.CreateAcabadospView({model:this.acabadopModel}),this.acabadopModel.fetch()},getMaquinaspMain:function(){this.mainMaquinaspView instanceof Backbone.View&&(this.mainMaquinaspView.stopListening(),this.mainMaquinaspView.undelegateEvents()),this.mainMaquinaspView=new app.MainMaquinaspView},getMaquinaspCreate:function(){this.maquinapModel=new app.MaquinapModel,this.createMaquinapView instanceof Backbone.View&&(this.createMaquinapView.stopListening(),this.createMaquinapView.undelegateEvents()),this.createMaquinapView=new app.CreateMaquinapView({model:this.maquinapModel}),this.createMaquinapView.render()},getMaquinaspEdit:function(e){this.maquinapModel=new app.MaquinapModel,this.maquinapModel.set({id:e},{silent:!0}),this.createMaquinapView instanceof Backbone.View&&(this.createMaquinapView.stopListening(),this.createMaquinapView.undelegateEvents()),this.createMaquinapView=new app.CreateMaquinapView({model:this.maquinapModel}),this.maquinapModel.fetch()},getMaterialespMain:function(){this.mainMaterialespView instanceof Backbone.View&&(this.mainMaterialespView.stopListening(),this.mainMaterialespView.undelegateEvents()),this.mainMaterialespView=new app.MainMaterialespView},getMaterialespCreate:function(){this.materialpModel=new app.MaterialpModel,this.createMaterialpView instanceof Backbone.View&&(this.createMaterialpView.stopListening(),this.createMaterialpView.undelegateEvents()),this.createMaterialpView=new app.CreateMaterialpView({model:this.materialpModel}),this.createMaterialpView.render()},getMaterialespEdit:function(e){this.materialpModel=new app.MaterialpModel,this.materialpModel.set({id:e},{silent:!0}),this.createMaterialpView instanceof Backbone.View&&(this.createMaterialpView.stopListening(),this.createMaterialpView.undelegateEvents()),this.createMaterialpView=new app.CreateMaterialpView({model:this.materialpModel}),this.materialpModel.fetch()},getTiposMaterialpMain:function(){this.mainTiposMaterialpView instanceof Backbone.View&&(this.mainTiposMaterialpView.stopListening(),this.mainTiposMaterialpView.undelegateEvents()),this.mainTiposMaterialpView=new app.MainTiposMaterialpView},getTiposMaterialpCreate:function(){this.tipomaterialpModel=new app.TipoMaterialpModel,this.createTipoMaterialpView instanceof Backbone.View&&(this.createTipoMaterialpView.stopListening(),this.createTipoMaterialpView.undelegateEvents()),this.createTipoMaterialpView=new app.CreateTipoMaterialpView({model:this.tipomaterialpModel}),this.createTipoMaterialpView.render()},getTiposMaterialpEdit:function(e){this.tipomaterialpModel=new app.TipoMaterialpModel,this.tipomaterialpModel.set({id:e},{silent:!0}),this.createTipoMaterialpView instanceof Backbone.View&&(this.createTipoMaterialpView.stopListening(),this.createTipoMaterialpView.undelegateEvents()),this.createTipoMaterialpView=new app.CreateTipoMaterialpView({model:this.tipomaterialpModel}),this.tipomaterialpModel.fetch()},getTipoProductopMain:function(){this.mainTipoProductospView instanceof Backbone.View&&(this.mainTipoProductospView.stopListening(),this.mainTipoProductospView.undelegateEvents()),this.mainTipoProductospView=new app.MainTipoProductospView},getTipoProductopCreate:function(){this.tipoproductopModel=new app.TipoProductopModel,this.createTipoProductopView instanceof Backbone.View&&(this.createTipoProductopView.stopListening(),this.createTipoProductopView.undelegateEvents()),this.createTipoProductopView=new app.CreateTipoProductopView({model:this.tipoproductopModel}),this.createTipoProductopView.render()},getTipoProductopEdit:function(e){this.tipoproductopModel=new app.TipoProductopModel,this.tipoproductopModel.set({id:e},{silent:!0}),this.createTipoProductopView instanceof Backbone.View&&(this.createTipoProductopView.stopListening(),this.createTipoProductopView.undelegateEvents()),this.createTipoProductopView=new app.CreateTipoProductopView({model:this.tipoproductopModel}),this.tipoproductopModel.fetch()},getSubtipoProductopMain:function(){this.mainSubtipoProductospView instanceof Backbone.View&&(this.mainSubtipoProductospView.stopListening(),this.mainSubtipoProductospView.undelegateEvents()),this.mainSubtipoProductospView=new app.MainSubtipoProductospView},getSubtipoProductopCreate:function(){this.subtipoproductopModel=new app.SubtipoProductopModel,this.createSubtipoProductopView instanceof Backbone.View&&(this.createSubtipoProductopView.stopListening(),this.createSubtipoProductopView.undelegateEvents()),this.createSubtipoProductopView=new app.CreateSubtipoProductopView({model:this.subtipoproductopModel}),this.createSubtipoProductopView.render()},getSubtipoProductopEdit:function(e){this.subtipoproductopModel=new app.SubtipoProductopModel,this.subtipoproductopModel.set({id:e},{silent:!0}),this.createSubtipoProductopView instanceof Backbone.View&&(this.createSubtipoProductopView.stopListening(),this.createSubtipoProductopView.undelegateEvents()),this.createSubtipoProductopView=new app.CreateSubtipoProductopView({model:this.subtipoproductopModel}),this.subtipoproductopModel.fetch()},getOrdenesMain:function(){this.mainOrdenesView instanceof Backbone.View&&(this.mainOrdenesView.stopListening(),this.mainOrdenesView.undelegateEvents()),this.mainOrdenesView=new app.MainOrdenesView},getOrdenesCreate:function(){this.ordenpModel=new app.OrdenpModel,this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),this.createOrdenpView=new app.CreateOrdenpView({model:this.ordenpModel}),this.createOrdenpView.render()},getOrdenesShow:function(e){this.ordenpModel=new app.OrdenpModel,this.ordenpModel.set({id:e},{silent:!0}),this.showOrdenesView instanceof Backbone.View&&(this.showOrdenesView.stopListening(),this.showOrdenesView.undelegateEvents()),this.showOrdenesView=new app.ShowOrdenesView({model:this.ordenpModel})},getOrdenesEdit:function(e){this.ordenpModel=new app.OrdenpModel,this.ordenpModel.set({id:e},{silent:!0}),this.createOrdenpView instanceof Backbone.View&&(this.createOrdenpView.stopListening(),this.createOrdenpView.undelegateEvents()),this.editOrdenpView instanceof Backbone.View&&(this.editOrdenpView.stopListening(),this.editOrdenpView.undelegateEvents()),this.editOrdenpView=new app.EditOrdenpView({model:this.ordenpModel}),this.ordenpModel.fetch()},getProductospMain:function(){this.mainProductospView instanceof Backbone.View&&(this.mainProductospView.stopListening(),this.mainProductospView.undelegateEvents()),this.mainProductospView=new app.MainProductospView},getOrdenesProductoCreate:function(e){var t=this.parseQueryString(e);this.ordenp2Model=new app.Ordenp2Model,this.createOrdenp2View instanceof Backbone.View&&(this.createOrdenp2View.stopListening(),this.createOrdenp2View.undelegateEvents()),this.createOrdenp2View=new app.CreateOrdenp2View({model:this.ordenp2Model,parameters:{data:{orden2_orden:t.ordenp,orden2_productop:t.productop}}}),this.createOrdenp2View.render()},getOrdenesProductoEdit:function(e){this.ordenp2Model=new app.Ordenp2Model,this.ordenp2Model.set({id:e},{silent:!0}),this.createOrdenp2View instanceof Backbone.View&&(this.createOrdenp2View.stopListening(),this.createOrdenp2View.undelegateEvents()),this.createOrdenp2View=new app.CreateOrdenp2View({model:this.ordenp2Model}),this.ordenp2Model.fetch()},getProductospCreate:function(){this.productopModel=new app.ProductopModel,this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),this.createProductopView=new app.CreateProductopView({model:this.productopModel}),this.createProductopView.render()},getProductospShow:function(e){this.productopModel=new app.ProductopModel,this.productopModel.set({id:e},{silent:!0}),this.showProductopView instanceof Backbone.View&&(this.showProductopView.stopListening(),this.showProductopView.undelegateEvents()),this.showProductopView=new app.ShowProductopView({model:this.productopModel})},getProductospEdit:function(e){this.productopModel=new app.ProductopModel,this.productopModel.set({id:e},{silent:!0}),this.createProductopView instanceof Backbone.View&&(this.createProductopView.stopListening(),this.createProductopView.undelegateEvents()),this.editProductopView instanceof Backbone.View&&(this.editProductopView.stopListening(),this.editProductopView.undelegateEvents()),this.editProductopView=new app.EditProductopView({model:this.productopModel}),this.productopModel.fetch()},getCotizacionesMain:function(){this.mainCotizacionesView instanceof Backbone.View&&(this.mainCotizacionesView.stopListening(),this.mainCotizacionesView.undelegateEvents()),this.mainCotizacionesView=new app.MainCotizacionesView},getCotizacionesCreate:function(){this.cotizacionModel=new app.CotizacionModel,this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),this.createCotizacionView=new app.CreateCotizacionView({model:this.cotizacionModel}),this.createCotizacionView.render()},getCotizacionesShow:function(e){this.cotizacionModel=new app.CotizacionModel,this.cotizacionModel.set({id:e},{silent:!0}),this.showCotizacionView instanceof Backbone.View&&(this.showCotizacionView.stopListening(),this.showCotizacionView.undelegateEvents()),this.showCotizacionView=new app.ShowCotizacionView({model:this.cotizacionModel})},getCotizacionesEdit:function(e){this.cotizacionModel=new app.CotizacionModel,this.cotizacionModel.set({id:e},{silent:!0}),this.editCotizacionView instanceof Backbone.View&&(this.editCotizacionView.stopListening(),this.editCotizacionView.undelegateEvents()),this.createCotizacionView instanceof Backbone.View&&(this.createCotizacionView.stopListening(),this.createCotizacionView.undelegateEvents()),this.editCotizacionView=new app.EditCotizacionView({model:this.cotizacionModel}),this.cotizacionModel.fetch()},getCotizacionesProductoCreate:function(e){var t=this.parseQueryString(e);this.cotizacion2Model=new app.Cotizacion2Model,this.createCotizacion2View instanceof Backbone.View&&(this.createCotizacion2View.stopListening(),this.createCotizacion2View.undelegateEvents()),this.createCotizacion2View=new app.CreateCotizacion2View({model:this.cotizacion2Model,parameters:{data:{cotizacion2_cotizacion:t.cotizacion,cotizacion2_productop:t.productop}}}),this.createCotizacion2View.render()},getCotizacionesProductoEdit:function(e){this.cotizacion2Model=new app.Cotizacion2Model,this.cotizacion2Model.set({id:e},{silent:!0}),this.createCotizacion2View instanceof Backbone.View&&(this.createCotizacion2View.stopListening(),this.createCotizacion2View.undelegateEvents()),this.createCotizacion2View=new app.CreateCotizacion2View({model:this.cotizacion2Model}),this.cotizacion2Model.fetch()},getFacturasMain:function(){this.mainFacturaView instanceof Backbone.View&&(this.mainFacturaView.stopListening(),this.mainFacturaView.undelegateEvents()),this.mainFacturaView=new app.MainFacturasView},getFacturaCreate:function(){this.facturaModel=new app.FacturaModel,this.createFacturaView instanceof Backbone.View&&(this.createFacturaView.stopListening(),this.createFacturaView.undelegateEvents()),this.createFacturaView=new app.CreateFacturaView({model:this.facturaModel}),this.createFacturaView.render()},getFacturaShow:function(e){this.facturaModel=new app.FacturaModel,this.facturaModel.set({id:e},{silent:!0}),this.showFacturasView instanceof Backbone.View&&(this.showFacturasView.stopListening(),this.showFacturasView.undelegateEvents()),this.showFacturasView=new app.ShowFacturaView({model:this.facturaModel})},getFacturaspMain:function(){this.mainFacturaspView instanceof Backbone.View&&(this.mainFacturaspView.stopListening(),this.mainFacturaspView.undelegateEvents()),this.mainFacturaspView=new app.MainFacturaspView},getFacturaspShow:function(e){this.facturapModel=new app.FacturapModel,this.facturapModel.set({id:e},{silent:!0}),this.showFacturapView instanceof Backbone.View&&(this.showFacturapView.stopListening(),this.showFacturapView.undelegateEvents()),this.showFacturapView=new app.ShowFacturapView({model:this.facturapModel})}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,o,i){var r=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},r.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initInputMask(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initDatePicker(),this.initTimePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-green",radioClass:"iradio_minimal-green"})},initAlertify:function(){alertify.logPosition("bottom right")},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0}),e("[data-currency-negative]").inputmask({radixPoint:",",alias:"currency",prefix:"",removeMaskOnSubmit:!0,unmaskAsNumber:!0})},initSelect2:function(){var t={".select2-default":{language:"es",placeholder:"Seleccione",allowClear:!1},".select2-default-clear":{language:"es",placeholder:"Seleccione",allowClear:!0},".choice-select-autocomplete":{language:"es",placeholder:"Seleccione una opción",ajax:{delay:250,data:function(e){return{q:e.term,page:e.page}},processResults:function(e,t){return t.page=t.page||1,{results:e,pagination:{more:30*t.page<e.total_count}}},escapeMarkup:function(e){return e},cache:!0,minimumInputLength:1}}};for(var o in t)e(o).each(function(r,n){var a=e(n);if(a.data("select2")==i&&(a.select2(t[o]),".choice-select-autocomplete"==o)){var s=a.data("initial-value"),c=null;if(s){var l=a.data("select2").dataAdapter.ajaxOptions;c=e("<option selected>Cargando...</option>").val(s),a.append(c).trigger("change"),e.get(l.url,{id:s},function(e){c.text(e[0].text).val(e[0].id),c.removeData(),a.trigger("change")})}}})},initToUpper:function(){e(".input-toupper").change(function(){e(this).val(e(this).val().toUpperCase())}),e(".input-lower").change(function(){for(var t=e(this).val(e(this).val().toLowerCase()),o=/[^a-z0-9]/i,i="",r=0;r<=t.val().length-1;r++)o.test(t.val().charAt(r))||(t.val().replace(o,""),i+=t.val().charAt(r));e(this).val(i)})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,o){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})},initTimePicker:function(){e(".timepicker").timepicker({showInputs:!1,showMeridian:!1})}},e(function(){t.initComponent=new r,t.initComponent.initialize()})}(jQuery,this,this.document);