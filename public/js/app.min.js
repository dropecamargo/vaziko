/*! koi-frontend - v1.0.0 - 2016-12-10 */
!function($, window, document, undefined) {
    var Misc = function(a) {};
    Misc.prototype = {
        initialize: function() {},
        formToJson: function(selector) {
            var o = {}, a = [];
            return a = $.prototype.isPrototypeOf(selector) ? selector.serializeArray() : $(selector).serializeArray(), 
            $.each(a, function() {
                o[this.name] !== undefined ? (o[this.name].push || (o[this.name] = [ o[this.name] ]), 
                o[this.name].push(this.value || "")) : o[this.name] = this.value || "";
            }), o;
        },
        isUrl: function(str) {
            var patt = /^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;
            return patt.test(str);
        },
        urlFull: function(route) {
            if (!this.isUrl(document.url)) return route;
            route || (route = "");
            var patt = /^\//;
            return patt.test(route) || (route = "/" + route), document.url + route;
        },
        parseErrors: function(errors) {
            var text = "";
            if (_.isObject(errors)) {
                var listError = "<ul>";
                $.each(errors, function(field, item) {
                    listError += "<li>" + item[0] + "</li>";
                }), listError += "</ul>", text = listError;
            }
            return text;
        },
        setSpinner: function(selector) {
            selector && $(selector).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>');
        },
        removeSpinner: function(selector) {
            var $selector = $(selector).find(".overlay");
            $selector.length && $selector.remove();
        },
        dataTableES: function() {
            return {
                sProcessing: '<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',
                sLengthMenu: "Mostrar _MENU_ registros",
                sZeroRecords: "No se encontraron resultados",
                sEmptyTable: "Ningún dato disponible en esta tabla",
                sInfo: "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                sInfoEmpty: "Mostrando registros del 0 al 0 de un total de 0 registros",
                sInfoFiltered: "(filtrado de un total de _MAX_ registros)",
                sInfoPostFix: "",
                sSearch: "Buscar:",
                sUrl: "",
                sInfoThousands: ",",
                sLoadingRecords: "Cargando...",
                oPaginate: {
                    sFirst: "Primero",
                    sLast: "Último",
                    sNext: "Siguiente",
                    sPrevious: "Anterior"
                },
                oAria: {
                    sSortAscending: ": Activar para ordenar la columna de manera ascendente",
                    sSortDescending: ": Activar para ordenar la columna de manera descendente"
                }
            };
        },
        redirect: function(url) {
            url !== undefined && "" != url ? window.location = url : window.location.reload();
        },
        successRedirect: function(msg, url) {
            alertify.success(msg), setTimeout(function() {
                window.Misc.redirect(url);
            }, 500);
        },
        currency: function(value) {
            return accounting.formatMoney(value, "", 2, ".", ",");
        },
        evaluateActionsAccount: function(options) {
            options || (options = {});
            var defaults = {
                callback: null,
                wrap: "body",
                data: null
            }, settings = {};
            settings = $.extend({}, defaults, options), $.ajax({
                url: window.Misc.urlFull(Route.route("asientos.detalle.evaluate")),
                type: "POST",
                data: settings.data,
                beforeSend: function() {
                    window.Misc.setSpinner(settings.wrap);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(settings.wrap);
                var text = resp.success ? "" : resp.errors;
                return _.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), 
                resp.success ? void ("Function" === {}.toString.call(settings.callback).slice(8, -1) && settings.callback(resp.actions)) : void alertify.error(text);
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(settings.wrap), alertify.error(thrownError);
            });
        },
        evaluateFacturap: function(options) {
            options || (options = {});
            var defaults = {
                callback: null,
                wrap: "body",
                facturap: null,
                tercero: null,
                naturaleza: null
            }, settings = {};
            settings = $.extend({}, defaults, options), $.ajax({
                url: window.Misc.urlFull(Route.route("facturap.search")),
                type: "GET",
                data: {
                    facturap1_factura: settings.facturap,
                    tercero_nit: settings.tercero
                },
                beforeSend: function() {
                    window.Misc.setSpinner(settings.wrap);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(settings.wrap);
                var response = {
                    actions: !1
                };
                resp.success ? (response.actions = !0, response.facturap = resp.id, response.action = "quota") : "C" == settings.naturaleza ? (response.actions = !0, 
                response.action = "add") : "D" == settings.naturaleza && (response.message = "Para realizar movimientos de naturaleza débito de ingresar un numero de factura existente."), 
                "Function" === {}.toString.call(settings.callback).slice(8, -1) && settings.callback(response);
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(settings.wrap), alertify.error(thrownError);
            });
        }
    }, window.Misc = new Misc(), window.Misc.initialize();
}(jQuery, this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ActividadModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("actividades.index"));
        },
        idAttribute: "id",
        defaults: {
            actividad_codigo: "",
            actividad_nombre: "",
            actividad_tarifa: "0",
            actividad_categoria: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.AsientoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("asientos.index"));
        },
        idAttribute: "id",
        defaults: {
            asiento1_ano: moment().format("YYYY"),
            asiento1_mes: moment().format("M"),
            asiento1_dia: moment().format("D"),
            asiento1_folder: "",
            asiento1_documento: "",
            documento_tipo_consecutivo: "",
            asiento1_numero: "",
            asiento1_beneficiario: "",
            tercero_nit: "",
            tercero_nombre: "",
            asiento1_sucursal: "",
            asiento1_preguardado: "",
            asiento1_detalle: "",
            asiento1_fecha_elaboro: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.Asiento2Model = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("asientos.detalle.index"));
        },
        idAttribute: "id",
        defaults: {
            asiento2_asiento: "",
            asiento2_cuenta: "",
            plancuentas_cuenta: "",
            plancuentas_nombre: "",
            asiento2_beneficiario: "",
            tercero_nit: "",
            tercero_nombre: "",
            asiento2_debito: 0,
            asiento2_credito: 0,
            asiento2_centro: "",
            centrocosto_nombre: "",
            asiento2_base: 0,
            asiento2_detalle: "",
            asiento2_orden: "",
            ordenp_codigo: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.AsientoMovModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("asientos.detalle.movimientos"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.CentroCostoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("centroscosto.index"));
        },
        idAttribute: "id",
        defaults: {
            centrocosto_codigo: "",
            centrocosto_centro: "",
            centrocosto_nombre: "",
            centrocosto_descripcion1: "",
            centrocosto_descripcion2: "",
            centrocosto_estructura: "N",
            centrocosto_tipo: "N",
            centrocosto_activo: !0
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ContactoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("terceros.contactos.index"));
        },
        idAttribute: "id",
        defaults: {
            tcontacto_nombres: "",
            tcontacto_apellidos: "",
            tcontacto_telefono: "",
            tcontacto_celular: "",
            tcontacto_municipio: "",
            tcontacto_direccion: "",
            tcontacto_email: "",
            tcontacto_cargo: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.DocumentoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("documentos.index"));
        },
        idAttribute: "id",
        defaults: {
            documento_codigo: "",
            documento_nombre: "",
            documento_folder: "",
            documento_tipo_consecutivo: "A"
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.EmpresaModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("empresa.index"));
        },
        idAttribute: "id",
        defaults: {
            tercero_nit: "",
            tercero_digito: "",
            tercero_regimen: "",
            tercero_tipo: "",
            tercero_persona: "",
            tercero_razonsocial: "",
            tercero_nombre1: "",
            tercero_nombre2: "",
            tercero_apellido1: "",
            tercero_apellido2: "",
            tercero_direccion: "",
            tercero_municipio: "",
            tercero_email: "",
            tercero_telefono1: "",
            tercero_telefono2: "",
            tercero_fax: "",
            tercero_celular: "",
            tercero_actividad: "",
            tercero_cc_representante: "",
            tercero_representante: "",
            tercero_responsable_iva: !1,
            tercero_autoretenedor_cree: !1,
            tercero_gran_contribuyente: !1,
            tercero_autoretenedor_renta: !1,
            tercero_autoretenedor_ica: !1,
            actividad_tarifa: "",
            empresa_niif: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.FacturapModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("facturap.index"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.Facturap2Model = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("facturap.cuotas.index"));
        },
        idAttribute: "id",
        defaults: {
            facturap2_factura: "",
            facturap2_cuota: "",
            facturap2_vencimiento: "",
            facturap2_valor: 0,
            facturap2_saldo: 0
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.FolderModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("folders.index"));
        },
        idAttribute: "id",
        defaults: {
            folder_codigo: "",
            folder_nombre: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.GrupoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("grupos.index"));
        },
        idAttribute: "id",
        defaults: {
            grupo_codigo: "",
            grupo_nombre: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ItemRolloModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("productos.rollos.index"));
        },
        idAttribute: "id",
        defaults: {
            prodboderollo_item: 0,
            prodboderollo_centimetro: 0,
            prodboderollo_saldo: 0
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.OrdenpModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("ordenes.index"));
        },
        idAttribute: "id",
        defaults: {
            orden_codigo: "",
            orden_referencia: "",
            orden_cliente: "",
            tercero_nit: "",
            tercero_nombre: "",
            orden_fecha_inicio: moment().format("YYYY-MM-DD"),
            orden_fecha_entrega: moment().format("YYYY-MM-DD"),
            orden_hora_entrega: "",
            orden_formapago: "CO",
            orden_contacto: "",
            tcontacto_nombre: "",
            tcontacto_telefono: "",
            orden_suministran: "",
            orden_observaciones: "",
            orden_terminado: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.PlanCuentaModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("plancuentas.index"));
        },
        idAttribute: "id",
        defaults: {
            plancuentas_cuenta: "",
            plancuentas_nivel: "",
            plancuentas_nombre: "",
            plancuentas_naturaleza: "D",
            plancuentas_centro: "",
            plancuentas_tercero: !1,
            plancuentas_tipo: "N",
            plancuentas_tasa: 0
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ProductoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("productos.index"));
        },
        idAttribute: "id",
        defaults: {
            producto_nombre: "",
            producto_codigo: "",
            producto_codigoori: "",
            producto_referencia: "",
            producto_grupo: "",
            producto_subgrupo: "",
            producto_unidadmedida: "",
            producto_precio: 0,
            producto_costo: 0,
            producto_vidautil: 0,
            producto_unidades: !0,
            producto_serie: !1,
            producto_metrado: !1
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.PuntoVentaModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("puntosventa.index"));
        },
        idAttribute: "id",
        defaults: {
            puntoventa_nombre: "",
            puntoventa_numero: "",
            puntoventa_prefijo: "",
            puntoventa_resolucion_dian: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.SubGrupoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("subgrupos.index"));
        },
        idAttribute: "id",
        defaults: {
            subgrupo_codigo: "",
            subgrupo_nombre: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.SucursalModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("sucursales.index"));
        },
        idAttribute: "id",
        defaults: {
            sucursal_nombre: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.TerceroModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("terceros.index"));
        },
        idAttribute: "id",
        defaults: {
            tercero_nit: "",
            tercero_digito: "",
            tercero_regimen: "",
            tercero_tipo: "",
            tercero_persona: "",
            tercero_razonsocial: "",
            tercero_nombre1: "",
            tercero_nombre2: "",
            tercero_apellido1: "",
            tercero_apellido2: "",
            tercero_direccion: "",
            tercero_municipio: "",
            tercero_email: "",
            tercero_telefono1: "",
            tercero_telefono2: "",
            tercero_fax: "",
            tercero_celular: "",
            tercero_actividad: "",
            tercero_cc_representante: "",
            tercero_representante: "",
            tercero_activo: !1,
            tercero_responsable_iva: !1,
            tercero_autoretenedor_cree: !1,
            tercero_gran_contribuyente: !1,
            tercero_autoretenedor_renta: !1,
            tercero_autoretenedor_ica: !1,
            tercero_socio: !1,
            tercero_cliente: !1,
            tercero_acreedor: !1,
            tercero_interno: !1,
            tercero_mandatario: !1,
            tercero_empleado: !1,
            tercero_proveedor: !1,
            tercero_extranjero: !1,
            tercero_afiliado: !1,
            tercero_otro: !1,
            tercero_cual: "",
            actividad_tarifa: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.TrasladoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("traslados.index"));
        },
        idAttribute: "id",
        defaults: {
            traslado1_sucursal: "",
            traslado1_numero: "",
            traslado1_destino: "",
            traslado1_fecha: moment().format("YYYY-MM-DD"),
            traslado1_observaciones: ""
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.Traslado2Model = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("traslados.detalle.index"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.UnidadModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("unidades.index"));
        },
        idAttribute: "id",
        defaults: {
            unidadmedida_sigla: "",
            unidadmedida_nombre: ""
        }
    });
}(this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateActividadView = Backbone.View.extend({
        el: "#actividad-create",
        template: _.template($("#add-actividad-tpl").html() || ""),
        events: {
            "submit #form-actividad": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-actividad"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initSpinner && window.initComponent.initSpinner();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("actividades.show", {
                    actividades: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainActividadView = Backbone.View.extend({
        el: "#actividades-main",
        initialize: function() {
            this.$actividadesSearchTable = this.$("#actividades-search-table"), this.$actividadesSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("actividades.index")),
                columns: [ {
                    data: "actividad_codigo",
                    name: "actividad_codigo"
                }, {
                    data: "actividad_nombre",
                    name: "actividad_nombre"
                }, {
                    data: "actividad_categoria",
                    name: "actividad_categoria"
                }, {
                    data: "actividad_tarifa",
                    name: "actividad_tarifa"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nueva actividad',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("actividades.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("actividades.show", {
                            actividades: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AsientoActionView = Backbone.View.extend({
        el: "#asiento-content-section",
        templateOrdenp: _.template($("#searchordenp-asiento-tpl").html() || ""),
        templateFacturap: _.template($("#rfacturap-asiento-tpl").html() || ""),
        templateAddFacturap: _.template($("#add-rfacturap-asiento-tpl").html() || ""),
        templateCuotasFacturap: _.template($("#add-rfacturap2-asiento-tpl").html() || ""),
        templateCartera: _.template($("#rcartera-asiento-tpl").html() || ""),
        templateAddFactura: _.template($("#add-facturacartera-asiento-tpl").html() || ""),
        templateCuotasFactura: _.template($("#add-cuotasfacturacartera-asiento-tpl").html() || ""),
        templateInventario: _.template($("#add-inventario-asiento-tpl").html() || ""),
        templateAddItemRollo: _.template($("#add-itemrollo-asiento-tpl").html() || ""),
        templateChooseItemsRollo: _.template($("#choose-itemrollo-asiento-tpl").html() || ""),
        templateAddSeries: _.template($("#add-series-asiento-tpl").html() || ""),
        events: {
            "submit #form-create-ordenp-asiento-component-source": "onStoreItemOrdenp",
            "submit #form-create-asiento-component-source": "onStoreItemFacturap",
            "change input#facturap1_factura": "facturapChanged",
            "change select#factura_nueva": "facturaNuevaChanged",
            "submit #form-create-inventario-asiento-component-source": "onStoreItemInventario",
            "change .evaluate-producto-movimiento-asiento": "evaluateProductoInventario"
        },
        parameters: {
            data: {},
            actions: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$modalOp = this.$("#modal-asiento-ordenp-component"), this.$modalFp = this.$("#modal-asiento-facturap-component"), 
            this.$modalIn = this.$("#modal-asiento-inventario-component"), this.$modalCt = this.$("#modal-asiento-cartera-component"), 
            this.cuotasFPList = new app.CuotasFPList(), this.itemRolloINList = new app.ItemRolloINList(), 
            this.productoSeriesINList = new app.ProductoSeriesINList(), this.listenTo(this.cuotasFPList, "reset", this.addAllCuotasFacturap), 
            this.listenTo(this.itemRolloINList, "reset", this.addAllItemRolloInventario), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.collection, "sync", this.responseServer);
        },
        render: function() {
            this.runAction();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask(), 
            "function" == typeof window.initComponent.initValidator && window.initComponent.initValidator(), 
            "function" == typeof window.initComponent.initDatePicker && window.initComponent.initDatePicker(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        runAction: function() {
            var resp = this.evaluateNextAction(), _this = this, stuffToDo = {
                facturap: function() {
                    _this.$modalFp.find(".content-modal").empty().html(_this.templateFacturap(_this.parameters.data)), 
                    _this.referenceFacturap();
                },
                cartera: function() {
                    _this.$modalCt.find(".content-modal").empty().html(_this.templateCartera(_this.parameters.data)), 
                    _this.referenceCartera();
                },
                ordenp: function() {
                    _this.$modalOp.find(".content-modal").empty().html(_this.templateOrdenp(_this.parameters.data)), 
                    _this.referenceOrdenp();
                },
                inventario: function() {
                    _this.$modalIn.find(".content-modal").empty().html(_this.templateInventario(_this.parameters.data)), 
                    _this.referenceInventario();
                },
                store: function() {
                    _this.onStoreItem();
                }
            };
            stuffToDo[resp.action] && stuffToDo[resp.action]();
        },
        evaluateNextAction: function() {
            var index;
            for (index = this.parameters.actions.length - 1; index >= 0; --index) if (action = this.parameters.actions[index], 
            0 == action.success) return action;
            return {
                action: "store"
            };
        },
        setSuccessAction: function(action) {
            var index;
            for (index = this.parameters.actions.length - 1; index >= 0; --index) item = this.parameters.actions[index], 
            item.action == action && (item.success = !0);
        },
        isLastAction: function(action) {
            var index;
            for (index = this.parameters.actions.length - 1; index >= 0; --index) if (item = this.parameters.actions[index], 
            0 == item.success && item.action != action) return !1;
            return !0;
        },
        validateAction: function(options) {
            options || (options = {});
            var defaults = {
                callback: null,
                action: null
            }, data = {}, settings = {};
            _this = this, settings = $.extend({}, defaults, options), data.action = settings.action, 
            data = $.extend({}, this.parameters.data, data), $.ajax({
                url: window.Misc.urlFull(Route.route("asientos.detalle.validate")),
                type: "POST",
                data: data,
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wraper);
                }
            }).done(function(resp) {
                if (window.Misc.removeSpinner(_this.$wraper), !_.isUndefined(resp.success)) {
                    var text = resp.success ? "" : resp.errors;
                    if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                    "Function" === {}.toString.call(settings.callback).slice(8, -1) && settings.callback(resp);
                }
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(settings.wrap), alertify.error(thrownError);
            });
        },
        referenceFacturap: function() {
            this.$wraper = this.$("#modal-asiento-wrapper-facturap"), this.$wraperFormFp = this.$("#content-invoice"), 
            this.$wraperErrorFp = this.$("#error-eval-facturap"), this.$wraperErrorFp.hide().empty(), 
            this.$modalFp.modal("show");
        },
        referenceCartera: function() {
            this.$wraper = this.$("#modal-asiento-wrapper-cartera"), this.$wraperFormCt = this.$("#content-cartera"), 
            this.$wraperErrorCt = this.$("#error-eval-cartera"), this.$wraperErrorCt.hide().empty(), 
            this.$modalCt.modal("show");
        },
        referenceOrdenp: function() {
            this.$wraper = this.$("#modal-asiento-wrapper-ordenp"), this.$wraperFormOp = this.$modalOp.find(".content-modal"), 
            this.$wraperErrorOp = this.$("#error-search-orden-asiento2"), this.$wraperErrorOp.hide().empty(), 
            this.$modalOp.modal("show");
        },
        referenceInventario: function() {
            this.$wraper = this.$("#modal-asiento-wrapper-inventario"), this.$wraperFormIn = this.$modalIn.find(".content-modal"), 
            this.$wraperDetailIn = this.$modalIn.find("#content-detail-inventory"), this.$wraperErrorIn = this.$("#error-inventario-asiento2"), 
            this.$inputInProducto = this.$("#producto_codigo"), this.$inputInUnidades = this.$("#movimiento_cantidad"), 
            this.$inputInSucursal = this.$("#movimiento_sucursal"), this.$wraperErrorIn.hide().empty(), 
            this.$modalIn.modal("show");
        },
        onStoreItemOrdenp: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.parameters.data = $.extend({}, this.parameters.data, window.Misc.formToJson(e.target)), 
            this.validateAction({
                action: "ordenp",
                callback: function(_this) {
                    return function(resp) {
                        resp.success && (_this.setSuccessAction("ordenp", _this.parameters.actions), _this.isLastAction("ordenp") || _this.$modalOp.modal("hide"), 
                        _this.runAction());
                    };
                }(this)
            }));
        },
        facturapChanged: function(e) {
            this.$wraperErrorFp.hide().empty(), this.$wraperFormFp.empty(), window.Misc.evaluateFacturap({
                facturap: $(e.currentTarget).val(),
                naturaleza: this.parameters.data.asiento2_naturaleza,
                tercero: this.parameters.data.tercero_nit,
                wrap: this.$wraperFormFp,
                callback: function(_this) {
                    return function(resp) {
                        if (resp.actions) {
                            var stuffToDo = {
                                add: function() {
                                    _this.$wraperFormFp.html(_this.templateAddFacturap()), _this.ready();
                                },
                                quota: function() {
                                    _this.$wraperFormFp.html(_this.templateCuotasFacturap()), _this.$wraperCuotasFp = _this.$("#browse-rfacturap2-list"), 
                                    _this.cuotasFPList.fetch({
                                        reset: !0,
                                        data: {
                                            facturap1: resp.facturap
                                        }
                                    });
                                }
                            };
                            stuffToDo[resp.action] && stuffToDo[resp.action]();
                        } else _.isUndefined(resp.message) || _.isNull(resp.message) || "" == resp.message || (_this.$wraperErrorFp.empty().append(resp.message), 
                        _this.$wraperErrorFp.show());
                    };
                }(this)
            });
        },
        addOneCuotaFacturap: function(Facturap2Model) {
            var view = new app.CuotasFPListView({
                model: Facturap2Model
            });
            this.$wraperCuotasFp.append(view.render().el), this.ready();
        },
        addAllCuotasFacturap: function() {
            this.cuotasFPList.forEach(this.addOneCuotaFacturap, this);
        },
        onStoreItemFacturap: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.parameters.data = $.extend({}, this.parameters.data, window.Misc.formToJson(e.target)), 
            this.validateAction({
                action: "facturap",
                callback: function(_this) {
                    return function(resp) {
                        resp.success && (_this.setSuccessAction("facturap", _this.parameters.actions), _this.isLastAction("facturap") || _this.$modalFp.modal("hide"), 
                        _this.runAction());
                    };
                }(this)
            }));
        },
        addOneItemRolloInventario: function(ItemRolloModel, choose) {
            choose || (choose = !1);
            var view = new app.ItemRolloINListView({
                model: ItemRolloModel,
                parameters: {
                    choose: choose
                }
            });
            this.$wraperItemRollo.append(view.render().el), this.ready();
        },
        addAllItemRolloInventario: function() {
            var _this = this;
            this.itemRolloINList.forEach(function(model, index) {
                _this.addOneItemRolloInventario(model, !0);
            });
        },
        addOneSerieInventario: function(ProductoModel) {
            var view = new app.ProductoSeriesINListView({
                model: ProductoModel
            });
            this.$wraperSeries.append(view.render().el), this.ready();
        },
        evaluateProductoInventario: function(e) {
            var _this = this, producto = this.$inputInProducto.val(), sucursal = this.$inputInSucursal.val(), unidades = this.$inputInUnidades.val();
            this.$wraperDetailIn.empty(), producto && sucursal && unidades && $.ajax({
                url: window.Misc.urlFull(Route.route("productos.search")),
                type: "GET",
                data: {
                    producto_codigo: producto
                },
                beforeSend: function() {
                    _this.$wraperErrorIn.hide().empty(), window.Misc.setSpinner(_this.$wraperFormIn);
                }
            }).done(function(resp) {
                if (window.Misc.removeSpinner(_this.$wraperFormIn), resp.success) {
                    if (!resp.producto_unidades) return _this.$wraperErrorIn.empty().append("No es posible realizar movimientos para productos que no manejan unidades"), 
                    void _this.$wraperErrorIn.show();
                    if (resp.producto_metrado) if ("D" == _this.parameters.data.asiento2_naturaleza) {
                        _this.$wraperDetailIn.html(_this.templateAddItemRollo()), _this.$wraperItemRollo = _this.$("#browse-itemtollo-list");
                        for (var item = 1; unidades >= item; item++) _this.addOneItemRolloInventario(new app.ItemRolloModel({
                            id: item
                        }));
                    } else _this.$wraperDetailIn.html(_this.templateChooseItemsRollo()), _this.$wraperItemRollo = _this.$("#browse-chooseitemtollo-list"), 
                    _this.itemRolloINList.fetch({
                        reset: !0,
                        data: {
                            producto: resp.id,
                            sucursal: sucursal
                        }
                    }); else if (resp.producto_serie && "D" == _this.parameters.data.asiento2_naturaleza) {
                        _this.$wraperDetailIn.html(_this.templateAddSeries()), _this.$wraperSeries = _this.$("#browse-series-list");
                        for (var item = 1; unidades >= item; item++) _this.addOneSerieInventario(new app.ProductoModel({
                            id: item
                        }));
                    }
                }
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                _this.$wraperErrorIn.empty().append(thrownError), _this.$wraperErrorIn.show();
            });
        },
        onStoreItemInventario: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.parameters.data = $.extend({}, this.parameters.data, window.Misc.formToJson(e.target)), 
            this.validateAction({
                action: "inventario",
                callback: function(_this) {
                    return function(resp) {
                        resp.success && (_this.setSuccessAction("inventario", _this.parameters.actions), 
                        _this.isLastAction("inventario") || _this.$modalIn.modal("hide"), _.isUndefined(resp.asiento2_valor) || _.isNull(resp.asiento2_valor) || resp.asiento2_valor == _this.parameters.data.asiento2_valor || (_this.parameters.data.asiento2_valor = resp.asiento2_valor), 
                        _this.runAction());
                    };
                }(this)
            }));
        },
        facturaNuevaChanged: function(e) {
            this.$wraperErrorCt.hide().empty(), this.$wraperFormCt.empty(), "N" == $(e.currentTarget).val() ? this.$wraperFormCt.html(this.templateAddFactura()) : this.$wraperFormCt.html(this.templateCuotasFactura()), 
            this.ready();
        },
        onStoreItem: function(e) {
            this.model.id != undefined ? this.collection.trigger("store", this.parameters.data) : this.model.save(this.parameters.data, {
                patch: !0,
                silent: !0
            });
        },
        responseServer: function(model, resp, opts) {
            _.isUndefined(resp.success) || resp.success && (this.$modalOp.modal("hide"), this.$modalIn.modal("hide"), 
            this.$modalFp.modal("hide"));
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AsientoCuentasListView = Backbone.View.extend({
        el: "#browse-detalle-asiento-list",
        events: {
            "click .item-asiento2-remove": "removeOne"
        },
        parameters: {
            wrapper: null,
            edit: !1,
            dataFilter: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$debitos = this.$("#total-debitos"), this.$creditos = this.$("#total-creditos"), 
            this.$diferencia = this.$("#total-diferencia"), this.confCollection = {
                reset: !0,
                data: {}
            }, this.listenTo(this.collection, "add", this.addOne), this.listenTo(this.collection, "reset", this.addAll), 
            this.listenTo(this.collection, "request", this.loadSpinner), this.listenTo(this.collection, "store", this.storeOne), 
            this.listenTo(this.collection, "sync", this.responseServer), _.isUndefined(this.parameters.dataFilter.asiento) || _.isNull(this.parameters.dataFilter.asiento) || (this.confCollection.data.asiento = this.parameters.dataFilter.asiento, 
            this.collection.fetch(this.confCollection));
        },
        addOne: function(Asiento2Model) {
            var view = new app.AsientoCuentasItemView({
                model: Asiento2Model,
                parameters: {
                    edit: this.parameters.edit
                }
            });
            Asiento2Model.view = view, this.$el.append(view.render().el), this.totalize();
        },
        addAll: function() {
            this.collection.forEach(this.addOne, this);
        },
        storeOne: function(data) {
            var _this = this;
            window.Misc.setSpinner(this.parameters.wrapper);
            var asiento2Model = new app.Asiento2Model();
            asiento2Model.save(data, {
                success: function(model, resp) {
                    if (!_.isUndefined(resp.success)) {
                        window.Misc.removeSpinner(_this.parameters.wrapper);
                        var text = resp.success ? "" : resp.errors;
                        if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                        _this.collection.add(model);
                    }
                },
                error: function(model, error) {
                    window.Misc.removeSpinner(_this.parameters.wrapper), alertify.error(error.statusText);
                }
            });
        },
        removeOne: function(e) {
            e.preventDefault();
            var resource = $(e.currentTarget).attr("data-resource"), model = this.collection.get(resource), _this = this;
            model instanceof Backbone.Model && model.destroy({
                success: function(model, resp) {
                    if (!_.isUndefined(resp.success)) {
                        if (window.Misc.removeSpinner(_this.parameters.wrapper), !resp.success) return void alertify.error(resp.errors);
                        model.view.remove(), _this.collection.remove(model), _this.totalize();
                    }
                }
            });
        },
        totalize: function() {
            var data = this.collection.totalize();
            this.$debitos.length && this.$debitos.html(window.Misc.currency(data.debitos)), 
            this.$creditos.length && this.$creditos.html(window.Misc.currency(data.creditos)), 
            this.$diferencia.length && this.$diferencia.html(window.Misc.currency(data.diferencia));
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.parameters.wrapper);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.parameters.wrapper);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AsientoCuentasItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#add-asiento2-item-tpl").html() || ""),
        templateInfo: _.template($("#show-info-asiento2-tpl").html() || ""),
        templateInfoInsumo: _.template($("#show-info-asiento2-movimientos-insumo-tpl").html() || ""),
        events: {
            "click .item-asiento2-show-info": "showInfo"
        },
        parameters: {
            edit: !1
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$modalInfo = $("#modal-asiento-show-info-component"), this.asientoMovimientosList = new app.AsientoMovimientosList(), 
            this.listenTo(this.model, "change", this.render), this.listenTo(this.asientoMovimientosList, "request", this.loadSpinner), 
            this.listenTo(this.asientoMovimientosList, "sync", this.responseServer), this.listenTo(this.asientoMovimientosList, "reset", this.addAll);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return attributes.edit = this.parameters.edit, this.$el.html(this.template(attributes)), 
            this;
        },
        showInfo: function() {
            var attributes = this.model.toJSON();
            this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(attributes)), 
            this.$wrapperList = this.$modalInfo.find("#browse-showinfo-asiento-list"), this.$wrapperInsumo = this.$modalInfo.find("#browse-showinfo-asiento-insumo"), 
            this.asientoMovimientosList.fetch({
                reset: !0,
                data: {
                    asiento2: this.model.get("id")
                }
            }), this.$modalInfo.modal("show");
        },
        addOne: function(AsientoMovModel) {
            var view = new app.AsientoMovimientosItemView({
                model: AsientoMovModel
            });
            this.$wrapperList.append(view.render().el);
        },
        addAll: function() {
            this.asientoMovimientosList.forEach(this.addOne, this);
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.$wrapperList);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.$wrapperList);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AsientoMovimientosItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#show-info-asiento2-movimientos-tpl").html() || ""),
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateAsientoView = Backbone.View.extend({
        el: "#asientos-create",
        template: _.template($("#add-asiento-tpl").html() || ""),
        templateFp: _.template($("#add-rfacturap-tpl").html() || ""),
        events: {
            "change select#asiento1_documento": "documentoChanged",
            "change input#asiento2_base": "baseChanged",
            "submit #form-asientos": "onStore"
        },
        initialize: function() {
            this.$modalFactura = $("#modal-facturap-component"), this.$wraperForm = this.$("#render-form-asientos"), 
            this.asientoCuentasList = new app.AsientoCuentasList(), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            attributes.edit = !1, this.$wraperForm.html(this.template(attributes)), this.$numero = this.$("#asiento1_numero"), 
            this.$form = this.$("#form-asientos"), this.$formItem = this.$("#form-item-asiento"), 
            this.$inputTasa = this.$("#asiento2_tasa"), this.$inputValor = this.$("#asiento2_valor"), 
            this.$inputBase = this.$("#asiento2_base"), this.referenceViews(), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initValidator && window.initComponent.initValidator(), 
            "function" == typeof window.initComponent.initDatePicker && window.initComponent.initDatePicker();
        },
        referenceViews: function() {
            this.cuentasListView = new app.AsientoCuentasListView({
                collection: this.asientoCuentasList,
                parameters: {
                    wrapper: this.el,
                    edit: !0,
                    dataFilter: {
                        asiento: this.model.get("id")
                    }
                }
            });
        },
        documentoChanged: function(e) {
            var _this = this, documento = $(e.currentTarget).val();
            _this.$numero.val(""), _.isUndefined(documento) || _.isNull(documento) || "" == documento || $.ajax({
                url: window.Misc.urlFull(Route.route("documentos.show", {
                    documentos: documento
                })),
                type: "GET",
                beforeSend: function() {
                    window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), _.isObject(resp) && (_.isUndefined(resp.documento_tipo_consecutivo) || _.isNull(resp.documento_tipo_consecutivo) || (_this.$numero.val(resp.documento_consecutivo + 1), 
                "M" == resp.documento_tipo_consecutivo ? _this.$numero.prop("readonly", !1) : "A" == resp.documento_tipo_consecutivo && _this.$numero.prop("readonly", !0)));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                data.asiento1_id = this.model.get("id"), data.tercero_nit = data.tercero_nit ? data.tercero_nit : data.asiento1_beneficiario, 
                data.tercero_nombre = data.tercero_nombre ? data.tercero_nombre : data.asiento1_beneficiario_nombre, 
                window.Misc.evaluateActionsAccount({
                    data: data,
                    wrap: this.$el,
                    callback: function(_this) {
                        return function(actions) {
                            Array.isArray(actions) && actions.length > 0 ? (_this.asientoActionView instanceof Backbone.View && (_this.asientoActionView.stopListening(), 
                            _this.asientoActionView.undelegateEvents()), _this.asientoActionView = new app.AsientoActionView({
                                model: _this.model,
                                collection: _this.asientoCuentasList,
                                parameters: {
                                    data: data,
                                    actions: actions
                                }
                            }), _this.asientoActionView.render()) : _this.model.save(data, {
                                patch: !0,
                                silent: !0
                            });
                        };
                    }(this)
                });
            }
        },
        baseChanged: function(e) {
            var tasa = this.$inputTasa.val(), base = this.$inputBase.inputmask("unmaskedvalue");
            !_.isUndefined(tasa) && !_.isNull(tasa) && tasa > 0 ? this.$inputValor.val(tasa * base / 100) : this.$inputValor.val("");
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                this.createFacturapView instanceof Backbone.View && (this.createFacturapView.stopListening(), 
                this.createFacturapView.undelegateEvents()), Backbone.history.navigate(Route.route("asientos.edit", {
                    asientos: resp.id
                }), {
                    trigger: !0
                });
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.EditAsientoView = Backbone.View.extend({
        el: "#asientos-create",
        template: _.template($("#add-asiento-tpl").html() || ""),
        templateFp: _.template($("#add-rfacturap-tpl").html() || ""),
        events: {
            "change select#asiento1_documento": "documentoChanged",
            "submit #form-item-asiento": "onStoreItem",
            "change input#asiento2_base": "baseChanged",
            "click .submit-asiento": "submitAsiento",
            "submit #form-asientos": "onStore"
        },
        initialize: function() {
            this.$wraperForm = this.$("#render-form-asientos"), this.asientoCuentasList = new app.AsientoCuentasList(), 
            this.listenTo(this.model, "change", this.render), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            attributes.edit = !0, this.$wraperForm.html(this.template(attributes)), this.$numero = this.$("#asiento1_numero"), 
            this.$form = this.$("#form-asientos"), this.$formItem = this.$("#form-item-asiento"), 
            this.$inputTasa = this.$("#asiento2_tasa"), this.$inputValor = this.$("#asiento2_valor"), 
            this.$inputBase = this.$("#asiento2_base"), this.$inputDocumento = this.$("#asiento1_documento"), 
            this.referenceViews(), this.ready(), "A" == this.model.get("documento_tipo_consecutivo") && this.$inputDocumento.change();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initValidator && window.initComponent.initValidator(), 
            "function" == typeof window.initComponent.initDatePicker && window.initComponent.initDatePicker(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask();
        },
        referenceViews: function() {
            this.cuentasListView = new app.AsientoCuentasListView({
                collection: this.asientoCuentasList,
                parameters: {
                    wrapper: this.el,
                    edit: !0,
                    dataFilter: {
                        asiento: this.model.get("id")
                    }
                }
            });
        },
        documentoChanged: function(e) {
            var _this = this, documento = $(e.currentTarget).val();
            _this.$numero.val(""), _.isUndefined(documento) || _.isNull(documento) || "" == documento || $.ajax({
                url: window.Misc.urlFull(Route.route("documentos.show", {
                    documentos: documento
                })),
                type: "GET",
                beforeSend: function() {
                    window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), _.isObject(resp) && (_.isUndefined(resp.documento_tipo_consecutivo) || _.isNull(resp.documento_tipo_consecutivo) || (_this.$numero.val(resp.documento_consecutivo + 1), 
                "M" == resp.documento_tipo_consecutivo ? _this.$numero.prop("readonly", !1) : "A" == resp.documento_tipo_consecutivo && _this.$numero.prop("readonly", !0)));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        submitAsiento: function(e) {
            this.$form.submit();
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        onStoreItem: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                data.asiento1_id = this.model.get("id"), data.tercero_nit = data.tercero_nit ? data.tercero_nit : this.model.get("tercero_nit"), 
                data.tercero_nombre = data.tercero_nombre ? data.tercero_nombre : this.model.get("tercero_nombre"), 
                window.Misc.evaluateActionsAccount({
                    data: data,
                    wrap: this.$el,
                    callback: function(_this) {
                        return function(actions) {
                            Array.isArray(actions) && actions.length > 0 ? (_this.asientoActionView instanceof Backbone.View && (_this.asientoActionView.stopListening(), 
                            _this.asientoActionView.undelegateEvents()), _this.asientoActionView = new app.AsientoActionView({
                                model: _this.model,
                                collection: _this.asientoCuentasList,
                                parameters: {
                                    data: data,
                                    actions: actions
                                }
                            }), _this.asientoActionView.render()) : _this.asientoCuentasList.trigger("store", data);
                        };
                    }(this)
                });
            }
        },
        baseChanged: function(e) {
            var tasa = this.$inputTasa.val(), base = this.$inputBase.inputmask("unmaskedvalue");
            !_.isUndefined(tasa) && !_.isNull(tasa) && tasa > 0 ? this.$inputValor.val(tasa * base / 100) : this.$inputValor.val("");
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("asientos.edit", {
                    asientos: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CuotasFPListView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#add-rfacturap2-item-tpl").html() || ""),
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ItemRolloINListView = Backbone.View.extend({
        tagName: "tr",
        template: null,
        initialize: function(opts) {
            opts.parameters.choose ? this.template = _.template($("#choose-itemrollo-tpl").html() || "") : this.template = _.template($("#add-itemrollo-tpl").html() || ""), 
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainAsientosView = Backbone.View.extend({
        el: "#asientos-main",
        initialize: function() {
            this.$asientosSearchTable = this.$("#asientos-search-table"), this.$asientosSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("asientos.index")),
                columns: [ {
                    data: "asiento1_numero",
                    name: "asiento1_numero"
                }, {
                    data: "asiento1_ano",
                    name: "asiento1_ano"
                }, {
                    data: "asiento1_mes",
                    name: "asiento1_mes"
                }, {
                    data: "tercero_nit",
                    name: "tercero_nit"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "tercero_razonsocial",
                    name: "tercero_razonsocial"
                }, {
                    data: "tercero_nombre1",
                    name: "tercero_nombre1"
                }, {
                    data: "tercero_nombre2",
                    name: "tercero_nombre2"
                }, {
                    data: "tercero_apellido1",
                    name: "tercero_apellido1"
                }, {
                    data: "tercero_apellido2",
                    name: "tercero_apellido2"
                }, {
                    data: "asiento1_preguardado",
                    name: "asiento1_preguardado"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nueva asiento',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("asientos.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return full.asiento1_preguardado ? '<a href="' + window.Misc.urlFull(Route.route("asientos.edit", {
                            asientos: full.id
                        })) + '">' + data + ' <span class="label label-warning">PRE</span></a>' : '<a href="' + window.Misc.urlFull(Route.route("asientos.show", {
                            asientos: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: [ 1, 2 ],
                    width: "10%"
                }, {
                    targets: 3,
                    width: "15%"
                }, {
                    targets: 4,
                    searchable: !1
                }, {
                    targets: [ 5, 6, 7, 8, 9 ],
                    visible: !1
                }, {
                    targets: 10,
                    visible: !1,
                    searchable: !1
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ProductoSeriesINListView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#add-serie-tpl").html() || ""),
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ShowAsientoView = Backbone.View.extend({
        el: "#asientos-show",
        initialize: function() {
            this.model.id != undefined && (this.asientoCuentasList = new app.AsientoCuentasList(), 
            this.referenceViews());
        },
        referenceViews: function() {
            this.cuentasListView = new app.AsientoCuentasListView({
                collection: this.asientoCuentasList,
                parameters: {
                    wrapper: this.el,
                    dataFilter: {
                        asiento: this.model.get("id")
                    }
                }
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateCentroCostoView = Backbone.View.extend({
        el: "#centrocosto-create",
        template: _.template($("#add-centrocosto-tpl").html() || ""),
        events: {
            "submit #form-centrocosto": "onStore"
        },
        parameters: {
            callback: ""
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.msgSuccess = "Centro de costo guardado con exito!", this.$wraperForm = this.$("#render-form-centrocosto"), 
            this.listenTo(this.model, "change", this.render), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck(), 
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                var _this = this, stuffToDo = {
                    toShow: function() {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("centroscosto.show", {
                            centroscosto: resp.id
                        })));
                    },
                    "default": function() {
                        alertify.success(_this.msgSuccess);
                    }
                };
                stuffToDo[this.parameters.callback] ? stuffToDo[this.parameters.callback]() : stuffToDo["default"]();
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainCentrosCostoView = Backbone.View.extend({
        el: "#centroscosto-main",
        initialize: function() {
            this.$centroscostoSearchTable = this.$("#centroscosto-search-table"), this.$centroscostoSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("centroscosto.index")),
                columns: [ {
                    data: "centrocosto_codigo",
                    name: "centrocosto_codigo"
                }, {
                    data: "centrocosto_centro",
                    name: "centrocosto_centro"
                }, {
                    data: "centrocosto_nombre",
                    name: "centrocosto_nombre"
                }, {
                    data: "centrocosto_estructura",
                    name: "centrocosto_estructura"
                }, {
                    data: "centrocosto_activo",
                    name: "centrocosto_activo"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo centro de costo',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("centroscosto.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("centroscosto.show", {
                            centroscosto: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 3,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return "S" == data ? "Si" : "No";
                    }
                }, {
                    targets: [ 4 ],
                    width: "10%",
                    render: function(data, type, full, row) {
                        return data ? "Si" : "No";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentAddressView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-address-component-tpl").html() || ""),
        events: {
            "click .btn-address-koi-component": "focusComponent",
            "submit #form-address-component": "addAddress",
            "change select#koi_nomenclatura1": "nomenclatura1Changed",
            "change input#koi_numero1": "numero1Changed",
            "change select#koi_alfabeto1": "alfabeto1Changed",
            "change select#koi_bis": "bisChanged",
            "change select#koi_alfabeto2": "alfabeto2Changed",
            "change select#koi_cardinales1": "cardinales1Changed",
            "change input#koi_numero2": "numero2Changed",
            "change select#koi_alfabeto3": "alfabeto3Changed",
            "change input#koi_numero3": "numero3Changed",
            "change select#koi_cardinales2": "cardinales2Changed",
            "click .btn-address-component-add-complement": "addComplement",
            "click .btn-address-component-remove-item": "removeItem"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-address-component");
        },
        focusComponent: function(e) {
            $("#" + $(e.currentTarget).attr("data-field")).focus();
        },
        addressChanged: function(e) {
            this.inputContent = $(e.currentTarget), this.$modalComponent.find(".content-modal").html(this.template({})), 
            this.$addressField = this.$modalComponent.find("#koi_direccion"), this.$postalField = this.$modalComponent.find("#koi_postal"), 
            this.$formComponent = this.$modalComponent.find("#form-address-component"), this.addressData = new Array(10), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            this.$formComponent.validator(), this.$modalComponent.modal("show");
        },
        addAddress: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.inputContent.val(this.$addressField.val()), 
            this.$modalComponent.modal("hide"));
        },
        nomenclatura1Changed: function(e) {
            this.addressData[0] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero1Changed: function(e) {
            this.addressData[1] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        alfabeto1Changed: function(e) {
            this.addressData[2] = $(e.currentTarget).val(), this.buildAddress();
        },
        bisChanged: function(e) {
            this.addressData[3] = $(e.currentTarget).val(), this.buildAddress();
        },
        alfabeto2Changed: function(e) {
            this.addressData[4] = $(e.currentTarget).val(), this.buildAddress();
        },
        cardinales1Changed: function(e) {
            this.addressData[5] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero2Changed: function(e) {
            this.addressData[6] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        alfabeto3Changed: function(e) {
            this.addressData[7] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero3Changed: function(e) {
            this.addressData[8] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        cardinales2Changed: function(e) {
            this.addressData[9] = $(e.currentTarget).val(), this.buildAddress();
        },
        addComplement: function(e) {
            e.preventDefault(), _.isUndefined(this.$("#koi_complementos1").val()) || _.isNull(this.$("#koi_complementos1").val()) || "" == this.$("#koi_complementos1").val() || (this.addressData.push(this.$("#koi_complementos1").val()), 
            _.isUndefined(this.$("#koi_complementos2").val()) || _.isNull(this.$("#koi_complementos2").val()) || "" == this.$("#koi_complementos2").val() || this.addressData.push(this.$("#koi_complementos2").val()), 
            this.$("#koi_complementos1").val(""), this.$("#koi_complementos2").val(""), this.buildAddress());
        },
        removeItem: function(e) {
            e.preventDefault(), this.addressData.pop(), this.buildAddress();
        },
        buildAddress: function() {
            var addreess = $.grep(this.addressData, Boolean).join(" ").trim();
            this.$addressField.val(addreess), console.log(this.$postalField.val());
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentConsecutiveView = Backbone.View.extend({
        el: "body",
        events: {
            "change .change-sucursal-consecutive-koi-component": "sucursalChange"
        },
        initialize: function() {},
        sucursalChange: function(e) {
            var _this = this;
            module = $(e.currentTarget).attr("data-module"), sucursal = $(e.currentTarget).val(), 
            this.$consecutive = $("#" + $(e.currentTarget).attr("data-field")), this.$wrapperContent = $("#" + $(e.currentTarget).attr("data-wrapper")), 
            $.ajax({
                url: window.Misc.urlFull(Route.route("sucursales.show", {
                    sucursales: sucursal
                })),
                type: "GET",
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wrapperContent);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wrapperContent);
                var consecutive = 0;
                "traslados" == module && (consecutive = resp.sucursal_traslado), _this.$consecutive.val(consecutive + 1);
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wrapperContent), alertify.error(thrownError);
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentCreateResourceView = Backbone.View.extend({
        el: "body",
        events: {
            "click .btn-add-resource-koi-component": "addResource",
            "submit #form-create-resource-component": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$modalComponent = this.$("#modal-add-resource-component"), this.$wraperError = this.$("#error-resource-component"), 
            this.$wraperContent = this.$("#content-create-resource-component").find(".modal-body");
        },
        addResource: function(e) {
            if (this.resource = $(e.currentTarget).attr("data-resource"), this.$resourceField = $("#" + $(e.currentTarget).attr("data-field")), 
            this.parameters = {}, "contacto" == this.resource && (this.$inputPhone = this.$("#" + $(e.currentTarget).attr("data-phone")), 
            this.parameters.tcontacto_tercero = $(e.currentTarget).attr("data-tercero"), _.isUndefined(this.parameters.tcontacto_tercero) || _.isNull(this.parameters.tcontacto_tercero) || "" == this.parameters.tcontacto_tercero)) return void alertify.error("Por favor ingrese cliente antes agregar contacto.");
            var _this = this, stuffToDo = {
                centrocosto: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Centros de costo"), _this.model = new app.CentroCostoModel();
                    var template = _.template($("#add-centrocosto-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                folder: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Folder"), _this.model = new app.FolderModel();
                    var template = _.template($("#add-folder-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                tercero: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Tercero"), _this.model = new app.TerceroModel();
                    var template = _.template($("#add-tercero-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                grupo: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Grupo inventario"), _this.model = new app.GrupoModel();
                    var template = _.template($("#add-grupo-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                subgrupo: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Subrupo inventario"), _this.model = new app.SubGrupoModel();
                    var template = _.template($("#add-subgrupo-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                unidadmedida: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Unidad de medida"), _this.model = new app.UnidadModel();
                    var template = _.template($("#add-unidad-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                producto: function() {
                    _this.$modalComponent.find(".inner-title-modal").html("Producto"), _this.model = new app.ProductoModel();
                    var template = _.template($("#add-producto-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                },
                contacto: function() {
                    _this.$resourceName = $("#" + $(e.currentTarget).attr("data-name")), _this.$modalComponent.find(".inner-title-modal").html("Contacto"), 
                    _this.model = new app.ContactoModel();
                    var template = _.template($("#add-contacto-tpl").html());
                    _this.$modalComponent.find(".content-modal").html(template(_this.model.toJSON()));
                }
            };
            stuffToDo[this.resource] && (stuffToDo[this.resource](), this.$wraperError.hide().empty(), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner), 
            this.ready(), this.$modalComponent.modal("show"));
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                this.$wraperError.hide().empty(), e.preventDefault();
                var data = $.extend({}, this.parameters, window.Misc.formToJson(e.target));
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.$wraperContent);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.$wraperContent);
            var text = resp.success ? "" : resp.errors;
            if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return this.$wraperError.empty().append(text), 
            void this.$wraperError.show();
            var _this = this, stuffToDo = {
                centrocosto: function() {
                    _this.$resourceField.select2({
                        data: [ {
                            id: _this.model.get("id"),
                            text: _this.model.get("centrocosto_nombre")
                        } ]
                    }).trigger("change"), _this.$resourceField.val(_this.model.get("id")).trigger("change");
                },
                folder: function() {
                    _this.$resourceField.select2({
                        data: [ {
                            id: _this.model.get("id"),
                            text: _this.model.get("folder_nombre")
                        } ]
                    }).trigger("change"), _this.$resourceField.val(_this.model.get("id")).trigger("change");
                },
                tercero: function() {
                    _this.$resourceField.val(_this.model.get("tercero_nit")).trigger("change");
                },
                grupo: function() {
                    _this.$resourceField.select2({
                        data: [ {
                            id: _this.model.get("id"),
                            text: _this.model.get("grupo_nombre")
                        } ]
                    }).trigger("change"), _this.$resourceField.val(_this.model.get("id")).trigger("change");
                },
                subgrupo: function() {
                    _this.$resourceField.select2({
                        data: [ {
                            id: _this.model.get("id"),
                            text: _this.model.get("subgrupo_nombre")
                        } ]
                    }).trigger("change"), _this.$resourceField.val(_this.model.get("id")).trigger("change");
                },
                unidadmedida: function() {
                    _this.$resourceField.select2({
                        data: [ {
                            id: _this.model.get("id"),
                            text: _this.model.get("unidadmedida_nombre")
                        } ]
                    }).trigger("change"), _this.$resourceField.val(_this.model.get("id")).trigger("change");
                },
                producto: function() {
                    _this.$resourceField.val(_this.model.get("producto_codigo")).trigger("change");
                },
                contacto: function() {
                    _this.$resourceField.val(_this.model.get("id")), _this.$resourceName.val(_this.model.get("tcontacto_nombre")), 
                    _this.$inputPhone.length && _this.$inputPhone.val(_this.model.get("tcontacto_telefono"));
                }
            };
            stuffToDo[this.resource] && (stuffToDo[this.resource](), "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            this.$modalComponent.modal("hide"));
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentDocumentView = Backbone.View.extend({
        el: "body",
        events: {
            "change .select-filter-document-koi-component": "folderChanged"
        },
        initialize: function() {},
        folderChanged: function(e) {
            var _this = this;
            this.$inputContent = $(e.currentTarget), this.$wraperConten = this.$("#" + $(e.currentTarget).attr("data-wrapper")), 
            this.$inputDocument = this.$("#" + $(e.currentTarget).attr("data-documents"));
            var folder = this.$inputContent.val();
            this.$inputDocument.find("option:gt(0)").remove(), _.isUndefined(folder) || _.isNull(folder) || "" == folder || $.ajax({
                url: window.Misc.urlFull(Route.route("documentos.filter")),
                type: "GET",
                data: {
                    folder: folder
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wraperConten);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperConten), resp.success && _.isObject(resp.documents) && ($.each(resp.documents, function(index, doc) {
                    _this.$inputDocument.append($("<option></option>").attr("value", doc.id).text(doc.documento_nombre));
                }), _this.$inputDocument.change());
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperConten), alertify.error(thrownError);
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentReportView = Backbone.View.extend({
        el: "body",
        events: {
            "click .btn-export-pdf-koi-component": "onPdf",
            "click .btn-export-xls-koi-component": "onXls"
        },
        initialize: function() {},
        onPdf: function(e) {
            this.$("#type-report-koi-component").val("pdf");
        },
        onXls: function(e) {
            this.$("#type-report-koi-component").val("xls");
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentSearchContactoView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-search-contacto-component-tpl").html() || ""),
        events: {
            "click .btn-koi-search-contacto-component-table": "searchOrden",
            "click .btn-search-koi-search-contacto-component": "search",
            "click .btn-clear-koi-search-contacto-component": "clear",
            "click .a-koi-search-contacto-component-table": "setContacto"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-search-contacto-component");
        },
        searchOrden: function(e) {
            e.preventDefault();
            var _this = this;
            this.$modalComponent.find(".content-modal").html(this.template({})), this.$searchContactoNombres = this.$("#koi_search_contacto_nombres"), 
            this.$searchContactoApellidos = this.$("#koi_search_contacto_apellidos"), this.$resourceTercero = this.$("#" + $(e.currentTarget).attr("data-tercero"));
            var tercero = this.$resourceTercero.attr("data-tercero");
            return _.isUndefined(tercero) || _.isNull(tercero) || "" == tercero ? void alertify.error("Por favor ingrese cliente antes agregar contacto.") : (this.$contactoSearchTable = this.$modalComponent.find("#koi-search-contacto-component-table"), 
            this.$inputContent = this.$("#" + $(e.currentTarget).attr("data-field")), this.$inputName = this.$("#" + $(e.currentTarget).attr("data-name")), 
            this.$inputPhone = this.$("#" + $(e.currentTarget).attr("data-phone")), this.contactoSearchTable = this.$contactoSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("terceros.contactos.index")),
                    data: function(data) {
                        data.tcontacto_nombres = _this.$searchContactoNombres.val(), data.tcontacto_apellidos = _this.$searchContactoApellidos.val(), 
                        data.tcontacto_tercero = tercero;
                    }
                },
                columns: [ {
                    data: "id",
                    name: "id"
                }, {
                    data: "tcontacto_nombres",
                    name: "tcontacto_nombres"
                }, {
                    data: "tcontacto_apellidos",
                    name: "tcontacto_apellidos"
                }, {
                    data: "tcontacto_nombre",
                    name: "tcontacto_nombre"
                }, {
                    data: "tcontacto_telefono",
                    name: "tcontacto_telefono"
                }, {
                    data: "municipio_nombre",
                    name: "municipio_nombre"
                }, {
                    data: "tcontacto_direccion",
                    name: "tcontacto_direccion"
                } ],
                columnDefs: [ {
                    targets: 3,
                    width: "40%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return '<a href="#" class="a-koi-search-contacto-component-table">' + data + "</a>";
                    }
                }, {
                    targets: [ 0, 1, 2 ],
                    visible: !1
                } ]
            }), this.ready(), void this.$modalComponent.modal("show"));
        },
        setContacto: function(e) {
            e.preventDefault();
            var data = this.contactoSearchTable.row($(e.currentTarget).parents("tr")).data();
            this.$inputContent.val(data.id), this.$inputName.val(data.tcontacto_nombre), this.$inputPhone.length && this.$inputPhone.val(data.tcontacto_telefono), 
            this.$modalComponent.modal("hide");
        },
        search: function(e) {
            e.preventDefault(), this.contactoSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchContactoNombres.val(""), this.$searchContactoApellidos.val(""), 
            this.contactoSearchTable.ajax.reload();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentSearchCuentaView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-search-plancuenta-component-tpl").html() || ""),
        events: {
            "change input.plancuenta-koi-component": "cuentaChanged",
            "click .btn-koi-search-plancuenta-component": "searchCuenta",
            "click .btn-search-koi-search-plancuenta-component": "search",
            "click .btn-clear-koi-search-plancuenta-component": "clear",
            "click .a-koi-search-plancuenta-component-table": "setCuenta"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-search-component");
        },
        searchCuenta: function(e) {
            e.preventDefault();
            var _this = this;
            this.$modalComponent.find(".content-modal").html(this.template({})), this.$searchCuenta = this.$("#koi_search_plancuentas_cuenta"), 
            this.$searchName = this.$("#koi_search_plancuentas_nombre"), this.$plancuentasSearchTable = this.$modalComponent.find("#koi-search-plancuenta-component-table"), 
            this.$inputContent = this.$("#" + $(e.currentTarget).attr("data-field")), this.$inputName = this.$("#" + this.$inputContent.attr("data-name")), 
            this.$inputCentro = this.$("#" + this.$inputContent.attr("data-centro")), this.$inputBase = this.$("#" + this.$inputContent.attr("data-base")), 
            this.$inputValor = this.$("#" + this.$inputContent.attr("data-valor")), this.$inputTasa = this.$("#" + this.$inputContent.attr("data-tasa")), 
            this.plancuentasSearchTable = this.$plancuentasSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("plancuentas.index")),
                    data: function(data) {
                        data.plancuentas_cuenta = _this.$searchCuenta.val(), data.plancuentas_nombre = _this.$searchName.val();
                    }
                },
                columns: [ {
                    data: "plancuentas_cuenta",
                    name: "plancuentas_cuenta"
                }, {
                    data: "plancuentas_nivel",
                    name: "plancuentas_nivel"
                }, {
                    data: "plancuentas_nombre",
                    name: "plancuentas_nombre"
                }, {
                    data: "plancuentas_naturaleza",
                    name: "plancuentas_naturaleza"
                }, {
                    data: "plancuentas_tercero",
                    name: "plancuentas_tercero"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return '<a href="#" class="a-koi-search-plancuenta-component-table">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "10%",
                    searchable: !1
                }, {
                    targets: 3,
                    width: "10%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return "D" == data ? "Débito" : "Crédito";
                    }
                }, {
                    targets: 4,
                    width: "10%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return data ? "Si" : "No";
                    }
                } ]
            }), this.ready(), this.$modalComponent.modal("show");
        },
        setCuenta: function(e) {
            e.preventDefault();
            var data = this.plancuentasSearchTable.row($(e.currentTarget).parents("tr")).data();
            this.$inputContent.val(data.plancuentas_cuenta), this.$inputName.val(data.plancuentas_nombre), 
            this.$inputName.val(data.plancuentas_nombre), this.$inputCentro.length && this.$inputCentro.val("").trigger("change"), 
            this.$inputBase.length && this.$inputBase.prop("readonly", !0), this.$modalComponent.modal("hide"), 
            this.actions(data);
        },
        search: function(e) {
            e.preventDefault(), this.plancuentasSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchCuenta.val(""), this.$searchName.val(""), this.plancuentasSearchTable.ajax.reload();
        },
        cuentaChanged: function(e) {
            var _this = this;
            this.$inputContent = $(e.currentTarget), this.$inputName = this.$("#" + $(e.currentTarget).attr("data-name")), 
            this.$inputBase = this.$("#" + $(e.currentTarget).attr("data-base")), this.$inputTasa = this.$("#" + $(e.currentTarget).attr("data-tasa")), 
            this.$inputValor = this.$("#" + $(e.currentTarget).attr("data-valor")), this.$inputCentro = this.$("#" + $(e.currentTarget).attr("data-centro")), 
            this.$wraperConten = this.$("#" + $(e.currentTarget).attr("data-wrapper"));
            var cuenta = this.$inputContent.val();
            this.$inputName.val(""), this.$inputCentro.length && this.$inputCentro.val("").trigger("change"), 
            this.$inputBase.length && this.$inputBase.prop("readonly", !0), this.$inputTasa.length && this.$inputTasa.val(""), 
            _.isUndefined(cuenta) || _.isNull(cuenta) || "" == cuenta || $.ajax({
                url: window.Misc.urlFull(Route.route("plancuentas.search")),
                type: "GET",
                data: {
                    plancuentas_cuenta: cuenta
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wraperConten);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperConten), resp.success && (_.isUndefined(resp.plancuentas_nombre) || _.isNull(resp.plancuentas_nombre) || _this.$inputName.val(resp.plancuentas_nombre), 
                _this.actions(resp));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperConten), alertify.error(thrownError);
            });
        },
        actions: function(data) {
            if (this.$inputBase.length) if (!_.isUndefined(data.plancuentas_tasa) && !_.isNull(data.plancuentas_tasa) && data.plancuentas_tasa > 0) {
                this.$inputBase.prop("readonly", !1);
                var base = this.$inputBase.inputmask("unmaskedvalue");
                this.$inputValor.val(data.plancuentas_tasa * base / 100);
            } else this.$inputBase.val("");
            this.$inputCentro.length && !_.isUndefined(data.plancuentas_centro) && !_.isNull(data.plancuentas_centro) && data.plancuentas_centro > 0 && this.$inputCentro.val(data.plancuentas_centro).trigger("change"), 
            this.$inputTasa.length && (!_.isUndefined(data.plancuentas_tasa) && !_.isNull(data.plancuentas_tasa) && data.plancuentas_tasa > 0 ? this.$inputTasa.val(data.plancuentas_tasa) : this.$inputTasa.val(""));
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentSearchOrdenPView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-search-ordenp-component-tpl").html() || ""),
        events: {
            "change input.ordenp-koi-component": "ordenpChanged",
            "click .btn-koi-search-orden-component-table": "searchOrden",
            "click .btn-search-koi-search-ordenp-component": "search",
            "click .btn-clear-koi-search-ordenp-component": "clear",
            "click .a-koi-search-ordenp-component-table": "setOrden"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-search-ordenp-component");
        },
        searchOrden: function(e) {
            e.preventDefault();
            var _this = this;
            this.$modalComponent.find(".content-modal").html(this.template({})), this.$searchordenpOrden = this.$("#searchordenp_ordenp_numero"), 
            this.$searchordenpTercero = this.$("#searchordenp_tercero"), this.$searchordenpTerceroNombre = this.$("#searchordenp_tercero_nombre"), 
            this.$ordersSearchTable = this.$modalComponent.find("#koi-search-ordenp-component-table"), 
            this.$inputContent = this.$("#" + $(e.currentTarget).attr("data-field")), this.$inputName = this.$("#" + this.$inputContent.attr("data-name")), 
            this.ordersSearchTable = this.$ordersSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("ordenes.index")),
                    data: function(data) {
                        data.ordenp_numero = _this.$searchordenpOrden.val(), data.ordenp_tercero_nit = _this.$searchordenpTercero.val();
                    }
                },
                columns: [ {
                    data: "ordenp_codigo",
                    name: "ordenp_codigo"
                }, {
                    data: "ordenp_ano",
                    name: "ordenp_ano"
                }, {
                    data: "ordenp_numero",
                    name: "ordenp_numero"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "ordenp_fecha",
                    name: "ordenp_fecha"
                } ],
                order: [ [ 1, "desc" ], [ 2, "desc" ] ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return '<a href="#" class="a-koi-search-ordenp-component-table">' + data + "</a>";
                    }
                }, {
                    targets: [ 1, 2 ],
                    visible: !1
                } ]
            }), this.ready(), this.$modalComponent.modal("show");
        },
        setOrden: function(e) {
            e.preventDefault();
            var data = this.ordersSearchTable.row($(e.currentTarget).parents("tr")).data();
            this.$inputContent.val(data.ordenp_codigo), this.$inputName.val(data.tercero_nombre), 
            this.$modalComponent.modal("hide");
        },
        search: function(e) {
            e.preventDefault(), this.ordersSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchordenpOrden.val(""), this.$searchordenpTercero.val(""), 
            this.$searchordenpTerceroNombre.val(""), this.ordersSearchTable.ajax.reload();
        },
        ordenpChanged: function(e) {
            var _this = this;
            this.$inputContent = $(e.currentTarget), this.$inputName = this.$("#" + $(e.currentTarget).attr("data-name")), 
            this.$wraperConten = this.$("#" + $(e.currentTarget).attr("data-wrapper"));
            var orden = this.$inputContent.val();
            this.$inputName.val(""), _.isUndefined(orden) || _.isNull(orden) || "" == orden || $.ajax({
                url: window.Misc.urlFull(Route.route("ordenes.search")),
                type: "GET",
                data: {
                    ordenp_codigo: orden
                },
                beforeSend: function() {
                    _this.$inputName.val(""), window.Misc.setSpinner(_this.$wraperConten);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperConten), resp.success && (_.isUndefined(resp.tercero_nombre) || _.isNull(resp.tercero_nombre) || _this.$inputName.val(resp.tercero_nombre));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperConten), alertify.error(thrownError);
            });
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentSearchProductoView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-search-producto-component-tpl").html() || ""),
        events: {
            "change input.producto-koi-component": "productoChanged",
            "click .btn-koi-search-producto-component": "searchProducto",
            "click .btn-search-koi-search-producto-component": "search",
            "click .btn-clear-koi-search-producto-component": "clear",
            "click .a-koi-search-producto-component-table": "setProducto"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-search-producto-component");
        },
        searchProducto: function(e) {
            e.preventDefault();
            var _this = this;
            this.$modalComponent.find(".content-modal").html(this.template({})), this.$searchCodigo = this.$("#koi_search_producto_codigo"), 
            this.$searchNombre = this.$("#koi_search_producto_nombre"), this.$productosSearchTable = this.$modalComponent.find("#koi-search-producto-component-table"), 
            this.$inputContent = this.$("#" + $(e.currentTarget).attr("data-field")), this.$inputName = this.$("#" + this.$inputContent.attr("data-name")), 
            this.productosSearchTable = this.$productosSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("productos.index")),
                    data: function(data) {
                        data.producto_codigo = _this.$searchCodigo.val(), data.producto_nombre = _this.$searchNombre.val();
                    }
                },
                columns: [ {
                    data: "producto_codigo",
                    name: "producto_codigo"
                }, {
                    data: "producto_nombre",
                    name: "producto_nombre"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return '<a href="#" class="a-koi-search-producto-component-table">' + data + "</a>";
                    }
                } ]
            }), this.ready(), this.$modalComponent.modal("show");
        },
        setProducto: function(e) {
            e.preventDefault();
            var data = this.productosSearchTable.row($(e.currentTarget).parents("tr")).data();
            this.$inputContent.val(data.producto_codigo), this.$inputName.val(data.producto_nombre), 
            this.$modalComponent.modal("hide");
        },
        search: function(e) {
            e.preventDefault(), this.productosSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchCodigo.val(""), this.$searchNombre.val(""), this.productosSearchTable.ajax.reload();
        },
        productoChanged: function(e) {
            var _this = this;
            this.$inputContent = $(e.currentTarget), this.$inputName = this.$("#" + $(e.currentTarget).attr("data-name")), 
            this.$wraperConten = this.$("#" + $(e.currentTarget).attr("data-wrapper"));
            var producto = this.$inputContent.val();
            this.$inputName.val(""), _.isUndefined(producto) || _.isNull(producto) || "" == producto || $.ajax({
                url: window.Misc.urlFull(Route.route("productos.search")),
                type: "GET",
                data: {
                    producto_codigo: producto
                },
                beforeSend: function() {
                    _this.$inputName.val(""), window.Misc.setSpinner(_this.$wraperConten);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperConten), resp.success && (_.isUndefined(resp.producto_nombre) || _.isNull(resp.producto_nombre) || _this.$inputName.val(resp.producto_nombre));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperConten), alertify.error(thrownError);
            });
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentSearchTerceroView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-search-tercero-component-tpl").html() || ""),
        events: {
            "change input.tercero-koi-component": "terceroChanged",
            "click .btn-koi-search-tercero-component-table": "searchTercero",
            "click .btn-search-koi-search-tercero-component": "search",
            "click .btn-clear-koi-search-tercero-component": "clear",
            "click .a-koi-search-tercero-component-table": "setTercero"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-search-component");
        },
        searchTercero: function(e) {
            e.preventDefault();
            var _this = this;
            this.$modalComponent.find(".content-modal").html(this.template({})), this.$searchNit = this.$("#koi_search_tercero_nit"), 
            this.$searchName = this.$("#koi_search_tercero_nombre"), this.$tercerosSearchTable = this.$modalComponent.find("#koi-search-tercero-component-table"), 
            this.$inputContent = this.$("#" + $(e.currentTarget).attr("data-field")), this.$inputName = this.$("#" + this.$inputContent.attr("data-name")), 
            this.$btnContact = this.$("#" + this.$inputContent.attr("data-contacto")), this.tercerosSearchTable = this.$tercerosSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("terceros.index")),
                    data: function(data) {
                        data.tercero_nit = _this.$searchNit.val(), data.tercero_nombre = _this.$searchName.val();
                    }
                },
                columns: [ {
                    data: "tercero_nit",
                    name: "tercero_nit"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "tercero_razonsocial",
                    name: "tercero_razonsocial"
                }, {
                    data: "tercero_nombre1",
                    name: "tercero_nombre1"
                }, {
                    data: "tercero_nombre2",
                    name: "tercero_nombre2"
                }, {
                    data: "tercero_apellido1",
                    name: "tercero_apellido1"
                }, {
                    data: "tercero_apellido2",
                    name: "tercero_apellido2"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return '<a href="#" class="a-koi-search-tercero-component-table">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "85%",
                    searchable: !1
                }, {
                    targets: [ 2, 3, 4, 5, 6 ],
                    visible: !1,
                    searchable: !1
                } ]
            }), this.ready(), this.$modalComponent.modal("show");
        },
        setTercero: function(e) {
            e.preventDefault();
            var data = this.tercerosSearchTable.row($(e.currentTarget).parents("tr")).data();
            this.$inputContent.val(data.tercero_nit), this.$inputName.val(data.tercero_nombre), 
            this.$btnContact.length > 0 && this.$btnContact.attr("data-tercero", data.id), this.$modalComponent.modal("hide");
        },
        search: function(e) {
            e.preventDefault(), this.tercerosSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchNit.val(""), this.$searchName.val(""), this.tercerosSearchTable.ajax.reload();
        },
        terceroChanged: function(e) {
            var _this = this;
            this.$inputContent = $(e.currentTarget), this.$inputName = this.$("#" + $(e.currentTarget).attr("data-name")), 
            this.$wraperConten = this.$("#" + $(e.currentTarget).attr("data-wrapper")), this.$btnContact = this.$("#" + this.$inputContent.attr("data-contacto")), 
            this.$btnContact.length > 0 && this.$btnContact.attr("data-tercero", "");
            var tercero = this.$inputContent.val();
            this.$inputName.val(""), _.isUndefined(tercero) || _.isNull(tercero) || "" == tercero || $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.search")),
                type: "GET",
                data: {
                    tercero_nit: tercero
                },
                beforeSend: function() {
                    _this.$inputName.val(""), window.Misc.setSpinner(_this.$wraperConten);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperConten), resp.success && (_.isUndefined(resp.tercero_nombre) || _.isNull(resp.tercero_nombre) || _this.$inputName.val(resp.tercero_nombre), 
                _this.$btnContact.length > 0 && _this.$btnContact.attr("data-tercero", resp.id));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperConten), alertify.error(thrownError);
            });
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentTerceroView = Backbone.View.extend({
        el: "body",
        templateName: _.template($("#tercero-name-tpl").html() || ""),
        events: {
            "change .change-nit-koi-component": "nitChanged",
            "change .change-actividad-koi-component": "actividadChanged"
        },
        initialize: function() {},
        nitChanged: function(e) {
            var _this = this;
            this.$dv = $("#" + $(e.currentTarget).attr("data-field")), this.$wraperContent = this.$("#tercero-create"), 
            this.$wraperContent.length || (this.$modalComponent = this.$("#modal-add-resource-component"), 
            this.$wraperContent = this.$modalComponent.find(".modal-body")), $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.dv")),
                type: "GET",
                data: {
                    tercero_nit: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wraperContent);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperContent), resp.success && _this.$dv.val(resp.dv);
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperContent), alertify.error(thrownError);
            });
        },
        actividadChanged: function(e) {
            var _this = this;
            this.$retecree = $("#" + $(e.currentTarget).attr("data-field")), this.$wraperContent = this.$("#tercero-create"), 
            this.$wraperContent.length || (this.$modalComponent = this.$("#modal-add-resource-component"), 
            this.$wraperContent = this.$modalComponent.find(".modal-body")), $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.rcree")),
                type: "GET",
                data: {
                    tercero_actividad: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.$wraperContent);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.$wraperContent), resp.success && (_.isUndefined(resp.rcree) || _.isNull(resp.rcree) || _this.$retecree.html(resp.rcree));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.$wraperContent), alertify.error(thrownError);
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainDepartamentoView = Backbone.View.extend({
        el: "#departamentos-main",
        initialize: function() {
            this.$departamentosSearchTable = this.$("#departamentos-search-table"), this.$departamentosSearchTable.DataTable({
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("departamentos.index")),
                columns: [ {
                    data: "departamento_codigo",
                    name: "departamento_codigo"
                }, {
                    data: "departamento_nombre",
                    name: "departamento_nombre"
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateDocumentoView = Backbone.View.extend({
        el: "#documento-create",
        template: _.template($("#add-documento-tpl").html() || ""),
        events: {
            "submit #form-documento": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-documento"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("documentos.show", {
                    documentos: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainDocumentosView = Backbone.View.extend({
        el: "#documentos-main",
        initialize: function() {
            this.$documentosSearchTable = this.$("#documentos-search-table"), this.$documentosSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("documentos.index")),
                columns: [ {
                    data: "documento_codigo",
                    name: "documento_codigo"
                }, {
                    data: "documento_nombre",
                    name: "documento_nombre"
                }, {
                    data: "folder_codigo",
                    name: "folder_codigo"
                }, {
                    data: "folder_id",
                    name: "folder_id"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo documento',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("documentos.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("documentos.show", {
                            documentos: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "70%"
                }, {
                    targets: 2,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return _.isNull(full.folder_codigo) || _.isUndefined(full.folder_codigo) ? "" : '<a href="' + window.Misc.urlFull(Route.route("folders.show", {
                            folders: full.folder_id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 3,
                    visible: !1,
                    searchable: !1
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateEmpresaView = Backbone.View.extend({
        el: "#empresa-create",
        template: _.template($("#add-company-tpl").html() || ""),
        templateName: _.template($("#tercero-name-tpl").html() || ""),
        events: {
            "change input#tercero_nit": "nitChanged",
            "change select#tercero_persona": "personaChanged",
            "change select#tercero_actividad": "actividadChanged",
            "submit #form-create-empresa": "onStore"
        },
        initialize: function() {
            this.$wraperForm = this.$("#render-form-empresa"), this.listenTo(this.model, "change:id", this.render), 
            this.listenTo(this.model, "change:tercero_persona", this.renderName), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.$dv = this.$("#tercero_digito"), 
            this.$retecree = this.$("#tercero_retecree"), this.ready();
        },
        renderName: function(model, value, opts) {
            this.$("#content-render-name").html(this.templateName(this.model.toJSON())), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        nitChanged: function(e) {
            var _this = this;
            $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.dv")),
                type: "GET",
                data: {
                    tercero_nit: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), resp.success && _this.$dv.val(resp.dv);
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        personaChanged: function(e) {
            this.model.set({
                tercero_persona: $(e.currentTarget).val()
            });
        },
        actividadChanged: function(e) {
            var _this = this;
            $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.rcree")),
                type: "GET",
                data: {
                    tercero_actividad: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), resp.success && (_.isUndefined(resp.rcree) || _.isNull(resp.rcree) || _this.$retecree.html(resp.rcree));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                alertify.success("datos de empresa fueron actualizados con éxito.");
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateFolderView = Backbone.View.extend({
        el: "#folder-create",
        template: _.template($("#add-folder-tpl").html() || ""),
        events: {
            "submit #form-folder": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-folder"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("folders.show", {
                    folders: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainFoldersView = Backbone.View.extend({
        el: "#folders-main",
        initialize: function() {
            this.$foldersSearchTable = this.$("#folders-search-table"), this.$foldersSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("folders.index")),
                columns: [ {
                    data: "folder_codigo",
                    name: "folder_codigo"
                }, {
                    data: "folder_nombre",
                    name: "folder_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Agregar Folder',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("folders.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("folders.show", {
                            folders: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateGrupoView = Backbone.View.extend({
        el: "#grupos-create",
        template: _.template($("#add-grupo-tpl").html() || ""),
        events: {
            "submit #form-grupos": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-grupo"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("grupos.show", {
                    grupos: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainGruposView = Backbone.View.extend({
        el: "#grupos-main",
        initialize: function() {
            this.$gruposSearchTable = this.$("#grupos-search-table"), this.$gruposSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("grupos.index")),
                columns: [ {
                    data: "grupo_codigo",
                    name: "grupo_codigo"
                }, {
                    data: "grupo_nombre",
                    name: "grupo_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo grupo',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("grupos.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("grupos.show", {
                            grupos: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.UserLoginView = Backbone.View.extend({
        el: "#login-box",
        initialize: function() {
            this.$loginForm = $("#form-login-account"), this.$loginForm.validator();
        },
        render: function() {}
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainMunicipioView = Backbone.View.extend({
        el: "#municipios-main",
        initialize: function() {
            this.$municipiosSearchTable = this.$("#municipios-search-table"), this.$municipiosSearchTable.DataTable({
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("municipios.index")),
                columns: [ {
                    data: "departamento_codigo",
                    name: "koi_departamento.departamento_codigo"
                }, {
                    data: "departamento_nombre",
                    name: "departamento_nombre"
                }, {
                    data: "municipio_codigo",
                    name: "municipio_codigo"
                }, {
                    data: "municipio_nombre",
                    name: "municipio_nombre"
                }, {
                    data: "departamento_id",
                    name: "departamento_id"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%"
                }, {
                    targets: 1,
                    width: "35%"
                }, {
                    targets: 2,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("departamentos.show", {
                            departamentos: full.departamento_id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 3,
                    width: "35%"
                }, {
                    targets: 4,
                    visible: !1,
                    searchable: !1
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateOrdenpView = Backbone.View.extend({
        el: "#ordenes-create",
        template: _.template($("#add-ordenp-tpl").html() || ""),
        events: {
            "submit #form-ordenes": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-orden"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initTimePicker && window.initComponent.initTimePicker();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                this.createOrdenpView instanceof Backbone.View && (this.createOrdenpView.stopListening(), 
                this.createOrdenpView.undelegateEvents()), Backbone.history.navigate(Route.route("ordenes.edit", {
                    ordenes: resp.id
                }), {
                    trigger: !0
                });
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainOrdenesView = Backbone.View.extend({
        el: "#ordenes-main",
        events: {
            "click .btn-search": "search",
            "click .btn-clear": "clear"
        },
        initialize: function() {
            var _this = this;
            this.$ordersSearchTable = this.$("#ordenes-search-table"), this.$searchordenpOrden = this.$("#searchordenp_ordenp_numero"), 
            this.$searchordenpTercero = this.$("#searchordenp_tercero"), this.$searchordenpTerceroName = this.$("#searchordenp_tercero_nombre"), 
            this.ordersSearchTable = this.$ordersSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("ordenes.index")),
                    data: function(data) {
                        data.persistent = !0, data.orden_numero = _this.$searchordenpOrden.val(), data.orden_tercero_nit = _this.$searchordenpTercero.val(), 
                        data.orden_tercero_nombre = _this.$searchordenpTerceroName.val();
                    }
                },
                columns: [ {
                    data: "orden_codigo",
                    name: "orden_codigo"
                }, {
                    data: "orden_ano",
                    name: "orden_ano"
                }, {
                    data: "orden_numero",
                    name: "orden_numero"
                }, {
                    data: "orden_fecha_inicio",
                    name: "orden_fecha_inicio"
                }, {
                    data: "orden_fecha_entrega",
                    name: "orden_fecha_entrega"
                }, {
                    data: "orden_hora_entrega",
                    name: "orden_hora_entrega"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "orden_fecha_elaboro",
                    name: "orden_fecha_elaboro"
                } ],
                order: [ [ 1, "desc" ], [ 2, "desc" ] ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    searchable: !1,
                    render: function(data, type, full, row) {
                        return !full.orden_abierta || full.orden_anulada ? '<a href="' + window.Misc.urlFull(Route.route("ordenes.show", {
                            ordenes: full.id
                        })) + '">' + data + "</a>" : '<a href="' + window.Misc.urlFull(Route.route("ordenes.edit", {
                            ordenes: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: [ 1, 2 ],
                    visible: !1
                } ]
            });
        },
        search: function(e) {
            e.preventDefault(), this.ordersSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchordenpOrden.val(""), this.$searchordenpTercero.val(""), 
            this.$searchordenpTerceroName.val(""), this.ordersSearchTable.ajax.reload();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreatePlanCuentaView = Backbone.View.extend({
        el: "#plancuentas-create",
        template: _.template($("#add-plancuentas-tpl").html() || ""),
        events: {
            "change input#plancuentas_cuenta": "cuentaChanged",
            "submit #form-plancuentas": "onStore"
        },
        initialize: function() {
            this.$wraperForm = this.$("#render-form-plancuentas"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.$nivel = this.$("#plancuentas_nivel"), 
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2();
        },
        cuentaChanged: function(e) {
            var _this = this;
            $.ajax({
                url: window.Misc.urlFull(Route.route("plancuentas.nivel")),
                type: "GET",
                data: {
                    plancuentas_cuenta: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    _this.$nivel.val(""), window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), resp.success && ((_.isUndefined(resp.nivel) || _.isNull(resp.nivel) || !_.isNumber(resp.nivel)) && alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."), 
                _this.$nivel.val(resp.nivel));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("plancuentas.show", {
                    plancuentas: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainPlanCuentasView = Backbone.View.extend({
        el: "#plancuentas-main",
        events: {
            "click .btn-search": "search",
            "click .btn-clear": "clear"
        },
        initialize: function() {
            var _this = this;
            this.$plancuentasSearchTable = this.$("#plancuentas-search-table"), this.$searchCuenta = this.$("#plancuentas_cuenta"), 
            this.$searchName = this.$("#plancuentas_nombre"), this.plancuentasSearchTable = this.$plancuentasSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("plancuentas.index")),
                    data: function(data) {
                        data.persistent = !0, data.plancuentas_cuenta = _this.$searchCuenta.val(), data.plancuentas_nombre = _this.$searchName.val();
                    }
                },
                columns: [ {
                    data: "plancuentas_cuenta",
                    name: "plancuentas_cuenta"
                }, {
                    data: "plancuentas_nivel",
                    name: "plancuentas_nivel"
                }, {
                    data: "plancuentas_nombre",
                    name: "plancuentas_nombre"
                }, {
                    data: "plancuentas_naturaleza",
                    name: "plancuentas_naturaleza"
                }, {
                    data: "plancuentas_tercero",
                    name: "plancuentas_tercero"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("plancuentas.show", {
                            plancuentas: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "10%"
                }, {
                    targets: 3,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return "D" == data ? "Débito" : "Crédito";
                    }
                }, {
                    targets: 4,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return data ? "Si" : "No";
                    }
                } ]
            });
        },
        search: function(e) {
            e.preventDefault(), this.plancuentasSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchCuenta.val(""), this.$searchName.val(""), this.plancuentasSearchTable.ajax.reload();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateProductoView = Backbone.View.extend({
        el: "#productos-create",
        template: _.template($("#add-producto-tpl").html() || ""),
        events: {
            "ifChecked #producto_serie": "serieChange",
            "ifChecked #producto_metrado": "metradoChange",
            "submit #form-productos": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-producto"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.$inputSerie = this.$("#producto_serie"), 
            this.$inputMetrado = this.$("#producto_metrado"), this.ready();
        },
        serieChange: function(e) {
            var selected = $(e.target).is(":checked");
            selected && this.$inputMetrado.iCheck("uncheck");
        },
        metradoChange: function(e) {
            var selected = $(e.target).is(":checked");
            selected && this.$inputSerie.iCheck("uncheck");
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("productos.show", {
                    productos: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainProductosView = Backbone.View.extend({
        el: "#productos-main",
        events: {
            "click .btn-search": "search",
            "click .btn-clear": "clear"
        },
        initialize: function() {
            var _this = this;
            this.$productosSearchTable = this.$("#productos-search-table"), this.$searchCod = this.$("#producto_codigo"), 
            this.$searchName = this.$("#producto_nombre"), this.productosSearchTable = this.$productosSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("productos.index")),
                    data: function(data) {
                        data.persistent = !0, data.producto_codigo = _this.$searchCod.val(), data.producto_nombre = _this.$searchName.val();
                    }
                },
                columns: [ {
                    data: "producto_codigo",
                    name: "producto_codigo"
                }, {
                    data: "producto_nombre",
                    name: "producto_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo producto',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("productos.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("productos.show", {
                            productos: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        },
        search: function(e) {
            e.preventDefault(), this.productosSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchCod.val(""), this.$searchName.val(""), this.productosSearchTable.ajax.reload();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreatePuntoventaView = Backbone.View.extend({
        el: "#puntosventa-create",
        template: _.template($("#add-puntoventa-tpl").html() || ""),
        events: {
            "submit #form-puntosventa": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-puntosventa"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("puntosventa.show", {
                    puntosventa: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainPuntoventaView = Backbone.View.extend({
        el: "#puntosventa-main",
        initialize: function() {
            this.$puntosventaSearchTable = this.$("#puntosventa-search-table"), this.$puntosventaSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("puntosventa.index")),
                columns: [ {
                    data: "puntoventa_nombre",
                    name: "puntoventa_nombre"
                }, {
                    data: "puntoventa_prefijo",
                    name: "puntoventa_prefijo"
                }, {
                    data: "puntoventa_resolucion_dian",
                    name: "puntoventa_resolucion_dian"
                }, {
                    data: "puntoventa_numero",
                    name: "puntoventa_numero"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo punto de venta',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("puntosventa.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("puntosventa.show", {
                            puntosventa: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateSubGrupoView = Backbone.View.extend({
        el: "#subgrupos-create",
        template: _.template($("#add-subgrupo-tpl").html() || ""),
        events: {
            "submit #form-subgrupos": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-subgrupo"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("subgrupos.show", {
                    subgrupos: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainSubGruposView = Backbone.View.extend({
        el: "#subgrupos-main",
        initialize: function() {
            this.$subgruposSearchTable = this.$("#subgrupos-search-table"), this.$subgruposSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("subgrupos.index")),
                columns: [ {
                    data: "subgrupo_codigo",
                    name: "subgrupo_codigo"
                }, {
                    data: "subgrupo_nombre",
                    name: "subgrupo_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo subgrupo',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("subgrupos.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("subgrupos.show", {
                            subgrupos: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateSucursalView = Backbone.View.extend({
        el: "#sucursales-create",
        template: _.template($("#add-sucursal-tpl").html() || ""),
        events: {
            "submit #form-sucursales": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-sucursal"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("sucursales.show", {
                    sucursales: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainSucursalesView = Backbone.View.extend({
        el: "#sucursales-main",
        initialize: function() {
            this.$sucursalesSearchTable = this.$("#sucursales-search-table"), this.$sucursalesSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("sucursales.index")),
                columns: [ {
                    data: "sucursal_nombre",
                    name: "sucursal_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nueva sucursal',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("sucursales.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("sucursales.show", {
                            sucursales: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ContactItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#contact-item-list-tpl").html() || ""),
        events: {
            "click .btn-edit-tcontacto": "editContacto"
        },
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        },
        editContacto: function() {
            var view = new app.CreateTContactoView({
                model: this.model
            });
            view.render();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ContactsListView = Backbone.View.extend({
        el: "#browse-contact-list",
        events: {},
        parameters: {
            dataFilter: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.listenTo(this.collection, "add", this.addOne), this.listenTo(this.collection, "reset", this.addAll), 
            this.listenTo(this.collection, "request", this.loadSpinner), this.listenTo(this.collection, "sync", this.responseServer), 
            this.collection.fetch({
                data: {
                    tercero_id: this.parameters.dataFilter.tercero_id
                },
                reset: !0
            });
        },
        render: function() {},
        addOne: function(contactModel) {
            var view = new app.ContactItemView({
                model: contactModel
            });
            this.$el.append(view.render().el);
        },
        addAll: function() {
            this.collection.forEach(this.addOne, this);
        },
        loadSpinner: function(target, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(target, resp, opts) {
            window.Misc.removeSpinner(this.el);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateTerceroView = Backbone.View.extend({
        el: "#tercero-create",
        template: _.template($("#add-tercero-tpl").html() || ""),
        events: {
            "submit #form-create-tercero": "onStore",
            "click .btn-add-tcontacto": "addContacto"
        },
        initialize: function(opts) {
            this.msgSuccess = "Tercero guardado con exito!", this.$wraperForm = this.$("#render-form-tercero"), 
            this.listenTo(this.model, "change:id", this.render), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.model.id != undefined && (this.contactsList = new app.ContactsList(), 
            this.referenceViews()), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initICheck && window.initComponent.initICheck();
        },
        referenceViews: function() {
            this.contactsListView = new app.ContactsListView({
                collection: this.contactsList,
                parameters: {
                    dataFilter: {
                        tercero_id: this.model.get("id")
                    }
                }
            });
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        addContacto: function() {
            this.contactoModel = new app.ContactoModel(), this.createTContactoView = new app.CreateTContactoView({
                model: this.contactoModel,
                collection: this.contactsList,
                parameters: {
                    tercero_id: this.model.get("id")
                }
            }), this.createTContactoView.render();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("terceros.show", {
                    terceros: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateTContactoView = Backbone.View.extend({
        el: "body",
        template: _.template($("#add-contacto-tpl").html() || ""),
        events: {
            "submit #form-tcontacto-component": "onStore"
        },
        parameters: {
            tercero_id: null
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.listenTo(this.model, "change:id", this.render), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            this.$modalComponent = this.$("#modal-tcontacto-component");
            var attributes = this.model.toJSON();
            this.$modalComponent.find(".content-modal").html("").html(this.template(attributes)), 
            this.$wraperContent = this.$("#content-tcontacto-component").find(".modal-body"), 
            this.ready(), this.$modalComponent.modal("show");
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            "function" == typeof window.initComponent.initInputMask && window.initComponent.initInputMask(), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2();
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                _.isUndefined(this.parameters.tercero_id) || _.isNull(this.parameters.tercero_id) || "" == this.parameters.tercero_id || (data.tcontacto_tercero = this.parameters.tercero_id), 
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.$wraperContent);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.$wraperContent), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                this.collection instanceof Backbone.Collection && this.collection.add(model), this.$modalComponent.modal("hide");
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.FacturaptListView = Backbone.View.extend({
        el: "#browse-facturap-list",
        events: {},
        parameters: {
            dataFilter: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.listenTo(this.collection, "add", this.addOne), this.listenTo(this.collection, "reset", this.addAll), 
            this.listenTo(this.collection, "request", this.loadSpinner), this.listenTo(this.collection, "sync", this.responseServer), 
            this.collection.fetch({
                data: {
                    tercero_id: this.parameters.dataFilter.tercero_id
                },
                reset: !0
            });
        },
        render: function() {},
        addOne: function(Facturap2Model) {
            var view = new app.FacturaptItemView({
                model: Facturap2Model
            });
            this.$el.append(view.render().el);
        },
        addAll: function() {
            this.collection.forEach(this.addOne, this);
        },
        loadSpinner: function(target, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(target, resp, opts) {
            window.Misc.removeSpinner(this.el);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.FacturaptItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#facturapt-item-list-tpl").html() || ""),
        events: {},
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainTerceroView = Backbone.View.extend({
        el: "#terceros-main",
        events: {
            "click .btn-search": "search",
            "click .btn-clear": "clear"
        },
        initialize: function() {
            var _this = this;
            this.$tercerosSearchTable = this.$("#terceros-search-table"), this.$searchNit = this.$("#tercero_nit"), 
            this.$searchName = this.$("#tercero_nombre"), this.tercerosSearchTable = this.$tercerosSearchTable.DataTable({
                dom: "<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: {
                    url: window.Misc.urlFull(Route.route("terceros.index")),
                    data: function(data) {
                        data.persistent = !0, data.tercero_nit = _this.$searchNit.val(), data.tercero_nombre = _this.$searchName.val();
                    }
                },
                columns: [ {
                    data: "tercero_nit",
                    name: "tercero_nit"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "tercero_razonsocial",
                    name: "tercero_razonsocial"
                }, {
                    data: "tercero_nombre1",
                    name: "tercero_nombre1"
                }, {
                    data: "tercero_nombre2",
                    name: "tercero_nombre2"
                }, {
                    data: "tercero_apellido1",
                    name: "tercero_apellido1"
                }, {
                    data: "tercero_apellido2",
                    name: "tercero_apellido2"
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("terceros.show", {
                            terceros: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "85%",
                    searchable: !1
                }, {
                    targets: [ 2, 3, 4, 5, 6 ],
                    visible: !1
                } ]
            });
        },
        search: function(e) {
            e.preventDefault(), this.tercerosSearchTable.ajax.reload();
        },
        clear: function(e) {
            e.preventDefault(), this.$searchNit.val(""), this.$searchName.val(""), this.tercerosSearchTable.ajax.reload();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ShowTerceroView = Backbone.View.extend({
        el: "#terceros-main",
        initialize: function() {
            this.model.id != undefined && (this.contactsList = new app.ContactsList(), this.facturaptList = new app.FacturaptList(), 
            this.referenceViews());
        },
        referenceViews: function() {
            this.contactsListView = new app.ContactsListView({
                collection: this.contactsList,
                parameters: {
                    dataFilter: {
                        tercero_id: this.model.get("id")
                    }
                }
            }), this.facturaptListView = new app.FacturaptListView({
                collection: this.facturaptList,
                parameters: {
                    dataFilter: {
                        tercero_id: this.model.get("id")
                    }
                }
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateTrasladoView = Backbone.View.extend({
        el: "#traslados-create",
        template: _.template($("#add-traslado-tpl").html() || ""),
        events: {
            "click .submit-traslado": "submitTraslado",
            "submit #form-item-traslado": "onStoreItem",
            "submit #form-traslado": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-traslado"), this.trasladoProductosList = new app.TrasladoProductosList(), 
            this.listenTo(this.model, "change", this.render), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.$form = this.$("#form-traslado"), 
            this.$formItem = this.$("#form-item-traslado"), this.referenceViews();
        },
        referenceViews: function() {
            this.productosListView = new app.TrasladoProductosListView({
                collection: this.trasladoProductosList,
                parameters: {
                    wrapper: this.el,
                    edit: !0
                }
            });
        },
        submitTraslado: function(e) {
            this.$form.submit();
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                data.detalle = this.trasladoProductosList.toJSON(), this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        onStoreItem: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.trasladoProductosList.trigger("store", this.$(e.target)));
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("traslados.show", {
                    traslados: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainTrasladosView = Backbone.View.extend({
        el: "#traslados-main",
        initialize: function() {
            this.$trasladosSearchTable = this.$("#traslados-search-table"), this.$trasladosSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("traslados.index")),
                columns: [ {
                    data: "traslado1_numero",
                    name: "traslado1_numero"
                }, {
                    data: "sucursa_origen",
                    name: "sucursa_origen"
                }, {
                    data: "sucursa_destino",
                    name: "sucursa_destino"
                }, {
                    data: "traslado1_fecha",
                    name: "traslado1_fecha"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo traslado',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("traslados.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("traslados.show", {
                            traslados: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ShowTrasladoView = Backbone.View.extend({
        el: "#traslados-show",
        initialize: function() {
            this.model.id != undefined && (this.trasladoProductosList = new app.TrasladoProductosList(), 
            this.referenceViews());
        },
        referenceViews: function() {
            this.productosListView = new app.TrasladoProductosListView({
                collection: this.trasladoProductosList,
                parameters: {
                    wrapper: this.el,
                    edit: !1,
                    dataFilter: {
                        traslado: this.model.get("id")
                    }
                }
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.TrasladoProductosListView = Backbone.View.extend({
        el: "#browse-detalle-traslado-list",
        events: {
            "click .item-traslado2-remove": "removeOne"
        },
        parameters: {
            wrapper: null,
            edit: !1,
            dataFilter: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$costoTotal = this.$("#total-costo"), this.confCollection = {
                reset: !0,
                data: {}
            }, this.listenTo(this.collection, "add", this.addOne), this.listenTo(this.collection, "reset", this.addAll), 
            this.listenTo(this.collection, "request", this.loadSpinner), this.listenTo(this.collection, "store", this.storeOne), 
            this.listenTo(this.collection, "sync", this.responseServer), _.isUndefined(this.parameters.dataFilter.traslado) || _.isNull(this.parameters.dataFilter.traslado) || (this.confCollection.data.traslado = this.parameters.dataFilter.traslado, 
            this.collection.fetch(this.confCollection));
        },
        addOne: function(Traslado2Model) {
            var view = new app.TrasladoProductosItemView({
                model: Traslado2Model,
                parameters: {
                    edit: this.parameters.edit
                }
            });
            Traslado2Model.view = view, this.$el.append(view.render().el);
        },
        addAll: function() {
            this.collection.forEach(this.addOne, this);
        },
        storeOne: function(form) {
            var _this = this, data = window.Misc.formToJson(form);
            window.Misc.setSpinner(this.parameters.wrapper);
            var traslado2Model = new app.Traslado2Model();
            traslado2Model.save(data, {
                success: function(model, resp) {
                    if (!_.isUndefined(resp.success)) {
                        window.Misc.removeSpinner(_this.parameters.wrapper);
                        var text = resp.success ? "" : resp.errors;
                        if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                        _this.collection.add(model);
                    }
                },
                error: function(model, error) {
                    window.Misc.removeSpinner(_this.parameters.wrapper), alertify.error(error.statusText);
                }
            });
        },
        removeOne: function(e) {
            e.preventDefault();
            var resource = $(e.currentTarget).attr("data-resource"), model = this.collection.get(resource);
            model instanceof Backbone.Model && (model.view.remove(), this.collection.remove(model));
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.parameters.wrapper);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.parameters.wrapper);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.TrasladoProductosItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#add-traslado2-item-tpl").html() || ""),
        events: {},
        parameters: {
            edit: !1
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return attributes.edit = this.parameters.edit, this.$el.html(this.template(attributes)), 
            this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateUnidadView = Backbone.View.extend({
        el: "#unidades-create",
        template: _.template($("#add-unidad-tpl").html() || ""),
        events: {
            "submit #form-unidades": "onStore"
        },
        parameters: {},
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.$wraperForm = this.$("#render-form-unidad"), this.listenTo(this.model, "change", this.render), 
            this.listenTo(this.model, "sync", this.responseServer), this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0,
                    silent: !0
                });
            }
        },
        render: function() {
            var attributes = this.model.toJSON();
            this.$wraperForm.html(this.template(attributes)), this.ready();
        },
        ready: function() {
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            if (window.Misc.removeSpinner(this.el), !_.isUndefined(resp.success)) {
                var text = resp.success ? "" : resp.errors;
                if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
                window.Misc.redirect(window.Misc.urlFull(Route.route("unidades.show", {
                    unidades: resp.id
                })));
            }
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainUnidadesView = Backbone.View.extend({
        el: "#unidades-main",
        initialize: function() {
            this.$unidadesSearchTable = this.$("#unidades-search-table"), this.$unidadesSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("unidades.index")),
                columns: [ {
                    data: "unidadmedida_sigla",
                    name: "unidadmedida_sigla"
                }, {
                    data: "unidadmedida_nombre",
                    name: "unidadmedida_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo unidad',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("unidades.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "10%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("unidades.show", {
                            unidades: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function(window, document, undefined) {
    app.AsientoCuentasList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("asientos.detalle.index"));
        },
        model: app.Asiento2Model,
        initialize: function() {},
        debitos: function() {
            return this.reduce(function(sum, model) {
                return sum + parseFloat(model.get("asiento2_debito"));
            }, 0);
        },
        creditos: function() {
            return this.reduce(function(sum, model) {
                return sum + parseFloat(model.get("asiento2_credito"));
            }, 0);
        },
        totalize: function() {
            var debitos = this.debitos(), creditos = this.creditos();
            return {
                debitos: debitos,
                creditos: creditos,
                diferencia: Math.abs(creditos - debitos)
            };
        }
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.AsientoMovimientosList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("asientos.detalle.movimientos"));
        },
        model: app.AsientoMovModel,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.CuotasFPList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("facturap.cuotas.index"));
        },
        model: app.Facturap2Model,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ItemRolloINList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("productos.rollos.index"));
        },
        model: app.ItemRolloModel,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ProductoSeriesINList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("productos.index"));
        },
        model: app.ProductoModel,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ContactsList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("terceros.contactos.index"));
        },
        model: app.ContactoModel,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.FacturaptList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("terceros.facturap"));
        },
        model: app.Facturap2Model,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.TrasladoProductosList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("traslados.detalle.index"));
        },
        model: app.Traslado2Model,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AppRouter = new (Backbone.Router.extend({
        routes: {
            "login(/)": "getLogin",
            "terceros(/)": "getTercerosMain",
            "terceros/create(/)": "getTercerosCreate",
            "terceros/:tercero(/)": "getTercerosShow",
            "terceros/:tercero/edit(/)": "getTercerosEdit",
            "empresa(/)": "getEmpresaEdit",
            "municipios(/)": "getMunicipiosMain",
            "departamentos(/)": "getDepartamentosMain",
            "actividades(/)": "getActividadesMain",
            "actividades/create(/)": "getActividadesCreate",
            "actividades/:actividad/edit(/)": "getActividadesEdit",
            "sucursales(/)": "getSucursalesMain",
            "sucursales/create(/)": "getSucursalesCreate",
            "sucursales/:sucursal/edit(/)": "getSucursalesEdit",
            "puntosventa(/)": "getPuntosVentaMain",
            "puntosventa/create(/)": "getPuntosVentaCreate",
            "puntosventa/:puntoventa/edit(/)": "getPuntosVentaEdit",
            "plancuentas(/)": "getPlanCuentasMain",
            "plancuentas/create(/)": "getPlanCuentasCreate",
            "plancuentas/:plancuenta/edit(/)": "getPlanCuentasEdit",
            "centroscosto(/)": "getCentrosCostoMain",
            "centroscosto/create(/)": "getCentrosCostoCreate",
            "centroscosto/:centrocosto/edit(/)": "getCentrosCostoEdit",
            "asientos(/)": "getAsientosMain",
            "asientos/create(/)": "getAsientosCreate",
            "asientos/:asientos(/)": "getAsientosShow",
            "asientos/:asiento/edit(/)": "getAsientosEdit",
            "documentos(/)": "getDocumentosMain",
            "documentos/create(/)": "getDocumentosCreate",
            "documentos/:documento/edit(/)": "getDocumentosEdit",
            "folders(/)": "getFoldersMain",
            "folders/create(/)": "getFoldersCreate",
            "folders/:folder/edit(/)": "getFoldersEdit",
            "subgrupos(/)": "getSubGruposMain",
            "subgrupos/create(/)": "getSubGruposCreate",
            "subgrupos/:subgrupo/edit(/)": "getSubGruposEdit",
            "grupos(/)": "getGruposMain",
            "grupos/create(/)": "getGruposCreate",
            "grupos/:grupo/edit(/)": "getGruposEdit",
            "unidades(/)": "getUnidadesMain",
            "unidades/create(/)": "getUnidadesCreate",
            "unidades/:unidad/edit(/)": "getUnidadesEdit",
            "productos(/)": "getProductosMain",
            "productos/create(/)": "getProductosCreate",
            "productos/:producto/edit(/)": "getProductosEdit",
            "traslados(/)": "getTrasladosMain",
            "traslados/create(/)": "getTrasladosCreate",
            "traslados/:traslado(/)": "getTrasladosShow",
            "ordenes(/)": "getOrdenesMain",
            "ordenes/create(/)": "getOrdenesCreate",
            "ordenes/:orden/edit(/)": "getOrdenesEdit"
        },
        initialize: function(opts) {
            this.componentAddressView = new app.ComponentAddressView(), this.componentCreateResourceView = new app.ComponentCreateResourceView(), 
            this.componentSearchTerceroView = new app.ComponentSearchTerceroView(), this.componentSearchCuentaView = new app.ComponentSearchCuentaView(), 
            this.componentDocumentView = new app.ComponentDocumentView(), this.componentReportView = new app.ComponentReportView(), 
            this.componentTerceroView = new app.ComponentTerceroView(), this.componentSearchOrdenPView = new app.ComponentSearchOrdenPView(), 
            this.componentSearchProductoView = new app.ComponentSearchProductoView(), this.componentSearchContactoView = new app.ComponentSearchContactoView(), 
            this.componentConsecutiveView = new app.ComponentConsecutiveView();
        },
        start: function() {
            var config = {
                pushState: !0
            };
            "-1" != document.domain.search("localhost") && (config.root = "/vaziko/public/"), 
            Backbone.history.start(config);
        },
        getLogin: function() {
            this.loginView instanceof Backbone.View && (this.loginView.stopListening(), this.loginView.undelegateEvents()), 
            this.loginView = new app.UserLoginView();
        },
        getTercerosMain: function() {
            this.mainTerceroView instanceof Backbone.View && (this.mainTerceroView.stopListening(), 
            this.mainTerceroView.undelegateEvents()), this.mainTerceroView = new app.MainTerceroView();
        },
        getTercerosCreate: function() {
            this.terceroModel = new app.TerceroModel(), this.createTerceroView instanceof Backbone.View && (this.createTerceroView.stopListening(), 
            this.createTerceroView.undelegateEvents()), this.createTerceroView = new app.CreateTerceroView({
                model: this.terceroModel
            }), this.createTerceroView.render();
        },
        getTercerosShow: function(tercero) {
            this.terceroModel = new app.TerceroModel(), this.terceroModel.set({
                id: tercero
            }, {
                silent: !0
            }), this.showTerceroView instanceof Backbone.View && (this.showTerceroView.stopListening(), 
            this.showTerceroView.undelegateEvents()), this.showTerceroView = new app.ShowTerceroView({
                model: this.terceroModel
            });
        },
        getTercerosEdit: function(tercero) {
            this.terceroModel = new app.TerceroModel(), this.terceroModel.set({
                id: tercero
            }, {
                silent: !0
            }), this.createTerceroView instanceof Backbone.View && (this.createTerceroView.stopListening(), 
            this.createTerceroView.undelegateEvents()), this.createTerceroView = new app.CreateTerceroView({
                model: this.terceroModel
            }), this.terceroModel.fetch();
        },
        getEmpresaEdit: function() {
            this.empresaModel = new app.EmpresaModel(), this.createEmpresaView instanceof Backbone.View && (this.createEmpresaView.stopListening(), 
            this.createEmpresaView.undelegateEvents()), this.createEmpresaView = new app.CreateEmpresaView({
                model: this.empresaModel
            }), this.empresaModel.fetch();
        },
        getMunicipiosMain: function() {
            this.mainMunicipioView instanceof Backbone.View && (this.mainMunicipioView.stopListening(), 
            this.mainMunicipioView.undelegateEvents()), this.mainMunicipioView = new app.MainMunicipioView();
        },
        getDepartamentosMain: function() {
            this.mainDepartamentoView instanceof Backbone.View && (this.mainDepartamentoView.stopListening(), 
            this.mainDepartamentoView.undelegateEvents()), this.mainDepartamentoView = new app.MainDepartamentoView();
        },
        getActividadesMain: function() {
            this.mainActividadView instanceof Backbone.View && (this.mainActividadView.stopListening(), 
            this.mainActividadView.undelegateEvents()), this.mainActividadView = new app.MainActividadView();
        },
        getActividadesCreate: function() {
            this.actividadModel = new app.ActividadModel(), this.createActividadView instanceof Backbone.View && (this.createActividadView.stopListening(), 
            this.createActividadView.undelegateEvents()), this.createActividadView = new app.CreateActividadView({
                model: this.actividadModel
            }), this.createActividadView.render();
        },
        getActividadesEdit: function(actividad) {
            this.actividadModel = new app.ActividadModel(), this.actividadModel.set({
                id: actividad
            }, {
                silent: !0
            }), this.createActividadView instanceof Backbone.View && (this.createActividadView.stopListening(), 
            this.createActividadView.undelegateEvents()), this.createActividadView = new app.CreateActividadView({
                model: this.actividadModel
            }), this.actividadModel.fetch();
        },
        getSucursalesMain: function() {
            this.mainSucursalesView instanceof Backbone.View && (this.mainSucursalesView.stopListening(), 
            this.mainSucursalesView.undelegateEvents()), this.mainSucursalesView = new app.MainSucursalesView();
        },
        getSucursalesCreate: function() {
            this.sucursalModel = new app.SucursalModel(), this.createSucursalView instanceof Backbone.View && (this.createSucursalView.stopListening(), 
            this.createSucursalView.undelegateEvents()), this.createSucursalView = new app.CreateSucursalView({
                model: this.sucursalModel
            }), this.createSucursalView.render();
        },
        getSucursalesEdit: function(sucursal) {
            this.sucursalModel = new app.SucursalModel(), this.sucursalModel.set({
                id: sucursal
            }, {
                silent: !0
            }), this.createSucursalView instanceof Backbone.View && (this.createSucursalView.stopListening(), 
            this.createSucursalView.undelegateEvents()), this.createSucursalView = new app.CreateSucursalView({
                model: this.sucursalModel
            }), this.sucursalModel.fetch();
        },
        getPuntosVentaMain: function() {
            this.mainPuntoventaView instanceof Backbone.View && (this.mainPuntoventaView.stopListening(), 
            this.mainPuntoventaView.undelegateEvents()), this.mainPuntoventaView = new app.MainPuntoventaView();
        },
        getPuntosVentaCreate: function() {
            this.puntoVentaModel = new app.PuntoVentaModel(), this.createPuntoventaView instanceof Backbone.View && (this.createPuntoventaView.stopListening(), 
            this.createPuntoventaView.undelegateEvents()), this.createPuntoventaView = new app.CreatePuntoventaView({
                model: this.puntoVentaModel
            }), this.createPuntoventaView.render();
        },
        getPuntosVentaEdit: function(puntoventa) {
            this.puntoVentaModel = new app.PuntoVentaModel(), this.puntoVentaModel.set({
                id: puntoventa
            }, {
                silent: !0
            }), this.createPuntoventaView instanceof Backbone.View && (this.createPuntoventaView.stopListening(), 
            this.createPuntoventaView.undelegateEvents()), this.createPuntoventaView = new app.CreatePuntoventaView({
                model: this.puntoVentaModel
            }), this.puntoVentaModel.fetch();
        },
        getPlanCuentasMain: function() {
            this.mainPlanCuentasView instanceof Backbone.View && (this.mainPlanCuentasView.stopListening(), 
            this.mainPlanCuentasView.undelegateEvents()), this.mainPlanCuentasView = new app.MainPlanCuentasView();
        },
        getPlanCuentasCreate: function() {
            this.planCuentaModel = new app.PlanCuentaModel(), this.createPlanCuentaView instanceof Backbone.View && (this.createPlanCuentaView.stopListening(), 
            this.createPlanCuentaView.undelegateEvents()), this.createPlanCuentaView = new app.CreatePlanCuentaView({
                model: this.planCuentaModel
            }), this.createPlanCuentaView.render();
        },
        getPlanCuentasEdit: function(plancuenta) {
            this.planCuentaModel = new app.PlanCuentaModel(), this.planCuentaModel.set({
                id: plancuenta
            }, {
                silent: !0
            }), this.createPlanCuentaView instanceof Backbone.View && (this.createPlanCuentaView.stopListening(), 
            this.createPlanCuentaView.undelegateEvents()), this.createPlanCuentaView = new app.CreatePlanCuentaView({
                model: this.planCuentaModel
            }), this.planCuentaModel.fetch();
        },
        getCentrosCostoMain: function() {
            this.mainCentrosCostoView instanceof Backbone.View && (this.mainCentrosCostoView.stopListening(), 
            this.mainCentrosCostoView.undelegateEvents()), this.mainCentrosCostoView = new app.MainCentrosCostoView();
        },
        getCentrosCostoCreate: function() {
            this.centroCostoModel = new app.CentroCostoModel(), this.createCentroCostoView instanceof Backbone.View && (this.createCentroCostoView.stopListening(), 
            this.createCentroCostoView.undelegateEvents()), this.createCentroCostoView = new app.CreateCentroCostoView({
                model: this.centroCostoModel,
                parameters: {
                    callback: "toShow"
                }
            }), this.createCentroCostoView.render();
        },
        getCentrosCostoEdit: function(centrocosto) {
            this.centroCostoModel = new app.CentroCostoModel(), this.centroCostoModel.set({
                id: centrocosto
            }, {
                silent: !0
            }), this.createCentroCostoView instanceof Backbone.View && (this.createCentroCostoView.stopListening(), 
            this.createCentroCostoView.undelegateEvents()), this.createCentroCostoView = new app.CreateCentroCostoView({
                model: this.centroCostoModel,
                parameters: {
                    callback: "toShow"
                }
            }), this.centroCostoModel.fetch();
        },
        getAsientosMain: function() {
            this.mainAsientosView instanceof Backbone.View && (this.mainAsientosView.stopListening(), 
            this.mainAsientosView.undelegateEvents()), this.mainAsientosView = new app.MainAsientosView();
        },
        getAsientosCreate: function() {
            this.asientoModel = new app.AsientoModel(), this.createAsientoView instanceof Backbone.View && (this.createAsientoView.stopListening(), 
            this.createAsientoView.undelegateEvents()), this.createAsientoView = new app.CreateAsientoView({
                model: this.asientoModel
            }), this.createAsientoView.render();
        },
        getAsientosShow: function(asiento) {
            this.asientoModel = new app.AsientoModel(), this.asientoModel.set({
                id: asiento
            }, {
                silent: !0
            }), this.showAsientoView instanceof Backbone.View && (this.showAsientoView.stopListening(), 
            this.showAsientoView.undelegateEvents()), this.showAsientoView = new app.ShowAsientoView({
                model: this.asientoModel
            });
        },
        getAsientosEdit: function(asiento) {
            this.asientoModel = new app.AsientoModel(), this.asientoModel.set({
                id: asiento
            }, {
                silent: !0
            }), this.editAsientoView instanceof Backbone.View && (this.editAsientoView.stopListening(), 
            this.editAsientoView.undelegateEvents()), this.createAsientoView instanceof Backbone.View && (this.createAsientoView.stopListening(), 
            this.createAsientoView.undelegateEvents()), this.editAsientoView = new app.EditAsientoView({
                model: this.asientoModel
            }), this.asientoModel.fetch();
        },
        getFoldersMain: function() {
            this.mainFoldersView instanceof Backbone.View && (this.mainFoldersView.stopListening(), 
            this.mainFoldersView.undelegateEvents()), this.mainFoldersView = new app.MainFoldersView();
        },
        getFoldersCreate: function() {
            this.folderModel = new app.FolderModel(), this.createFolderView instanceof Backbone.View && (this.createFolderView.stopListening(), 
            this.createFolderView.undelegateEvents()), this.createFolderView = new app.CreateFolderView({
                model: this.folderModel
            }), this.createFolderView.render();
        },
        getFoldersEdit: function(folder) {
            this.folderModel = new app.FolderModel(), this.folderModel.set({
                id: folder
            }, {
                silent: !0
            }), this.createFolderView instanceof Backbone.View && (this.createFolderView.stopListening(), 
            this.createFolderView.undelegateEvents()), this.createFolderView = new app.CreateFolderView({
                model: this.folderModel
            }), this.folderModel.fetch();
        },
        getDocumentosMain: function() {
            this.mainDocumentosView instanceof Backbone.View && (this.mainDocumentosView.stopListening(), 
            this.mainDocumentosView.undelegateEvents()), this.mainDocumentosView = new app.MainDocumentosView();
        },
        getDocumentosCreate: function() {
            this.documentoModel = new app.DocumentoModel(), this.createDocumentoView instanceof Backbone.View && (this.createDocumentoView.stopListening(), 
            this.createDocumentoView.undelegateEvents()), this.createDocumentoView = new app.CreateDocumentoView({
                model: this.documentoModel
            }), this.createDocumentoView.render();
        },
        getDocumentosEdit: function(documento) {
            this.documentoModel = new app.DocumentoModel(), this.documentoModel.set({
                id: documento
            }, {
                silent: !0
            }), this.createDocumentoView instanceof Backbone.View && (this.createDocumentoView.stopListening(), 
            this.createDocumentoView.undelegateEvents()), this.createDocumentoView = new app.CreateDocumentoView({
                model: this.documentoModel
            }), this.documentoModel.fetch();
        },
        getSubGruposMain: function() {
            this.mainSubGruposView instanceof Backbone.View && (this.mainSubGruposView.stopListening(), 
            this.mainSubGruposView.undelegateEvents()), this.mainSubGruposView = new app.MainSubGruposView();
        },
        getSubGruposCreate: function() {
            this.subGrupoModel = new app.SubGrupoModel(), this.createSubGrupoView instanceof Backbone.View && (this.createSubGrupoView.stopListening(), 
            this.createSubGrupoView.undelegateEvents()), this.createSubGrupoView = new app.CreateSubGrupoView({
                model: this.subGrupoModel
            }), this.createSubGrupoView.render();
        },
        getSubGruposEdit: function(subgrupo) {
            this.subGrupoModel = new app.SubGrupoModel(), this.subGrupoModel.set({
                id: subgrupo
            }, {
                silent: !0
            }), this.createSubGrupoView instanceof Backbone.View && (this.createSubGrupoView.stopListening(), 
            this.createSubGrupoView.undelegateEvents()), this.createSubGrupoView = new app.CreateSubGrupoView({
                model: this.subGrupoModel
            }), this.subGrupoModel.fetch();
        },
        getGruposMain: function() {
            this.mainGruposView instanceof Backbone.View && (this.mainGruposView.stopListening(), 
            this.mainGruposView.undelegateEvents()), this.mainGruposView = new app.MainGruposView();
        },
        getGruposCreate: function() {
            this.grupoModel = new app.GrupoModel(), this.createGrupoView instanceof Backbone.View && (this.createGrupoView.stopListening(), 
            this.createGrupoView.undelegateEvents()), this.createGrupoView = new app.CreateGrupoView({
                model: this.grupoModel
            }), this.createGrupoView.render();
        },
        getGruposEdit: function(grupo) {
            this.grupoModel = new app.GrupoModel(), this.grupoModel.set({
                id: grupo
            }, {
                silent: !0
            }), this.createGrupoView instanceof Backbone.View && (this.createGrupoView.stopListening(), 
            this.createGrupoView.undelegateEvents()), this.createGrupoView = new app.CreateGrupoView({
                model: this.grupoModel
            }), this.grupoModel.fetch();
        },
        getUnidadesMain: function() {
            this.mainUnidadesView instanceof Backbone.View && (this.mainUnidadesView.stopListening(), 
            this.mainUnidadesView.undelegateEvents()), this.mainUnidadesView = new app.MainUnidadesView();
        },
        getUnidadesCreate: function() {
            this.unidadModel = new app.UnidadModel(), this.createUnidadView instanceof Backbone.View && (this.createUnidadView.stopListening(), 
            this.createUnidadView.undelegateEvents()), this.createUnidadView = new app.CreateUnidadView({
                model: this.unidadModel
            }), this.createUnidadView.render();
        },
        getUnidadesEdit: function(unidad) {
            this.unidadModel = new app.UnidadModel(), this.unidadModel.set({
                id: unidad
            }, {
                silent: !0
            }), this.createUnidadView instanceof Backbone.View && (this.createUnidadView.stopListening(), 
            this.createUnidadView.undelegateEvents()), this.createUnidadView = new app.CreateUnidadView({
                model: this.unidadModel
            }), this.unidadModel.fetch();
        },
        getProductosMain: function() {
            this.mainProductosView instanceof Backbone.View && (this.mainProductosView.stopListening(), 
            this.mainProductosView.undelegateEvents()), this.mainProductosView = new app.MainProductosView();
        },
        getProductosCreate: function() {
            this.productoModel = new app.ProductoModel(), this.createProductoView instanceof Backbone.View && (this.createProductoView.stopListening(), 
            this.createProductoView.undelegateEvents()), this.createProductoView = new app.CreateProductoView({
                model: this.productoModel
            }), this.createProductoView.render();
        },
        getProductosEdit: function(producto) {
            this.productoModel = new app.ProductoModel(), this.productoModel.set({
                id: producto
            }, {
                silent: !0
            }), this.createProductoView instanceof Backbone.View && (this.createProductoView.stopListening(), 
            this.createProductoView.undelegateEvents()), this.createProductoView = new app.CreateProductoView({
                model: this.productoModel
            }), this.productoModel.fetch();
        },
        getTrasladosMain: function() {
            this.mainTrasladosView instanceof Backbone.View && (this.mainTrasladosView.stopListening(), 
            this.mainTrasladosView.undelegateEvents()), this.mainTrasladosView = new app.MainTrasladosView();
        },
        getTrasladosCreate: function() {
            this.trasladoModel = new app.TrasladoModel(), this.createTrasladoView instanceof Backbone.View && (this.createTrasladoView.stopListening(), 
            this.createTrasladoView.undelegateEvents()), this.createTrasladoView = new app.CreateTrasladoView({
                model: this.trasladoModel
            }), this.createTrasladoView.render();
        },
        getTrasladosShow: function(traslado) {
            this.trasladoModel = new app.TrasladoModel(), this.trasladoModel.set({
                id: traslado
            }, {
                silent: !0
            }), this.showTrasladoView instanceof Backbone.View && (this.showTrasladoView.stopListening(), 
            this.showTrasladoView.undelegateEvents()), this.showTrasladoView = new app.ShowTrasladoView({
                model: this.trasladoModel
            });
        },
        getOrdenesMain: function() {
            this.mainOrdenesView instanceof Backbone.View && (this.mainOrdenesView.stopListening(), 
            this.mainOrdenesView.undelegateEvents()), this.mainOrdenesView = new app.MainOrdenesView();
        },
        getOrdenesCreate: function() {
            this.ordenpModel = new app.OrdenpModel(), this.createOrdenpView instanceof Backbone.View && (this.createOrdenpView.stopListening(), 
            this.createOrdenpView.undelegateEvents()), this.createOrdenpView = new app.CreateOrdenpView({
                model: this.ordenpModel
            }), this.createOrdenpView.render();
        },
        getOrdenesEdit: function(orden) {
            this.ordenpModel = new app.OrdenpModel(), this.ordenpModel.set({
                id: orden
            }, {
                silent: !0
            }), this.createOrdenpView instanceof Backbone.View && (this.createOrdenpView.stopListening(), 
            this.createOrdenpView.undelegateEvents()), this.createOrdenpView = new app.CreateOrdenpView({
                model: this.ordenpModel
            }), this.ordenpModel.fetch();
        }
    }))();
}(jQuery, this, this.document);

var app = app || {};

!function($, window, document, undefined) {
    var InitComponent = function() {
        $.ajaxSetup({
            cache: !1,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            }
        });
    };
    InitComponent.prototype = {
        initialize: function() {
            this.initApp(), this.initICheck(), this.initAlertify(), this.initInputMask(), this.initSelect2(), 
            this.initToUpper(), this.initSpinner(), this.initDatePicker(), this.initTimePicker();
        },
        initApp: function() {
            window.app.AppRouter.start();
        },
        initICheck: function() {
            $("input").iCheck({
                checkboxClass: "icheckbox_minimal-green",
                radioClass: "iradio_minimal-green"
            });
        },
        initAlertify: function() {
            alertify.logPosition("bottom right");
        },
        initInputMask: function() {
            $("[data-mask]").inputmask(), $("[data-currency]").inputmask({
                radixPoint: ",",
                alias: "currency",
                removeMaskOnSubmit: !0,
                unmaskAsNumber: !0,
                min: 0
            });
        },
        initSelect2: function() {
            $(".select2-default").select2({
                language: "es",
                placeholder: "Seleccione",
                allowClear: !1
            }), $(".select2-default-clear").select2({
                language: "es",
                placeholder: "Seleccione",
                allowClear: !0
            });
        },
        initToUpper: function() {
            $(".input-toupper").keyup(function() {
                $(this).val($(this).val().toUpperCase());
            });
        },
        initSpinner: function() {
            $(".spinner-percentage").spinner({
                step: .1,
                start: 0,
                min: 0,
                max: 100,
                numberFormat: "n",
                stop: function(event, ui) {
                    _.isNull(this.value) || _.isUndefined(this.value) || _.isEmpty(this.value) || (!$.isNumeric(this.value) || this.value > 100 || this.value < 0) && $(this).spinner("value", 0);
                }
            });
        },
        initValidator: function() {
            $('form[data-toggle="validator"]').each(function() {
                var $form = $(this);
                $.fn.validator.call($form, $form.data());
            });
        },
        initDatePicker: function() {
            $(".datepicker").datepicker({
                autoclose: !0,
                language: "es",
                format: "yyyy-mm-dd"
            });
        },
        initTimePicker: function() {
            $(".timepicker").timepicker({
                showInputs: !1,
                showMeridian: !1
            });
        }
    }, $(function() {
        window.initComponent = new InitComponent(), window.initComponent.initialize();
    });
}(jQuery, this, this.document);