/*! koi-frontend - v1.0.0 - 2016-05-12 */
!function($, window, document, undefined) {
    var Misc = function(a) {};
    Misc.prototype = {
        initialize: function() {},
        formToJson: function(selector) {
            var o = {}, a = [];
            return a = $.prototype.isPrototypeOf(selector) ? selector.serializeArray() : $(selector).serializeArray(), 
            $.each(a, function() {
                o[this.name] !== undefined ? (o[this.name].push || (o[this.name] = [ o[this.name] ]), 
                o[this.name].push(this.value || "")) : o[this.name] = this.value || "";
            }), o;
        },
        isUrl: function(str) {
            var patt = /^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;
            return patt.test(str);
        },
        urlFull: function(route) {
            if (!this.isUrl(document.url)) return route;
            route || (route = "");
            var patt = /^\//;
            return patt.test(route) || (route = "/" + route), document.url + route;
        },
        parseErrors: function(errors) {
            var text = "";
            if (_.isObject(errors)) {
                var listError = "<ul>";
                $.each(errors, function(field, item) {
                    listError += "<li>" + item[0] + "</li>";
                }), listError += "</ul>", text = listError;
            }
            return text;
        },
        setSpinner: function(selector) {
            selector && $(selector).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>');
        },
        removeSpinner: function(selector) {
            var $selector = $(selector).find(".overlay");
            $selector.length && $selector.remove();
        },
        dataTableES: function() {
            return {
                sProcessing: '<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',
                sLengthMenu: "Mostrar _MENU_ registros",
                sZeroRecords: "No se encontraron resultados",
                sEmptyTable: "Ningún dato disponible en esta tabla",
                sInfo: "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                sInfoEmpty: "Mostrando registros del 0 al 0 de un total de 0 registros",
                sInfoFiltered: "(filtrado de un total de _MAX_ registros)",
                sInfoPostFix: "",
                sSearch: "Buscar:",
                sUrl: "",
                sInfoThousands: ",",
                sLoadingRecords: "Cargando...",
                oPaginate: {
                    sFirst: "Primero",
                    sLast: "Último",
                    sNext: "Siguiente",
                    sPrevious: "Anterior"
                },
                oAria: {
                    sSortAscending: ": Activar para ordenar la columna de manera ascendente",
                    sSortDescending: ": Activar para ordenar la columna de manera descendente"
                }
            };
        },
        redirect: function(url) {
            url !== undefined && "" != url ? window.location = url : window.location.reload();
        },
        successRedirect: function(msg, url) {
            alertify.success(msg), setTimeout(function() {
                window.Misc.redirect(url);
            }, 500);
        }
    }, window.Misc = new Misc(), window.Misc.initialize();
}(jQuery, this, this.document), app || (app = {}), function(window, document, undefined) {
    app.CentroCostoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("centroscosto.index"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ContactoModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("terceros.contactos.index"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function(window, document, undefined) {
    app.TerceroModel = Backbone.Model.extend({
        urlRoot: function() {
            return window.Misc.urlFull(Route.route("terceros.index"));
        },
        idAttribute: "id",
        defaults: {}
    });
}(this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainActividadView = Backbone.View.extend({
        el: "#actividades-main",
        initialize: function() {
            this.$actividadesSearchTable = this.$("#actividades-search-table"), this.$actividadesSearchTable.DataTable({
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("actividades.index")),
                columns: [ {
                    data: "actividad_codigo",
                    name: "actividad_codigo"
                }, {
                    data: "actividad_nombre",
                    name: "actividad_nombre"
                }, {
                    data: "actividad_categoria",
                    name: "actividad_categoria"
                }, {
                    data: "actividad_tarifa",
                    name: "actividad_tarifa"
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateCentroCostoView = Backbone.View.extend({
        el: "#centrocosto-create",
        events: {
            "submit #form-create-centrocosto": "onStore"
        },
        parameters: {
            callback: ""
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.msgSuccess = "Centro de costo guardado con exito!", this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.el);
            var text = resp.success ? "" : resp.errors;
            if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
            var _this = this, stuffToDo = {
                toShow: function() {
                    window.Misc.successRedirect(_this.msgSuccess, window.Misc.urlFull(Route.route("centroscosto.show", {
                        centroscosto: resp.id
                    })));
                },
                "default": function() {
                    alertify.success(_this.msgSuccess);
                }
            };
            stuffToDo[this.parameters.callback] ? stuffToDo[this.parameters.callback]() : stuffToDo["default"]();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainCentrosCostoView = Backbone.View.extend({
        el: "#centroscosto-main",
        initialize: function() {
            this.$centroscostoSearchTable = this.$("#centroscosto-search-table"), this.$centroscostoSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("centroscosto.index")),
                columns: [ {
                    data: "centrocosto_codigo",
                    name: "centrocosto_codigo"
                }, {
                    data: "centrocosto_nombre",
                    name: "centrocosto_nombre"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo centro de costo',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("centroscosto.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "25%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("centroscosto.show", {
                            centroscosto: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentAddressView = Backbone.View.extend({
        el: "body",
        template: _.template($("#koi-address-component-tpl").html() || ""),
        events: {
            "click .btn-address-koi-component": "focusComponent",
            "submit #form-address-component": "addAddress",
            "change select#koi_nomenclatura1": "nomenclatura1Changed",
            "change input#koi_numero1": "numero1Changed",
            "change select#koi_alfabeto1": "alfabeto1Changed",
            "change select#koi_bis": "bisChanged",
            "change select#koi_alfabeto2": "alfabeto2Changed",
            "change select#koi_cardinales1": "cardinales1Changed",
            "change input#koi_numero2": "numero2Changed",
            "change select#koi_alfabeto3": "alfabeto3Changed",
            "change input#koi_numero3": "numero3Changed",
            "change select#koi_cardinales2": "cardinales2Changed",
            "click .btn-address-component-add-complement": "addComplement",
            "click .btn-address-component-remove-item": "removeItem"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-address-component");
        },
        focusComponent: function(e) {
            $("#" + $(e.currentTarget).attr("data-field")).focus();
        },
        addressChanged: function(e) {
            this.inputContent = $(e.currentTarget), this.$modalComponent.find(".content-modal").html(this.template({})), 
            this.$addressField = this.$modalComponent.find("#koi_direccion"), this.$postalField = this.$modalComponent.find("#koi_postal"), 
            this.$formComponent = this.$modalComponent.find("#form-address-component"), this.addressData = new Array(10), 
            "function" == typeof window.initComponent.initSelect2 && window.initComponent.initSelect2(), 
            "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper(), 
            this.$formComponent.validator(), this.$modalComponent.modal("show");
        },
        addAddress: function(e) {
            e.isDefaultPrevented() || (e.preventDefault(), this.inputContent.val(this.$addressField.val()), 
            this.$modalComponent.modal("hide"));
        },
        nomenclatura1Changed: function(e) {
            this.addressData[0] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero1Changed: function(e) {
            this.addressData[1] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        alfabeto1Changed: function(e) {
            this.addressData[2] = $(e.currentTarget).val(), this.buildAddress();
        },
        bisChanged: function(e) {
            this.addressData[3] = $(e.currentTarget).val(), this.buildAddress();
        },
        alfabeto2Changed: function(e) {
            this.addressData[4] = $(e.currentTarget).val(), this.buildAddress();
        },
        cardinales1Changed: function(e) {
            this.addressData[5] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero2Changed: function(e) {
            this.addressData[6] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        alfabeto3Changed: function(e) {
            this.addressData[7] = $(e.currentTarget).val(), this.buildAddress();
        },
        numero3Changed: function(e) {
            this.addressData[8] = $(e.currentTarget).val().trim(), this.buildAddress();
        },
        cardinales2Changed: function(e) {
            this.addressData[9] = $(e.currentTarget).val(), this.buildAddress();
        },
        addComplement: function(e) {
            e.preventDefault(), _.isUndefined(this.$("#koi_complementos1").val()) || _.isNull(this.$("#koi_complementos1").val()) || "" == this.$("#koi_complementos1").val() || (this.addressData.push(this.$("#koi_complementos1").val()), 
            _.isUndefined(this.$("#koi_complementos2").val()) || _.isNull(this.$("#koi_complementos2").val()) || "" == this.$("#koi_complementos2").val() || this.addressData.push(this.$("#koi_complementos2").val()), 
            this.$("#koi_complementos1").val(""), this.$("#koi_complementos2").val(""), this.buildAddress());
        },
        removeItem: function(e) {
            e.preventDefault(), this.addressData.pop(), this.buildAddress();
        },
        buildAddress: function() {
            var addreess = $.grep(this.addressData, Boolean).join(" ").trim();
            this.$addressField.val(addreess), console.log(this.$postalField.val());
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ComponentCreateResourceView = Backbone.View.extend({
        el: "body",
        events: {
            "click .btn-add-resource-koi-component": "addResource",
            "submit #form-create-resource-component": "onStore"
        },
        initialize: function() {
            this.$modalComponent = this.$("#modal-add-resource-component"), this.$wraperContent = this.$("#content-create-resource-component"), 
            console.log(this.$wraperContent);
        },
        addResource: function(e) {
            var resource = $(e.currentTarget).attr("data-resource"), _this = this, stuffToDo = {
                centrocosto: function() {
                    _this.model = new app.CentroCostoModel(), _this.$modalComponent.find(".content-modal").html(_.template($("#add-centrocosto-tpl").html() || "", {}));
                }
            };
            stuffToDo[resource] && (stuffToDo[resource](), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner), this.$modalComponent.modal("show"));
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.$wraperConten);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.$wraperConten);
            var text = resp.success ? "" : resp.errors;
            return _.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), 
            resp.success ? void alertify.success("TODOD OK PCMARO") : void alertify.error(text);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainDepartamentoView = Backbone.View.extend({
        el: "#departamentos-main",
        initialize: function() {
            this.$departamentosSearchTable = this.$("#departamentos-search-table"), this.$departamentosSearchTable.DataTable({
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("departamentos.index")),
                columns: [ {
                    data: "departamento_codigo",
                    name: "departamento_codigo"
                }, {
                    data: "departamento_nombre",
                    name: "departamento_nombre"
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.UserLoginView = Backbone.View.extend({
        el: "#login-box",
        initialize: function() {
            this.$loginForm = $("#form-login-account"), this.$loginForm.validator();
        },
        render: function() {}
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainMunicipioView = Backbone.View.extend({
        el: "#municipios-main",
        initialize: function() {
            this.$municipiosSearchTable = this.$("#municipios-search-table"), this.$municipiosSearchTable.DataTable({
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("municipios.index")),
                columns: [ {
                    data: "departamento_codigo",
                    name: "koi_departamento.departamento_codigo"
                }, {
                    data: "departamento_nombre",
                    name: "departamento_nombre"
                }, {
                    data: "municipio_codigo",
                    name: "municipio_codigo"
                }, {
                    data: "municipio_nombre",
                    name: "municipio_nombre"
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainPlanCuentasView = Backbone.View.extend({
        el: "#plancuentas-main",
        initialize: function() {
            this.$plancuentasSearchTable = this.$("#plancuentas-search-table"), this.$plancuentasSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("plancuentas.index")),
                columns: [ {
                    data: "plancuentas_cuenta",
                    name: "plancuentas_cuenta"
                }, {
                    data: "plancuentas_nombre",
                    name: "plancuentas_nombre"
                }, {
                    data: "plancuentas_naturaleza",
                    name: "plancuentas_naturaleza"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nueva cuenta',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("plancuentas.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("plancuentas.show", {
                            plancuentas: full.id
                        })) + '">' + data + "</a>";
                    }
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ContactItemView = Backbone.View.extend({
        tagName: "tr",
        template: _.template($("#contact-item-list-tpl").html() || ""),
        events: {},
        initialize: function() {
            this.listenTo(this.model, "change", this.render);
        },
        render: function() {
            var attributes = this.model.toJSON();
            return this.$el.html(this.template(attributes)), this;
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.ContactsListView = Backbone.View.extend({
        el: "#browse-contact-list",
        events: {},
        parameters: {
            dataFilter: {}
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.listenTo(this.collection, "add", this.addOne), this.listenTo(this.collection, "reset", this.addAll), 
            this.listenTo(this.collection, "request", this.loadSpinner), this.listenTo(this.collection, "sync", this.responseServer), 
            this.collection.fetch({
                data: {
                    tercero_id: this.parameters.dataFilter.tercero_id
                },
                reset: !0
            });
        },
        render: function() {},
        addOne: function(contactModel) {
            console.log("contactModel", contactModel);
            var view = new app.ContactItemView({
                model: contactModel
            });
            this.$el.append(view.render().el);
        },
        addAll: function() {
            this.$el.html(""), this.collection.forEach(this.addOne, this);
        },
        loadSpinner: function(target, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(target, resp, opts) {
            window.Misc.removeSpinner(this.el);
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.CreateTerceroView = Backbone.View.extend({
        el: "#tercero-create",
        templateName: _.template($("#name-partner-tpl").html() || ""),
        events: {
            "change input#tercero_nit": "nitChanged",
            "change select#tercero_persona": "personaChanged",
            "change select#tercero_actividad": "actividadChanged",
            "submit #form-create-tercero": "onStore"
        },
        parameters: {
            callback: ""
        },
        initialize: function(opts) {
            opts !== undefined && _.isObject(opts.parameters) && (this.parameters = $.extend({}, this.parameters, opts.parameters)), 
            this.msgSuccess = "Tercero guardado con exito!", this.$dv = this.$("#tercero_digito"), 
            this.$documento = this.$("#tercero_tipo"), this.$persona = this.$("#tercero_persona"), 
            this.$retecree = this.$("#tercero_retecree"), this.model.id !== undefined && (this.contactsList = new app.ContactsList(), 
            this.referenceViews()), this.listenTo(this.model, "sync", this.responseServer), 
            this.listenTo(this.model, "request", this.loadSpinner);
        },
        render: function() {
            this.$persona.change();
        },
        referenceViews: function() {
            this.contactsListView = new app.ContactsListView({
                collection: this.contactsList,
                parameters: {
                    dataFilter: {
                        tercero_id: this.model.get("id")
                    }
                }
            });
        },
        nitChanged: function(e) {
            var _this = this;
            $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.dv")),
                type: "GET",
                data: {
                    tercero_nit: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    _this.clearNitChange(), window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), resp.success && (_this.$dv.val(resp.dv), _.isUndefined(resp.documento) || _.isNull(resp.documento) || _this.$documento.val(resp.documento), 
                _.isUndefined(resp.persona) || _.isNull(resp.persona) || _this.$persona.val(resp.persona).change());
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        clearNitChange: function() {
            this.$dv.val(""), this.$documento.val(""), this.$persona.val("");
        },
        personaChanged: function(e) {
            this.$("#name-partner-content").html(this.templateName({
                persona: $(e.currentTarget).val()
            })), "function" == typeof window.initComponent.initToUpper && window.initComponent.initToUpper();
        },
        actividadChanged: function(e) {
            var _this = this;
            $.ajax({
                url: window.Misc.urlFull(Route.route("terceros.rcree")),
                type: "GET",
                data: {
                    tercero_actividad: $(e.currentTarget).val()
                },
                beforeSend: function() {
                    window.Misc.setSpinner(_this.el);
                }
            }).done(function(resp) {
                window.Misc.removeSpinner(_this.el), resp.success && (_.isUndefined(resp.rcree) || _.isNull(resp.rcree) || _this.$retecree.html(resp.rcree));
            }).fail(function(jqXHR, ajaxOptions, thrownError) {
                window.Misc.removeSpinner(_this.el), alertify.error(thrownError);
            });
        },
        onStore: function(e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var data = window.Misc.formToJson(e.target);
                this.model.save(data, {
                    patch: !0
                });
            }
        },
        loadSpinner: function(model, xhr, opts) {
            window.Misc.setSpinner(this.el);
        },
        responseServer: function(model, resp, opts) {
            window.Misc.removeSpinner(this.el);
            var text = resp.success ? "" : resp.errors;
            if (_.isObject(resp.errors) && (text = window.Misc.parseErrors(resp.errors)), !resp.success) return void alertify.error(text);
            var _this = this, stuffToDo = {
                toEdit: function() {
                    window.Misc.successRedirect(_this.msgSuccess, window.Misc.urlFull(Route.route("terceros.edit", {
                        terceros: resp.id
                    })));
                },
                "default": function() {
                    alertify.success(_this.msgSuccess);
                }
            };
            stuffToDo[this.parameters.callback] ? stuffToDo[this.parameters.callback]() : stuffToDo["default"]();
        }
    });
}(jQuery, this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.MainTerceroView = Backbone.View.extend({
        el: "#terceros-main",
        initialize: function() {
            this.$tercerosSearchTable = this.$("#terceros-search-table"), this.$tercerosSearchTable.DataTable({
                dom: "<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",
                processing: !0,
                serverSide: !0,
                language: window.Misc.dataTableES(),
                ajax: window.Misc.urlFull(Route.route("terceros.index")),
                columns: [ {
                    data: "tercero_nit",
                    name: "tercero_nit"
                }, {
                    data: "tercero_nombre",
                    name: "tercero_nombre"
                }, {
                    data: "tercero_razonsocial",
                    name: "tercero_razonsocial"
                }, {
                    data: "tercero_nombre1",
                    name: "tercero_nombre1"
                }, {
                    data: "tercero_nombre2",
                    name: "tercero_nombre2"
                }, {
                    data: "tercero_apellido1",
                    name: "tercero_apellido1"
                }, {
                    data: "tercero_apellido2",
                    name: "tercero_apellido2"
                } ],
                buttons: [ {
                    text: '<i class="fa fa-user-plus"></i> Nuevo tercero',
                    className: "btn-sm",
                    action: function(e, dt, node, config) {
                        window.Misc.redirect(window.Misc.urlFull(Route.route("terceros.create")));
                    }
                } ],
                columnDefs: [ {
                    targets: 0,
                    width: "15%",
                    render: function(data, type, full, row) {
                        return '<a href="' + window.Misc.urlFull(Route.route("terceros.show", {
                            terceros: full.id
                        })) + '">' + data + "</a>";
                    }
                }, {
                    targets: 1,
                    width: "85%",
                    searchable: !1
                }, {
                    targets: [ 2, 3, 4, 5, 6 ],
                    visible: !1
                } ]
            });
        }
    });
}(jQuery, this, this.document), app || (app = {}), function(window, document, undefined) {
    app.ContactsList = Backbone.Collection.extend({
        url: function() {
            return window.Misc.urlFull(Route.route("terceros.contactos.index"));
        },
        model: app.ContactoModel,
        initialize: function() {}
    });
}(this, this.document), app || (app = {}), function($, window, document, undefined) {
    app.AppRouter = new (Backbone.Router.extend({
        routes: {
            "login(/)": "getLogin",
            "terceros(/)": "getTercerosMain",
            "terceros/create(/)": "getTercerosCreate",
            "terceros/:tercero/edit(/)": "getTercerosEdit",
            "municipios(/)": "getMunicipiosMain",
            "departamentos(/)": "getDepartamentosMain",
            "actividades(/)": "getActividadesMain",
            "plancuentas(/)": "getPlanCuentasMain",
            "centroscosto(/)": "getCentrosCostoMain",
            "centroscosto/create(/)": "getCentrosCostoCreate",
            "centroscosto/:centrocosto/edit(/)": "getCentrosCostoEdit"
        },
        initialize: function(opts) {
            this.componentAddressView = new app.ComponentAddressView(), this.componentCreateResourceView = new app.ComponentCreateResourceView();
        },
        start: function() {
            var config = {
                pushState: !0
            };
            "-1" != document.domain.search("localhost") && (config.root = "/vaziko/public/"), 
            Backbone.history.start(config);
        },
        getLogin: function() {
            this.loginView instanceof Backbone.View && (this.loginView.stopListening(), this.loginView.undelegateEvents()), 
            this.loginView = new app.UserLoginView();
        },
        getTercerosMain: function() {
            this.mainTerceroView instanceof Backbone.View && (this.mainTerceroView.stopListening(), 
            this.mainTerceroView.undelegateEvents()), this.mainTerceroView = new app.MainTerceroView();
        },
        getTercerosCreate: function() {
            this.terceroModel = new app.TerceroModel(), this.createTerceroView instanceof Backbone.View && (this.createTerceroView.stopListening(), 
            this.createTerceroView.undelegateEvents()), this.createTerceroView = new app.CreateTerceroView({
                model: this.terceroModel,
                parameters: {
                    callback: "toEdit"
                }
            }), this.createTerceroView.render();
        },
        getTercerosEdit: function(tercero) {
            this.terceroModel = new app.TerceroModel(), this.terceroModel.set({
                id: tercero
            }, {
                silent: !0
            }), this.createTerceroView instanceof Backbone.View && (this.createTerceroView.stopListening(), 
            this.createTerceroView.undelegateEvents()), this.createTerceroView = new app.CreateTerceroView({
                model: this.terceroModel
            }), this.createTerceroView.render();
        },
        getMunicipiosMain: function() {
            this.mainMunicipioView instanceof Backbone.View && (this.mainMunicipioView.stopListening(), 
            this.mainMunicipioView.undelegateEvents()), this.mainMunicipioView = new app.MainMunicipioView();
        },
        getDepartamentosMain: function() {
            this.mainDepartamentoView instanceof Backbone.View && (this.mainDepartamentoView.stopListening(), 
            this.mainDepartamentoView.undelegateEvents()), this.mainDepartamentoView = new app.MainDepartamentoView();
        },
        getActividadesMain: function() {
            this.mainActividadView instanceof Backbone.View && (this.mainActividadView.stopListening(), 
            this.mainActividadView.undelegateEvents()), this.mainActividadView = new app.MainActividadView();
        },
        getPlanCuentasMain: function() {
            this.mainPlanCuentasView instanceof Backbone.View && (this.mainPlanCuentasView.stopListening(), 
            this.mainPlanCuentasView.undelegateEvents()), this.mainPlanCuentasView = new app.MainPlanCuentasView();
        },
        getCentrosCostoMain: function() {
            this.mainCentrosCostoView instanceof Backbone.View && (this.mainCentrosCostoView.stopListening(), 
            this.mainCentrosCostoView.undelegateEvents()), this.mainCentrosCostoView = new app.MainCentrosCostoView();
        },
        getCentrosCostoCreate: function() {
            this.centroCostoModel = new app.CentroCostoModel(), this.createCentroCostoView instanceof Backbone.View && (this.createCentroCostoView.stopListening(), 
            this.createCentroCostoView.undelegateEvents()), this.createCentroCostoView = new app.CreateCentroCostoView({
                model: this.centroCostoModel,
                parameters: {
                    callback: "toShow"
                }
            });
        },
        getCentrosCostoEdit: function(centrocosto) {
            this.centroCostoModel = new app.CentroCostoModel(), this.centroCostoModel.set({
                id: centrocosto
            }, {
                silent: !0
            }), this.createCentroCostoView instanceof Backbone.View && (this.createCentroCostoView.stopListening(), 
            this.createCentroCostoView.undelegateEvents()), this.createCentroCostoView = new app.CreateCentroCostoView({
                model: this.centroCostoModel
            });
        }
    }))();
}(jQuery, this, this.document);

var app = app || {};

!function($, window, document, undefined) {
    var InitComponent = function() {
        $.ajaxSetup({
            cache: !1,
            headers: {
                "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")
            }
        });
    };
    InitComponent.prototype = {
        initialize: function() {
            this.initApp(), this.initICheck(), this.initAlertify(), this.initInputMask(), this.initSelect2(), 
            this.initToUpper();
        },
        initApp: function() {
            window.app.AppRouter.start();
        },
        initICheck: function() {
            $("input").iCheck({
                checkboxClass: "icheckbox_minimal-green",
                radioClass: "iradio_minimal-green"
            });
        },
        initAlertify: function() {
            alertify.logPosition("bottom right");
        },
        initInputMask: function() {
            $("[data-mask]").inputmask();
        },
        initSelect2: function() {
            $(".select2-default").select2({
                language: "es",
                placeholder: "Seleccione"
            }), $(".select2-default-clear").select2({
                language: "es",
                placeholder: "Seleccione",
                allowClear: !0
            });
        },
        initToUpper: function() {
            $(".input-toupper").keyup(function() {
                $(this).val($(this).val().toUpperCase());
            });
        }
    }, $(function() {
        window.initComponent = new InitComponent(), window.initComponent.initialize();
    });
}(jQuery, this, this.document);