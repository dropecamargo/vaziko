/*! koi-frontend - v1.0.0 - 2016-06-03 */
!function(a,b,c,d){var e=function(a){};e.prototype={initialize:function(){},formToJson:function(b){var c={},e=[];return e=a.prototype.isPrototypeOf(b)?b.serializeArray():a(b).serializeArray(),a.each(e,function(){c[this.name]!==d?(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""}),c},isUrl:function(a){var b=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return b.test(a)},urlFull:function(a){if(!this.isUrl(c.url))return a;a||(a="");var b=/^\//;return b.test(a)||(a="/"+a),c.url+a},parseErrors:function(b){var c="";if(_.isObject(b)){var d="<ul>";a.each(b,function(a,b){d+="<li>"+b[0]+"</li>"}),d+="</ul>",c=d}return c},setSpinner:function(b){b&&a(b).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(b){var c=a(b).find(".overlay");c.length&&c.remove()},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(a){a!==d&&""!=a?b.location=a:b.location.reload()},successRedirect:function(a,c){alertify.success(a),setTimeout(function(){b.Misc.redirect(c)},500)}},b.Misc=new e,b.Misc.initialize()}(jQuery,this,this.document),app||(app={}),function(a,b,c){app.AsientoModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("asientos.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(a,b,c){app.Asiento2Model=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("asientos.detalle.index"))},idAttribute:"id",defaults:{asiento2_asiento:"",asiento2_cuenta:"",plancuentas_nombre:"",asiento2_beneficiario:"",asiento2_beneficiario_nit:"",asiento2_debito:0,asiento2_credito:0,asiento2_centro:"",centrocosto_nombre:"",asiento2_base:0,asiento2_detalle:""}})}(this,this.document),app||(app={}),function(a,b,c){app.CentroCostoModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("centroscosto.index"))},idAttribute:"id",defaults:{centrocosto_codigo:"",centrocosto_centro:"",centrocosto_nombre:"",centrocosto_descripcion1:"",centrocosto_descripcion2:"",centrocosto_estructura:"N",centrocosto_tipo:"N",centrocosto_activo:!0}})}(this,this.document),app||(app={}),function(a,b,c){app.ContactoModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("terceros.contactos.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(a,b,c){app.DocumentoModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("documentos.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(a,b,c){app.EmpresaModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("empresa.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,actividad_tarifa:"",empresa_niif:""}})}(this,this.document),app||(app={}),function(a,b,c){app.PlanCuentaModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("plancuentas.index"))},idAttribute:"id",defaults:{plancuentas_cuenta:"",plancuentas_nivel:"",plancuentas_nombre:"",plancuentas_naturaleza:"",plancuentas_centro:"",plancuentas_tercero:!1,plancuentas_tipo:"",plancuentas_tasa:0}})}(this,this.document),app||(app={}),function(a,b,c){app.TerceroModel=Backbone.Model.extend({urlRoot:function(){return a.Misc.urlFull(Route.route("terceros.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_activo:!1,tercero_socio:!1,tercero_cliente:!1,tercero_acreedor:!1,tercero_interno:!1,tercero_mandatario:!1,tercero_empleado:!1,tercero_proveedor:!1,tercero_extranjero:!1,tercero_afiliado:!1,tercero_otro:!1,tercero_cual:"",tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,actividad_tarifa:""}})}(this,this.document),app||(app={}),function(a,b,c,d){app.MainActividadView=Backbone.View.extend({el:"#actividades-main",initialize:function(){this.$actividadesSearchTable=this.$("#actividades-search-table"),this.$actividadesSearchTable.DataTable({processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("actividades.index")),columns:[{data:"actividad_codigo",name:"actividad_codigo"},{data:"actividad_nombre",name:"actividad_nombre"},{data:"actividad_categoria",name:"actividad_categoria"},{data:"actividad_tarifa",name:"actividad_tarifa"}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.AsientoCuentasListView=Backbone.View.extend({el:"#browse-detalle-asiento-list",events:{},parameters:{wrapper:null,dataFilter:{}},initialize:function(b){b!==d&&_.isObject(b.parameters)&&(this.parameters=a.extend({},this.parameters,b.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.asiento)||_.isNull(this.parameters.dataFilter.asiento)||(this.confCollection.data.asiento=this.parameters.dataFilter.asiento,this.collection.fetch(this.confCollection))},addOne:function(a){var b=new app.AsientoCuentasItemView({model:a});this.$el.prepend(b.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(a){var c=this,d=b.Misc.formToJson(a);b.Misc.setSpinner(this.parameters.wrapper);var e=new app.Asiento2Model;e.save(d,{success:function(a,d){if(!_.isUndefined(d.success)){b.Misc.removeSpinner(c.parameters.wrapper);var e=d.success?"":d.errors;if(_.isObject(d.errors)&&(e=b.Misc.parseErrors(d.errors)),!d.success)return void alertify.error(e);c.collection.add(a)}},error:function(a,d){b.Misc.removeSpinner(c.parameters.wrapper),alertify.error(d.statusText)}})},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(a,c,d){b.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.AsientoCuentasItemView=Backbone.View.extend({tagName:"tr",template:_.template(a("#add-asiento2-item-tpl").html()||""),events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var a=this.model.toJSON();return this.$el.html(this.template(a)),this}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.CreateAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(a("#add-asiento-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","click .submit-asiento":"submitAsiento","submit #form-item-asiento":"onStoreItem","submit #form-asientos":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-asientos"),this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var a=this.model.toJSON();this.$wraperForm.html(this.template(a)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.getCuentasDetalle(),this.ready()},ready:function(){"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck(),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2()},documentoChanged:function(c){var d=this,e=a(c.currentTarget).val();d.$numero.val(""),_.isUndefined(e)||_.isNull(e)||""==e||a.ajax({url:b.Misc.urlFull(Route.route("documentos.show",{documentos:e})),type:"GET",beforeSend:function(){b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),_.isObject(a)&&(_.isUndefined(a.documento_tipo_consecutivo)||_.isNull(a.documento_tipo_consecutivo)||(d.$numero.val(a.documento_consecutivo+1),"M"==a.documento_tipo_consecutivo?d.$numero.prop("readonly",!1):"A"==a.documento_tipo_consecutivo&&d.$numero.prop("readonly",!0)))}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},submitAsiento:function(a){this.$form.submit()},onStore:function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b.Misc.formToJson(a.target);c.cuentas=this.asientoCuentasList.toJSON(),this.model.save(c,{patch:!0,silent:!0})}},getCuentasDetalle:function(){new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el}})},onStoreItem:function(a){a.isDefaultPrevented()||(a.preventDefault(),this.asientoCuentasList.trigger("store",this.$(a.target)))},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){if(b.Misc.removeSpinner(this.el),!_.isUndefined(c.success)){var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return void alertify.error(e);b.Misc.redirect(b.Misc.urlFull(Route.route("asientos.show",{asientos:c.id})))}}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainAsientosView=Backbone.View.extend({el:"#asientos-main",initialize:function(){this.$asientosSearchTable=this.$("#asientos-search-table"),this.$asientosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("asientos.index")),columns:[{data:"asiento1_numero",name:"asiento1_numero"},{data:"asiento1_ano",name:"asiento1_ano"},{data:"asiento1_mes",name:"asiento1_mes"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva asiento',className:"btn-sm",action:function(a,c,d,e){b.Misc.redirect(b.Misc.urlFull(Route.route("asientos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(a,c,d,e){return'<a href="'+b.Misc.urlFull(Route.route("asientos.show",{asientos:d.id}))+'">'+a+"</a>"}},{targets:[1,2],width:"10%"},{targets:3,width:"15%"},{targets:4,searchable:!1},{targets:[5,6,7,8,9],visible:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ShowAsientoView=Backbone.View.extend({el:"#asientos-show",initialize:function(){this.model.id!=d&&(this.asientoCuentasList=new app.AsientoCuentasList,this.referenceViews())},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,dataFilter:{asiento:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.CreateCentroCostoView=Backbone.View.extend({el:"#centrocosto-create",template:_.template(a("#add-centrocosto-tpl").html()||""),events:{"submit #form-centrocosto":"onStore"},parameters:{callback:""},initialize:function(b){b!==d&&_.isObject(b.parameters)&&(this.parameters=a.extend({},this.parameters,b.parameters)),this.msgSuccess="Centro de costo guardado con exito!",this.$wraperForm=this.$("#render-form-centrocosto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b.Misc.formToJson(a.target);this.model.save(c,{patch:!0,silent:!0})}},render:function(){var a=this.model.toJSON();this.$wraperForm.html(this.template(a)),this.ready()},ready:function(){"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck(),"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper()},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){if(b.Misc.removeSpinner(this.el),!_.isUndefined(c.success)){var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return void alertify.error(e);var f=this,g={toShow:function(){b.Misc.redirect(b.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:c.id})))},"default":function(){alertify.success(f.msgSuccess)}};g[this.parameters.callback]?g[this.parameters.callback]():g["default"]()}}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainCentrosCostoView=Backbone.View.extend({el:"#centroscosto-main",initialize:function(){this.$centroscostoSearchTable=this.$("#centroscosto-search-table"),this.$centroscostoSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("centroscosto.index")),columns:[{data:"centrocosto_codigo",name:"centrocosto_codigo"},{data:"centrocosto_centro",name:"centrocosto_centro"},{data:"centrocosto_nombre",name:"centrocosto_nombre"},{data:"centrocosto_estructura",name:"centrocosto_estructura"},{data:"centrocosto_activo",name:"centrocosto_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo centro de costo',className:"btn-sm",action:function(a,c,d,e){b.Misc.redirect(b.Misc.urlFull(Route.route("centroscosto.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(a,c,d,e){return'<a href="'+b.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:d.id}))+'">'+a+"</a>"}},{targets:3,width:"10%",render:function(a,b,c,d){return"S"==a?"Si":"No"}},{targets:[4],width:"10%",render:function(a,b,c,d){return a?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ComponentAddressView=Backbone.View.extend({el:"body",template:_.template(a("#koi-address-component-tpl").html()||""),events:{"click .btn-address-koi-component":"focusComponent","submit #form-address-component":"addAddress","change select#koi_nomenclatura1":"nomenclatura1Changed","change input#koi_numero1":"numero1Changed","change select#koi_alfabeto1":"alfabeto1Changed","change select#koi_bis":"bisChanged","change select#koi_alfabeto2":"alfabeto2Changed","change select#koi_cardinales1":"cardinales1Changed","change input#koi_numero2":"numero2Changed","change select#koi_alfabeto3":"alfabeto3Changed","change input#koi_numero3":"numero3Changed","change select#koi_cardinales2":"cardinales2Changed","click .btn-address-component-add-complement":"addComplement","click .btn-address-component-remove-item":"removeItem"},initialize:function(){this.$modalComponent=this.$("#modal-address-component")},focusComponent:function(b){a("#"+a(b.currentTarget).attr("data-field")).focus()},addressChanged:function(c){this.inputContent=a(c.currentTarget),this.$modalComponent.find(".content-modal").html(this.template({})),this.$addressField=this.$modalComponent.find("#koi_direccion"),this.$postalField=this.$modalComponent.find("#koi_postal"),this.$formComponent=this.$modalComponent.find("#form-address-component"),this.addressData=new Array(10),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2(),"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),this.$formComponent.validator(),this.$modalComponent.modal("show")},addAddress:function(a){a.isDefaultPrevented()||(a.preventDefault(),this.inputContent.val(this.$addressField.val()),this.$modalComponent.modal("hide"))},nomenclatura1Changed:function(b){this.addressData[0]=a(b.currentTarget).val(),this.buildAddress()},numero1Changed:function(b){this.addressData[1]=a(b.currentTarget).val().trim(),this.buildAddress()},alfabeto1Changed:function(b){this.addressData[2]=a(b.currentTarget).val(),this.buildAddress()},bisChanged:function(b){this.addressData[3]=a(b.currentTarget).val(),this.buildAddress()},alfabeto2Changed:function(b){this.addressData[4]=a(b.currentTarget).val(),this.buildAddress()},cardinales1Changed:function(b){this.addressData[5]=a(b.currentTarget).val(),this.buildAddress()},numero2Changed:function(b){this.addressData[6]=a(b.currentTarget).val().trim(),this.buildAddress()},alfabeto3Changed:function(b){this.addressData[7]=a(b.currentTarget).val(),this.buildAddress()},numero3Changed:function(b){this.addressData[8]=a(b.currentTarget).val().trim(),this.buildAddress()},cardinales2Changed:function(b){this.addressData[9]=a(b.currentTarget).val(),this.buildAddress()},addComplement:function(a){a.preventDefault(),_.isUndefined(this.$("#koi_complementos1").val())||_.isNull(this.$("#koi_complementos1").val())||""==this.$("#koi_complementos1").val()||(this.addressData.push(this.$("#koi_complementos1").val()),_.isUndefined(this.$("#koi_complementos2").val())||_.isNull(this.$("#koi_complementos2").val())||""==this.$("#koi_complementos2").val()||this.addressData.push(this.$("#koi_complementos2").val()),this.$("#koi_complementos1").val(""),this.$("#koi_complementos2").val(""),this.buildAddress())},removeItem:function(a){a.preventDefault(),this.addressData.pop(),this.buildAddress()},buildAddress:function(){var b=a.grep(this.addressData,Boolean).join(" ").trim();this.$addressField.val(b)}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ComponentCreateResourceView=Backbone.View.extend({el:"body",events:{"click .btn-add-resource-koi-component":"addResource","submit #form-create-resource-component":"onStore"},initialize:function(){this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperError=this.$("#error-resource-component"),this.$wraperContent=this.$("#content-create-resource-component")},addResource:function(b){this.resource=a(b.currentTarget).attr("data-resource"),this.$resourceField=a("#"+a(b.currentTarget).attr("data-field"));var c=this,d={centrocosto:function(){c.$modalComponent.find(".inner-title-modal").html("Centros de costo"),c.model=new app.CentroCostoModel;var b=_.template(a("#add-centrocosto-tpl").html());c.$modalComponent.find(".content-modal").html(b(c.model.toJSON()))}};d[this.resource]&&(d[this.resource](),this.$wraperError.hide().empty(),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready(),this.$modalComponent.modal("show"))},ready:function(){"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),"function"==typeof b.initComponent.initInputMask&&b.initComponent.initInputMask(),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2(),"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck()},onStore:function(a){if(!a.isDefaultPrevented()){this.$wraperError.hide().empty(),a.preventDefault();var c=b.Misc.formToJson(a.target);this.model.save(c,{patch:!0})}},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.$wraperConten)},responseServer:function(a,c,d){b.Misc.removeSpinner(this.$wraperConten);var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return this.$wraperError.empty().append(e),void this.$wraperError.show();var f=this,g={centrocosto:function(){f.$resourceField.select2({data:[{id:f.model.get("id"),text:f.model.get("centrocosto_nombre")}]}).trigger("change"),f.$resourceField.val(f.model.get("id")).trigger("change")}};g[this.resource]&&(g[this.resource](),this.$modalComponent.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ComponentDocumentView=Backbone.View.extend({el:"body",events:{"change .select-filter-document-koi-component":"folderChanged"},initialize:function(){},folderChanged:function(c){var d=this;this.$inputContent=a(c.currentTarget),this.$wraperConten=this.$("#"+a(c.currentTarget).attr("data-wrapper")),this.$inputDocument=this.$("#"+a(c.currentTarget).attr("data-documents"));var e=this.$inputContent.val();this.$inputDocument.find("option:gt(0)").remove(),_.isUndefined(e)||_.isNull(e)||""==e||a.ajax({url:b.Misc.urlFull(Route.route("documentos.filter")),type:"GET",data:{folder:e},beforeSend:function(){b.Misc.setSpinner(d.$wraperConten)}}).done(function(c){b.Misc.removeSpinner(d.$wraperConten),c.success&&_.isObject(c.documents)&&(a.each(c.documents,function(b,c){d.$inputDocument.append(a("<option></option>").attr("value",c.id).text(c.documento_nombre))}),d.$inputDocument.change())}).fail(function(a,c,e){b.Misc.removeSpinner(d.$wraperConten),alertify.error(e)})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ComponentSearchCuentaView=Backbone.View.extend({el:"body",events:{"change input.plancuenta-koi-component":"cuentaChanged"},initialize:function(){},cuentaChanged:function(c){var d=this;this.$inputContent=a(c.currentTarget),this.$inputName=this.$("#"+a(c.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+a(c.currentTarget).attr("data-wrapper"));var e=this.$inputContent.val();_.isUndefined(e)||_.isNull(e)||""==e||a.ajax({url:b.Misc.urlFull(Route.route("plancuentas.search")),type:"GET",data:{plancuentas_cuenta:e},beforeSend:function(){d.$inputName.val(""),b.Misc.setSpinner(d.$wraperConten)}}).done(function(a){b.Misc.removeSpinner(d.$wraperConten),a.success&&(_.isUndefined(a.plancuentas_nombre)||_.isNull(a.plancuentas_nombre)||d.$inputName.val(a.plancuentas_nombre))}).fail(function(a,c,e){b.Misc.removeSpinner(d.$wraperConten),alertify.error(e)})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",events:{"change input.tercero-koi-component":"terceroChanged"},initialize:function(){},terceroChanged:function(c){var d=this;this.$inputContent=a(c.currentTarget),this.$inputName=this.$("#"+a(c.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+a(c.currentTarget).attr("data-wrapper"));var e=this.$inputContent.val();_.isUndefined(e)||_.isNull(e)||""==e||a.ajax({url:b.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:e},beforeSend:function(){d.$inputName.val(""),b.Misc.setSpinner(d.$wraperConten)}}).done(function(a){b.Misc.removeSpinner(d.$wraperConten),a.success&&(_.isUndefined(a.tercero_nombre)||_.isNull(a.tercero_nombre)||d.$inputName.val(a.tercero_nombre))}).fail(function(a,c,e){b.Misc.removeSpinner(d.$wraperConten),alertify.error(e)})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainDepartamentoView=Backbone.View.extend({el:"#departamentos-main",initialize:function(){this.$departamentosSearchTable=this.$("#departamentos-search-table"),this.$departamentosSearchTable.DataTable({processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("departamentos.index")),columns:[{data:"departamento_codigo",name:"departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.CreateEmpresaView=Backbone.View.extend({el:"#empresa-create",template:_.template(a("#add-company-tpl").html()||""),templateName:_.template(a("#tercero-name-tpl").html()||""),events:{"change input#tercero_nit":"nitChanged","change select#tercero_persona":"personaChanged","change select#tercero_actividad":"actividadChanged","submit #form-create-empresa":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-empresa"),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:tercero_persona",this.renderName),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var a=this.model.toJSON();this.$wraperForm.html(this.template(a)),this.$dv=this.$("#tercero_digito"),this.$retecree=this.$("#tercero_retecree"),this.ready()},renderName:function(a,b,c){this.$("#content-render-name").html(this.templateName(this.model.toJSON())),this.ready()},ready:function(){"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),"function"==typeof b.initComponent.initInputMask&&b.initComponent.initInputMask(),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2(),"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck()},nitChanged:function(c){var d=this;a.ajax({url:b.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:a(c.currentTarget).val()},beforeSend:function(){b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),a.success&&d.$dv.val(a.dv)}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},personaChanged:function(b){this.model.set({tercero_persona:a(b.currentTarget).val()})},actividadChanged:function(c){var d=this;a.ajax({url:b.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:a(c.currentTarget).val()},beforeSend:function(){b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),a.success&&(_.isUndefined(a.rcree)||_.isNull(a.rcree)||d.$retecree.html(a.rcree))}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},onStore:function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b.Misc.formToJson(a.target);this.model.save(c,{patch:!0})}},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){if(b.Misc.removeSpinner(this.el),!_.isUndefined(c.success)){var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return void alertify.error(e);alertify.success("datos de empresa fueron actualizados con éxito.")}}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=a("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainMunicipioView=Backbone.View.extend({el:"#municipios-main",initialize:function(){this.$municipiosSearchTable=this.$("#municipios-search-table"),this.$municipiosSearchTable.DataTable({processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("municipios.index")),columns:[{data:"departamento_codigo",name:"koi_departamento.departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"},{data:"municipio_codigo",name:"municipio_codigo"},{data:"municipio_nombre",name:"municipio_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.CreatePlanCuentaView=Backbone.View.extend({el:"#plancuentas-create",template:_.template(a("#add-plancuentas-tpl").html()||""),events:{"change input#plancuentas_cuenta":"cuentaChanged","submit #form-plancuentas":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-plancuentas"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var a=this.model.toJSON();this.$wraperForm.html(this.template(a)),this.$nivel=this.$("#plancuentas_nivel"),"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck(),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2()},cuentaChanged:function(c){var d=this;a.ajax({url:b.Misc.urlFull(Route.route("plancuentas.nivel")),type:"GET",data:{plancuentas_cuenta:a(c.currentTarget).val()},beforeSend:function(){d.$nivel.val(""),b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),a.success&&((_.isUndefined(a.nivel)||_.isNull(a.nivel)||!_.isNumber(a.nivel))&&alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."),d.$nivel.val(a.nivel))}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},onStore:function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b.Misc.formToJson(a.target);this.model.save(c,{patch:!0,silent:!0})}},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){if(b.Misc.removeSpinner(this.el),!_.isUndefined(c.success)){var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return void alertify.error(e);b.Misc.redirect(b.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:c.id})))}}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainPlanCuentasView=Backbone.View.extend({el:"#plancuentas-main",initialize:function(){this.$plancuentasSearchTable=this.$("#plancuentas-search-table"),this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("plancuentas.index")),columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva cuenta',className:"btn-sm",action:function(a,c,d,e){b.Misc.redirect(b.Misc.urlFull(Route.route("plancuentas.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(a,c,d,e){return'<a href="'+b.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:d.id}))+'">'+a+"</a>"}},{targets:1,width:"10%"},{targets:3,width:"10%",render:function(a,b,c,d){return"D"==a?"Débito":"Crédito"}},{targets:4,width:"10%",render:function(a,b,c,d){return a?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ContactItemView=Backbone.View.extend({tagName:"tr",template:_.template(a("#contact-item-list-tpl").html()||""),events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var a=this.model.toJSON();return this.$el.html(this.template(a)),this}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ContactsListView=Backbone.View.extend({el:"#browse-contact-list",events:{},parameters:{dataFilter:{}},initialize:function(b){b!==d&&_.isObject(b.parameters)&&(this.parameters=a.extend({},this.parameters,b.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(a){var b=new app.ContactItemView({model:a});this.$el.append(b.render().el)},addAll:function(){this.$el.html(""),this.collection.forEach(this.addOne,this)},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){
b.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.CreateTerceroView=Backbone.View.extend({el:"#tercero-create",template:_.template(a("#add-tercero-tpl").html()||""),templateName:_.template(a("#tercero-name-tpl").html()||""),events:{"change input#tercero_nit":"nitChanged","change select#tercero_persona":"personaChanged","change select#tercero_actividad":"actividadChanged","submit #form-create-tercero":"onStore"},initialize:function(a){this.msgSuccess="Tercero guardado con exito!",this.$wraperForm=this.$("#render-form-tercero"),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:tercero_persona",this.renderName),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var a=this.model.toJSON();this.$wraperForm.html(this.template(a)),this.model.id==d?this.renderName():(this.contactsList=new app.ContactsList,this.referenceViews()),this.$dv=this.$("#tercero_digito"),this.$retecree=this.$("#tercero_retecree"),this.ready()},renderName:function(a,b,c){this.$("#content-render-name").html(this.templateName(this.model.toJSON())),this.ready()},ready:function(){"function"==typeof b.initComponent.initToUpper&&b.initComponent.initToUpper(),"function"==typeof b.initComponent.initInputMask&&b.initComponent.initInputMask(),"function"==typeof b.initComponent.initSelect2&&b.initComponent.initSelect2(),"function"==typeof b.initComponent.initICheck&&b.initComponent.initICheck()},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}})},nitChanged:function(c){var d=this;a.ajax({url:b.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:a(c.currentTarget).val()},beforeSend:function(){b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),a.success&&d.$dv.val(a.dv)}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},personaChanged:function(b){this.model.set({tercero_persona:a(b.currentTarget).val()})},actividadChanged:function(c){var d=this;a.ajax({url:b.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:a(c.currentTarget).val()},beforeSend:function(){b.Misc.setSpinner(d.el)}}).done(function(a){b.Misc.removeSpinner(d.el),a.success&&(_.isUndefined(a.rcree)||_.isNull(a.rcree)||d.$retecree.html(a.rcree))}).fail(function(a,c,e){b.Misc.removeSpinner(d.el),alertify.error(e)})},onStore:function(a){if(!a.isDefaultPrevented()){a.preventDefault();var c=b.Misc.formToJson(a.target);this.model.save(c,{patch:!0})}},loadSpinner:function(a,c,d){b.Misc.setSpinner(this.el)},responseServer:function(a,c,d){if(b.Misc.removeSpinner(this.el),!_.isUndefined(c.success)){var e=c.success?"":c.errors;if(_.isObject(c.errors)&&(e=b.Misc.parseErrors(c.errors)),!c.success)return void alertify.error(e);b.Misc.redirect(b.Misc.urlFull(Route.route("terceros.show",{terceros:c.id})))}}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.MainTerceroView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.$tercerosSearchTable=this.$("#terceros-search-table"),this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:b.Misc.dataTableES(),ajax:b.Misc.urlFull(Route.route("terceros.index")),columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo tercero',className:"btn-sm",action:function(a,c,d,e){b.Misc.redirect(b.Misc.urlFull(Route.route("terceros.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(a,c,d,e){return'<a href="'+b.Misc.urlFull(Route.route("terceros.show",{terceros:d.id}))+'">'+a+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c,d){app.ShowTerceroView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.model.id!=d&&(this.contactsList=new app.ContactsList,this.referenceViews())},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(a,b,c){app.AsientoCuentasList=Backbone.Collection.extend({url:function(){return a.Misc.urlFull(Route.route("asientos.detalle.index"))},model:app.Asiento2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(a,b,c){app.ContactsList=Backbone.Collection.extend({url:function(){return a.Misc.urlFull(Route.route("terceros.contactos.index"))},model:app.ContactoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(a,b,c,d){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","terceros(/)":"getTercerosMain","terceros/create(/)":"getTercerosCreate","terceros/:tercero(/)":"getTercerosShow","terceros/:tercero/edit(/)":"getTercerosEdit","empresa(/)":"getEmpresaEdit","municipios(/)":"getMunicipiosMain","departamentos(/)":"getDepartamentosMain","actividades(/)":"getActividadesMain","plancuentas(/)":"getPlanCuentasMain","plancuentas/create(/)":"getPlanCuentasCreate","plancuentas/:plancuenta/edit(/)":"getPlanCuentasEdit","centroscosto(/)":"getCentrosCostoMain","centroscosto/create(/)":"getCentrosCostoCreate","centroscosto/:centrocosto/edit(/)":"getCentrosCostoEdit","asientos(/)":"getAsientosMain","asientos/create(/)":"getAsientosCreate","asientos/:asientos(/)":"getAsientosShow"},initialize:function(a){this.componentAddressView=new app.ComponentAddressView,this.componentCreateResourceView=new app.ComponentCreateResourceView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView,this.componentSearchCuentaView=new app.ComponentSearchCuentaView,this.componentDocumentView=new app.ComponentDocumentView},start:function(){var a={pushState:!0};"-1"!=c.domain.search("localhost")&&(a.root="/vaziko/public/"),Backbone.history.start(a)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getTercerosMain:function(){this.mainTerceroView instanceof Backbone.View&&(this.mainTerceroView.stopListening(),this.mainTerceroView.undelegateEvents()),this.mainTerceroView=new app.MainTerceroView},getTercerosCreate:function(){this.terceroModel=new app.TerceroModel,this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.createTerceroView.render()},getTercerosShow:function(a){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:a},{silent:!0}),this.showTerceroView instanceof Backbone.View&&(this.showTerceroView.stopListening(),this.showTerceroView.undelegateEvents()),this.showTerceroView=new app.ShowTerceroView({model:this.terceroModel})},getTercerosEdit:function(a){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:a},{silent:!0}),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.terceroModel.fetch()},getEmpresaEdit:function(){this.empresaModel=new app.EmpresaModel,this.createEmpresaView instanceof Backbone.View&&(this.createEmpresaView.stopListening(),this.createEmpresaView.undelegateEvents()),this.createEmpresaView=new app.CreateEmpresaView({model:this.empresaModel}),this.empresaModel.fetch()},getMunicipiosMain:function(){this.mainMunicipioView instanceof Backbone.View&&(this.mainMunicipioView.stopListening(),this.mainMunicipioView.undelegateEvents()),this.mainMunicipioView=new app.MainMunicipioView},getDepartamentosMain:function(){this.mainDepartamentoView instanceof Backbone.View&&(this.mainDepartamentoView.stopListening(),this.mainDepartamentoView.undelegateEvents()),this.mainDepartamentoView=new app.MainDepartamentoView},getActividadesMain:function(){this.mainActividadView instanceof Backbone.View&&(this.mainActividadView.stopListening(),this.mainActividadView.undelegateEvents()),this.mainActividadView=new app.MainActividadView},getPlanCuentasMain:function(){this.mainPlanCuentasView instanceof Backbone.View&&(this.mainPlanCuentasView.stopListening(),this.mainPlanCuentasView.undelegateEvents()),this.mainPlanCuentasView=new app.MainPlanCuentasView},getPlanCuentasCreate:function(){this.planCuentaModel=new app.PlanCuentaModel,this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.createPlanCuentaView.render()},getPlanCuentasEdit:function(a){this.planCuentaModel=new app.PlanCuentaModel,this.planCuentaModel.set({id:a},{silent:!0}),this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.planCuentaModel.fetch()},getCentrosCostoMain:function(){this.mainCentrosCostoView instanceof Backbone.View&&(this.mainCentrosCostoView.stopListening(),this.mainCentrosCostoView.undelegateEvents()),this.mainCentrosCostoView=new app.MainCentrosCostoView},getCentrosCostoCreate:function(){this.centroCostoModel=new app.CentroCostoModel,this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.createCentroCostoView.render()},getCentrosCostoEdit:function(a){this.centroCostoModel=new app.CentroCostoModel,this.centroCostoModel.set({id:a},{silent:!0}),this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.centroCostoModel.fetch()},getAsientosMain:function(){this.mainAsientosView instanceof Backbone.View&&(this.mainAsientosView.stopListening(),this.mainAsientosView.undelegateEvents()),this.mainAsientosView=new app.MainAsientosView},getAsientosCreate:function(){this.asientoModel=new app.AsientoModel,this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.createAsientoView=new app.CreateAsientoView({model:this.asientoModel}),this.createAsientoView.render()},getAsientosShow:function(a){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:a},{silent:!0}),this.showAsientoView instanceof Backbone.View&&(this.showAsientoView.stopListening(),this.showAsientoView.undelegateEvents()),this.showAsientoView=new app.ShowAsientoView({model:this.asientoModel})}}))}(jQuery,this,this.document);var app=app||{};!function(a,b,c,d){var e=function(){a.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")}})};e.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initInputMask(),this.initSelect2(),this.initToUpper()},initApp:function(){b.app.AppRouter.start()},initICheck:function(){a("input").iCheck({checkboxClass:"icheckbox_minimal-green",radioClass:"iradio_minimal-green"})},initAlertify:function(){alertify.logPosition("bottom right")},initInputMask:function(){a("[data-mask]").inputmask()},initSelect2:function(){a(".select2-default").select2({language:"es",placeholder:"Seleccione"}),a(".select2-default-clear").select2({language:"es",placeholder:"Seleccione",allowClear:!0})},initToUpper:function(){a(".input-toupper").keyup(function(){a(this).val(a(this).val().toUpperCase())})}},a(function(){b.initComponent=new e,b.initComponent.initialize()})}(jQuery,this,this.document);